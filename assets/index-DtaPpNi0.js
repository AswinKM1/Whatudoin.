(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Zm={exports:{}},su={};var M0;function qI(){if(M0)return su;M0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:e,type:r,key:c,ref:o!==void 0?o:null,props:u}}return su.Fragment=t,su.jsx=n,su.jsxs=n,su}var O0;function FI(){return O0||(O0=1,Zm.exports=qI()),Zm.exports}var Vt=FI(),Jm={exports:{}},St={};var N0;function HI(){if(N0)return St;N0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function V(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,F={};function X(x,W,st){this.props=x,this.context=W,this.refs=F,this.updater=st||L}X.prototype.isReactComponent={},X.prototype.setState=function(x,W){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,W,"setState")},X.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function et(){}et.prototype=X.prototype;function J(x,W,st){this.props=x,this.context=W,this.refs=F,this.updater=st||L}var ht=J.prototype=new et;ht.constructor=J,G(ht,X.prototype),ht.isPureReactComponent=!0;var rt=Array.isArray;function ot(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(x,W,st){var ct=st.ref;return{$$typeof:e,type:x,key:W,ref:ct!==void 0?ct:null,props:st}}function N(x,W){return C(x.type,W,x.props)}function M(x){return typeof x=="object"&&x!==null&&x.$$typeof===e}function k(x){var W={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(st){return W[st]})}var I=/\/+/g;function te(x,W){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):W.toString(36)}function fe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ot,ot):(x.status="pending",x.then(function(W){x.status==="pending"&&(x.status="fulfilled",x.value=W)},function(W){x.status==="pending"&&(x.status="rejected",x.reason=W)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Y(x,W,st,ct,Et){var It=typeof x;(It==="undefined"||It==="boolean")&&(x=null);var Bt=!1;if(x===null)Bt=!0;else switch(It){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(x.$$typeof){case e:case t:Bt=!0;break;case _:return Bt=x._init,Y(Bt(x._payload),W,st,ct,Et)}}if(Bt)return Et=Et(x),Bt=ct===""?"."+te(x,0):ct,rt(Et)?(st="",Bt!=null&&(st=Bt.replace(I,"$&/")+"/"),Y(Et,W,st,"",function(Ir){return Ir})):Et!=null&&(M(Et)&&(Et=N(Et,st+(Et.key==null||x&&x.key===Et.key?"":(""+Et.key).replace(I,"$&/")+"/")+Bt)),W.push(Et)),1;Bt=0;var xe=ct===""?".":ct+":";if(rt(x))for(var ae=0;ae<x.length;ae++)ct=x[ae],It=xe+te(ct,ae),Bt+=Y(ct,W,st,It,Et);else if(ae=V(x),typeof ae=="function")for(x=ae.call(x),ae=0;!(ct=x.next()).done;)ct=ct.value,It=xe+te(ct,ae++),Bt+=Y(ct,W,st,It,Et);else if(It==="object"){if(typeof x.then=="function")return Y(fe(x),W,st,ct,Et);throw W=String(x),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function nt(x,W,st){if(x==null)return x;var ct=[],Et=0;return Y(x,ct,"","",function(It){return W.call(st,It,Et++)}),ct}function ft(x){if(x._status===-1){var W=x._result;W=W(),W.then(function(st){(x._status===0||x._status===-1)&&(x._status=1,x._result=st)},function(st){(x._status===0||x._status===-1)&&(x._status=2,x._result=st)}),x._status===-1&&(x._status=0,x._result=W)}if(x._status===1)return x._result.default;throw x._result}var Ct=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Nt={map:nt,forEach:function(x,W,st){nt(x,function(){W.apply(this,arguments)},st)},count:function(x){var W=0;return nt(x,function(){W++}),W},toArray:function(x){return nt(x,function(W){return W})||[]},only:function(x){if(!M(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return St.Activity=E,St.Children=Nt,St.Component=X,St.Fragment=n,St.Profiler=o,St.PureComponent=J,St.StrictMode=r,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(x){return R.H.useMemoCache(x)}},St.cache=function(x){return function(){return x.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(x,W,st){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ct=G({},x.props),Et=x.key;if(W!=null)for(It in W.key!==void 0&&(Et=""+W.key),W)!w.call(W,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&W.ref===void 0||(ct[It]=W[It]);var It=arguments.length-2;if(It===1)ct.children=st;else if(1<It){for(var Bt=Array(It),xe=0;xe<It;xe++)Bt[xe]=arguments[xe+2];ct.children=Bt}return C(x.type,Et,ct)},St.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},St.createElement=function(x,W,st){var ct,Et={},It=null;if(W!=null)for(ct in W.key!==void 0&&(It=""+W.key),W)w.call(W,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(Et[ct]=W[ct]);var Bt=arguments.length-2;if(Bt===1)Et.children=st;else if(1<Bt){for(var xe=Array(Bt),ae=0;ae<Bt;ae++)xe[ae]=arguments[ae+2];Et.children=xe}if(x&&x.defaultProps)for(ct in Bt=x.defaultProps,Bt)Et[ct]===void 0&&(Et[ct]=Bt[ct]);return C(x,It,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(x){return{$$typeof:m,render:x}},St.isValidElement=M,St.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:ft}},St.memo=function(x,W){return{$$typeof:g,type:x,compare:W===void 0?null:W}},St.startTransition=function(x){var W=R.T,st={};R.T=st;try{var ct=x(),Et=R.S;Et!==null&&Et(st,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(ot,Ct)}catch(It){Ct(It)}finally{W!==null&&st.types!==null&&(W.types=st.types),R.T=W}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(x){return R.H.use(x)},St.useActionState=function(x,W,st){return R.H.useActionState(x,W,st)},St.useCallback=function(x,W){return R.H.useCallback(x,W)},St.useContext=function(x){return R.H.useContext(x)},St.useDebugValue=function(){},St.useDeferredValue=function(x,W){return R.H.useDeferredValue(x,W)},St.useEffect=function(x,W){return R.H.useEffect(x,W)},St.useEffectEvent=function(x){return R.H.useEffectEvent(x)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(x,W,st){return R.H.useImperativeHandle(x,W,st)},St.useInsertionEffect=function(x,W){return R.H.useInsertionEffect(x,W)},St.useLayoutEffect=function(x,W){return R.H.useLayoutEffect(x,W)},St.useMemo=function(x,W){return R.H.useMemo(x,W)},St.useOptimistic=function(x,W){return R.H.useOptimistic(x,W)},St.useReducer=function(x,W,st){return R.H.useReducer(x,W,st)},St.useRef=function(x){return R.H.useRef(x)},St.useState=function(x){return R.H.useState(x)},St.useSyncExternalStore=function(x,W,st){return R.H.useSyncExternalStore(x,W,st)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.1",St}var x0;function Vg(){return x0||(x0=1,Jm.exports=HI()),Jm.exports}var at=Vg(),tp={exports:{}},ru={},ep={exports:{}},np={};var P0;function GI(){return P0||(P0=1,(function(e){function t(Y,nt){var ft=Y.length;Y.push(nt);t:for(;0<ft;){var Ct=ft-1>>>1,Nt=Y[Ct];if(0<o(Nt,nt))Y[Ct]=nt,Y[ft]=Nt,ft=Ct;else break t}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var nt=Y[0],ft=Y.pop();if(ft!==nt){Y[0]=ft;t:for(var Ct=0,Nt=Y.length,x=Nt>>>1;Ct<x;){var W=2*(Ct+1)-1,st=Y[W],ct=W+1,Et=Y[ct];if(0>o(st,ft))ct<Nt&&0>o(Et,st)?(Y[Ct]=Et,Y[ct]=ft,Ct=ct):(Y[Ct]=st,Y[W]=ft,Ct=W);else if(ct<Nt&&0>o(Et,ft))Y[Ct]=Et,Y[ct]=ft,Ct=ct;else break t}}return nt}function o(Y,nt){var ft=Y.sortIndex-nt.sortIndex;return ft!==0?ft:Y.id-nt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();e.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,E=null,S=3,V=!1,L=!1,G=!1,F=!1,X=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ht(Y){for(var nt=n(g);nt!==null;){if(nt.callback===null)r(g);else if(nt.startTime<=Y)r(g),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=n(g)}}function rt(Y){if(G=!1,ht(Y),!L)if(n(p)!==null)L=!0,ot||(ot=!0,k());else{var nt=n(g);nt!==null&&fe(rt,nt.startTime-Y)}}var ot=!1,R=-1,w=5,C=-1;function N(){return F?!0:!(e.unstable_now()-C<w)}function M(){if(F=!1,ot){var Y=e.unstable_now();C=Y;var nt=!0;try{t:{L=!1,G&&(G=!1,et(R),R=-1),V=!0;var ft=S;try{e:{for(ht(Y),E=n(p);E!==null&&!(E.expirationTime>Y&&N());){var Ct=E.callback;if(typeof Ct=="function"){E.callback=null,S=E.priorityLevel;var Nt=Ct(E.expirationTime<=Y);if(Y=e.unstable_now(),typeof Nt=="function"){E.callback=Nt,ht(Y),nt=!0;break e}E===n(p)&&r(p),ht(Y)}else r(p);E=n(p)}if(E!==null)nt=!0;else{var x=n(g);x!==null&&fe(rt,x.startTime-Y),nt=!1}}break t}finally{E=null,S=ft,V=!1}nt=void 0}}finally{nt?k():ot=!1}}}var k;if(typeof J=="function")k=function(){J(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,te=I.port2;I.port1.onmessage=M,k=function(){te.postMessage(null)}}else k=function(){X(M,0)};function fe(Y,nt){R=X(function(){Y(e.unstable_now())},nt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var nt=3;break;default:nt=S}var ft=S;S=nt;try{return Y()}finally{S=ft}},e.unstable_requestPaint=function(){F=!0},e.unstable_runWithPriority=function(Y,nt){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ft=S;S=Y;try{return nt()}finally{S=ft}},e.unstable_scheduleCallback=function(Y,nt,ft){var Ct=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ct+ft:Ct):ft=Ct,Y){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=ft+Nt,Y={id:_++,callback:nt,priorityLevel:Y,startTime:ft,expirationTime:Nt,sortIndex:-1},ft>Ct?(Y.sortIndex=ft,t(g,Y),n(p)===null&&Y===n(g)&&(G?(et(R),R=-1):G=!0,fe(rt,ft-Ct))):(Y.sortIndex=Nt,t(p,Y),L||V||(L=!0,ot||(ot=!0,k()))),Y},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(Y){var nt=S;return function(){var ft=S;S=nt;try{return Y.apply(this,arguments)}finally{S=ft}}}})(np)),np}var k0;function KI(){return k0||(k0=1,ep.exports=GI()),ep.exports}var ip={exports:{}},tn={};var L0;function YI(){if(L0)return tn;L0=1;var e=Vg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:_}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,_)},tn.flushSync=function(p){var g=c.T,_=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=_,r.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,E=m(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:V}):_==="script"&&r.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=m(_,g.crossOrigin);r.d.L(p,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},tn.requestFormReset=function(p){r.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.2.1",tn}var U0;function QI(){if(U0)return ip.exports;U0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ip.exports=YI(),ip.exports}var z0;function XI(){if(z0)return ru;z0=1;var e=KI(),t=Vg(),n=QI();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),i;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,A=f.child;A;){if(A===a){v=!0,a=f,l=d;break}if(A===l){v=!0,l=f,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=f;break}if(A===l){v=!0,l=d,a=f;break}A=A.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function _(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=_(i),s!==null)return s;i=i.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case G:return"Fragment";case X:return"Profiler";case F:return"StrictMode";case rt:return"Suspense";case ot:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case L:return"Portal";case J:return i.displayName||"Context";case et:return(i._context.displayName||"Context")+".Consumer";case ht:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:te(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return te(i(s))}catch{}}return null}var fe=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ct=[],Nt=-1;function x(i){return{current:i}}function W(i){0>Nt||(i.current=Ct[Nt],Ct[Nt]=null,Nt--)}function st(i,s){Nt++,Ct[Nt]=i.current,i.current=s}var ct=x(null),Et=x(null),It=x(null),Bt=x(null);function xe(i,s){switch(st(It,s),st(Et,i),st(ct,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?t0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=t0(s),i=e0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(ct),st(ct,i)}function ae(){W(ct),W(Et),W(It)}function Ir(i){i.memoizedState!==null&&st(Bt,i);var s=ct.current,a=e0(s,i.type);s!==a&&(st(Et,i),st(ct,a))}function Ca(i){Et.current===i&&(W(ct),W(Et)),Bt.current===i&&(W(Bt),tu._currentValue=ft)}var Ia,Da;function pi(i){if(Ia===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ia=s&&s[1]||"",Da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+i+Da}var tl=!1;function Dr(i,s){if(!i||tl)return"";tl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var j=H}Reflect.construct(i,[],$)}else{try{$.call()}catch(H){j=H}i.call($.prototype)}}else{try{throw Error()}catch(H){j=H}($=i())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var D=v.split(`
`),B=A.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var K=`
`+D[l].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=l&&0<=f);break}}}finally{tl=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?pi(a):""}function el(i,s){switch(i.tag){case 26:case 27:case 5:return pi(i.type);case 16:return pi("Lazy");case 13:return i.child!==s&&s!==null?pi("Suspense Fallback"):pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Dr(i.type,!1);case 11:return Dr(i.type.render,!1);case 1:return Dr(i.type,!0);case 31:return pi("Activity");default:return""}}function nl(i){try{var s="",a=null;do s+=el(i,a),a=i,i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Pe=e.unstable_scheduleCallback,Cs=e.unstable_cancelCallback,td=e.unstable_shouldYield,tc=e.unstable_requestPaint,ln=e.unstable_now,Vr=e.unstable_getCurrentPriorityLevel,il=e.unstable_ImmediatePriority,sl=e.unstable_UserBlockingPriority,Is=e.unstable_NormalPriority,ed=e.unstable_LowPriority,ec=e.unstable_IdlePriority,nc=e.log,ic=e.unstable_setDisableYieldValue,$n=null,He=null;function Mn(i){if(typeof nc=="function"&&ic(i),He&&typeof He.setStrictMode=="function")try{He.setStrictMode($n,i)}catch{}}var ge=Math.clz32?Math.clz32:rc,sc=Math.log,Va=Math.LN2;function rc(i){return i>>>=0,i===0?32:31-(sc(i)/Va|0)|0}var gi=256,Mr=262144,Ae=4194304;function yi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _i(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,d=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=yi(l):(v&=A,v!==0?f=yi(v):a||(a=A&~i,a!==0&&(f=yi(a))))):(A=l&~d,A!==0?f=yi(A):v!==0?f=yi(v):a||(a=l&~i,a!==0&&(f=yi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Wn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function nd(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ac(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function vi(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Or(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function id(i,s,a,l,f,d){var v=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,D=i.expirationTimes,B=i.hiddenUpdates;for(a=v&~a;0<a;){var K=31-ge(a),$=1<<K;A[K]=0,D[K]=-1;var j=B[K];if(j!==null)for(B[K]=null,K=0;K<j.length;K++){var H=j[K];H!==null&&(H.lane&=-536870913)}a&=~$}l!==0&&Nr(i,l,0),d!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=d&~(v&~s))}function Nr(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-ge(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function rl(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-ge(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function al(i,s){var a=s&-s;return a=(a&42)!==0?1:xr(a),(a&(i.suspendedLanes|s))!==0?0:a}function xr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function oc(){var i=nt.p;return i!==0?i:(i=window.event,i===void 0?32:b0(i.type))}function Zn(i,s){var a=nt.p;try{return nt.p=i,s()}finally{nt.p=a}}var Jn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Jn,Be="__reactProps$"+Jn,Ti="__reactContainer$"+Jn,Ma="__reactEvents$"+Jn,sd="__reactListeners$"+Jn,lc="__reactHandles$"+Jn,uc="__reactResources$"+Jn,Ei="__reactMarker$"+Jn;function Oa(i){delete i[Se],delete i[Be],delete i[Ma],delete i[sd],delete i[lc]}function Ai(i){var s=i[Se];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Ti]||a[Se]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=l0(i);i!==null;){if(a=i[Se])return a;i=l0(i)}return s}i=a,a=i.parentNode}return null}function On(i){if(i=i[Se]||i[Ti]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function An(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Si(i){var s=i[uc];return s||(s=i[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function be(i){i[Ei]=!0}var ol=new Set,ll={};function bi(i,s){wi(i,s),wi(i+"Capture",s)}function wi(i,s){for(ll[i]=s,i=0;i<s.length;i++)ol.add(s[i])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cl={},hl={};function cc(i){return Ee.call(hl,i)?!0:Ee.call(cl,i)?!1:ul.test(i)?hl[i]=!0:(cl[i]=!0,!1)}function Na(i,s,a){if(cc(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Sn(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function we(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}function je(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ds(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function fl(i,s,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Yt(i){if(!i._valueTracker){var s=Ds(i)?"checked":"value";i._valueTracker=fl(i,s,""+i[s])}}function Pr(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=Ds(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function Ri(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var kr=/[\n"\\]/g;function dn(i){return i.replace(kr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xa(i,s,a,l,f,d,v,A){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),s!=null?v==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+je(s)):i.value!==""+je(s)&&(i.value=""+je(s)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),s!=null?dl(i,v,je(s)):a!=null?dl(i,v,je(a)):l!=null&&i.removeAttribute("value"),f==null&&d!=null&&(i.defaultChecked=!!d),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+je(A):i.removeAttribute("name")}function hc(i,s,a,l,f,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Yt(i);return}a=a!=null?""+je(a):"",s=s!=null?""+je(s):a,A||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v),Yt(i)}function dl(i,s,a){s==="number"&&Ri(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Vs(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+je(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function fc(i,s,a){if(s!=null&&(s=""+je(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+je(a):""}function Ms(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(fe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=je(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),Yt(i)}function mn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||dc.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function pl(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&ml(i,f,l)}else for(var d in s)s.hasOwnProperty(d)&&ml(i,d,s[d])}function Pa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(i){return Os.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ti(){}var gl=null;function Nn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ns=null,Ci=null;function Lr(i){var s=On(i);if(s&&(i=s.stateNode)){var a=i[Be]||null;t:switch(i=s.stateNode,s.type){case"input":if(xa(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[Be]||null;if(!f)throw Error(r(90));xa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&Pr(l)}break t;case"textarea":fc(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Vs(i,!!a.multiple,s,!1)}}}var La=!1;function xs(i,s,a){if(La)return i(s,a);La=!0;try{var l=i(s);return l}finally{if(La=!1,(Ns!==null||Ci!==null)&&(oh(),Ns&&(s=Ns,i=Ci,Ci=Ns=null,Lr(s),i)))for(s=0;s<i.length;s++)Lr(i[s])}}function ei(i,s){var a=i.stateNode;if(a===null)return null;var l=a[Be]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(xn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Ur=!1}var Ii=null,yl=null,zr=null;function _l(){if(zr)return zr;var i,s=yl,a=s.length,l,f="value"in Ii?Ii.value:Ii.textContent,d=f.length;for(i=0;i<a&&s[i]===f[i];i++);var v=a-i;for(l=1;l<=v&&s[a-l]===f[d-l];l++);return zr=f.slice(i,1<l?1-l:void 0)}function Br(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function $i(){return!0}function ni(){return!1}function Ge(i){function s(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$i:ni,this.isPropagationStopped=ni,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),s}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Ge(Wi),Ps=E({},Wi,{view:0,detail:0}),vl=Ge(Ps),ks,Ua,Vi,za=E({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vi&&(Vi&&i.type==="mousemove"?(ks=i.screenX-Vi.screenX,Ua=i.screenY-Vi.screenY):Ua=ks=0,Vi=i),ks)},movementY:function(i){return"movementY"in i?i.movementY:Ua}}),Tl=Ge(za),jr=E({},za,{dataTransfer:0}),pc=Ge(jr),gc=E({},Ps,{relatedTarget:0}),qr=Ge(gc),El=E({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),yc=Ge(El),Ba=E({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_c=Ge(Ba),vc=E({},Wi,{data:0}),Mi=Ge(vc),Tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Ac[i])?!!s[i]:!1}function Ls(){return Sc}var un=E({},Ps,{key:function(i){if(i.key){var s=Tc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Br(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ec[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(i){return i.type==="keypress"?Br(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Br(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),bc=Ge(un),wc=E({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Ge(wc),h=E({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),y=Ge(h),T=E({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ge(T),U=E({},za,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ge(U),it=E({},Wi,{newState:0,oldState:0}),wt=Ge(it),ye=[9,13,27,32],Ht=xn&&"CompositionEvent"in window,oe=null;xn&&"documentMode"in document&&(oe=document.documentMode);var Pn=xn&&"TextEvent"in window&&!oe,Oi=xn&&(!Ht||oe&&8<oe&&11>=oe),ii=" ",si=!1;function Fr(i,s){switch(i){case"keyup":return ye.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var qa=!1;function fC(i,s){switch(i){case"compositionend":return ja(s);case"keypress":return s.which!==32?null:(si=!0,ii);case"textInput":return i=s.data,i===ii&&si?null:i;default:return null}}function dC(i,s){if(qa)return i==="compositionend"||!Ht&&Fr(i,s)?(i=_l(),zr=yl=Ii=null,qa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Oi&&s.locale!=="ko"?null:s.data;default:return null}}var mC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h_(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!mC[i.type]:s==="textarea"}function f_(i,s,a,l){Ns?Ci?Ci.push(l):Ci=[l]:Ns=l,s=mh(s,"onChange"),0<s.length&&(a=new Di("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var Al=null,Sl=null;function pC(i){QT(i,0)}function Rc(i){var s=An(i);if(Pr(s))return i}function d_(i,s){if(i==="change")return s}var m_=!1;if(xn){var rd;if(xn){var ad="oninput"in document;if(!ad){var p_=document.createElement("div");p_.setAttribute("oninput","return;"),ad=typeof p_.oninput=="function"}rd=ad}else rd=!1;m_=rd&&(!document.documentMode||9<document.documentMode)}function g_(){Al&&(Al.detachEvent("onpropertychange",y_),Sl=Al=null)}function y_(i){if(i.propertyName==="value"&&Rc(Sl)){var s=[];f_(s,Sl,i,Nn(i)),xs(pC,s)}}function gC(i,s,a){i==="focusin"?(g_(),Al=s,Sl=a,Al.attachEvent("onpropertychange",y_)):i==="focusout"&&g_()}function yC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Rc(Sl)}function _C(i,s){if(i==="click")return Rc(s)}function vC(i,s){if(i==="input"||i==="change")return Rc(s)}function TC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var bn=typeof Object.is=="function"?Object.is:TC;function bl(i,s){if(bn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ee.call(s,f)||!bn(i[f],s[f]))return!1}return!0}function __(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function v_(i,s){var a=__(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=__(a)}}function T_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?T_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function E_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ri(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Ri(i.document)}return s}function od(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var EC=xn&&"documentMode"in document&&11>=document.documentMode,Fa=null,ld=null,wl=null,ud=!1;function A_(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ud||Fa==null||Fa!==Ri(l)||(l=Fa,"selectionStart"in l&&od(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wl&&bl(wl,l)||(wl=l,l=mh(ld,"onSelect"),0<l.length&&(s=new Di("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=Fa)))}function Hr(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Ha={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},cd={},S_={};xn&&(S_=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Gr(i){if(cd[i])return cd[i];if(!Ha[i])return i;var s=Ha[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in S_)return cd[i]=s[a];return i}var b_=Gr("animationend"),w_=Gr("animationiteration"),R_=Gr("animationstart"),AC=Gr("transitionrun"),SC=Gr("transitionstart"),bC=Gr("transitioncancel"),C_=Gr("transitionend"),I_=new Map,hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hd.push("scrollEnd");function ri(i,s){I_.set(i,s),bi(s,[i])}var Cc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},kn=[],Ga=0,fd=0;function Ic(){for(var i=Ga,s=fd=Ga=0;s<i;){var a=kn[s];kn[s++]=null;var l=kn[s];kn[s++]=null;var f=kn[s];kn[s++]=null;var d=kn[s];if(kn[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&D_(a,f,d)}}function Dc(i,s,a,l){kn[Ga++]=i,kn[Ga++]=s,kn[Ga++]=a,kn[Ga++]=l,fd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function dd(i,s,a,l){return Dc(i,s,a,l),Vc(i)}function Kr(i,s){return Dc(i,null,null,s),Vc(i)}function D_(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=i.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(f=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,f&&s!==null&&(f=31-ge(a),i=d.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Vc(i){if(50<Yl)throw Yl=0,Am=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ka={};function wC(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(i,s,a,l){return new wC(i,s,a,l)}function md(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ji(i,s){var a=i.alternate;return a===null?(a=wn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function V_(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Mc(i,s,a,l,f,d){var v=0;if(l=i,typeof i=="function")md(i)&&(v=1);else if(typeof i=="string")v=VI(i,a,ct.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case C:return i=wn(31,a,s,f),i.elementType=C,i.lanes=d,i;case G:return Yr(a.children,f,d,s);case F:v=8,f|=24;break;case X:return i=wn(12,a,s,f|2),i.elementType=X,i.lanes=d,i;case rt:return i=wn(13,a,s,f),i.elementType=rt,i.lanes=d,i;case ot:return i=wn(19,a,s,f),i.elementType=ot,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case J:v=10;break t;case et:v=9;break t;case ht:v=11;break t;case R:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=wn(v,a,s,f),s.elementType=i,s.type=l,s.lanes=d,s}function Yr(i,s,a,l){return i=wn(7,i,l,s),i.lanes=a,i}function pd(i,s,a){return i=wn(6,i,null,s),i.lanes=a,i}function M_(i){var s=wn(18,null,null,0);return s.stateNode=i,s}function gd(i,s,a){return s=wn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var O_=new WeakMap;function Ln(i,s){if(typeof i=="object"&&i!==null){var a=O_.get(i);return a!==void 0?a:(s={value:i,source:s,stack:nl(s)},O_.set(i,s),s)}return{value:i,source:s,stack:nl(s)}}var Ya=[],Qa=0,Oc=null,Rl=0,Un=[],zn=0,Us=null,Ni=1,xi="";function ts(i,s){Ya[Qa++]=Rl,Ya[Qa++]=Oc,Oc=i,Rl=s}function N_(i,s,a){Un[zn++]=Ni,Un[zn++]=xi,Un[zn++]=Us,Us=i;var l=Ni;i=xi;var f=32-ge(l)-1;l&=~(1<<f),a+=1;var d=32-ge(s)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ni=1<<32-ge(s)+f|a<<f|l,xi=d+i}else Ni=1<<d|a<<f|l,xi=i}function yd(i){i.return!==null&&(ts(i,1),N_(i,1,0))}function _d(i){for(;i===Oc;)Oc=Ya[--Qa],Ya[Qa]=null,Rl=Ya[--Qa],Ya[Qa]=null;for(;i===Us;)Us=Un[--zn],Un[zn]=null,xi=Un[--zn],Un[zn]=null,Ni=Un[--zn],Un[zn]=null}function x_(i,s){Un[zn++]=Ni,Un[zn++]=xi,Un[zn++]=Us,Ni=s.id,xi=s.overflow,Us=i}var Ke=null,ie=null,zt=!1,zs=null,Bn=!1,vd=Error(r(519));function Bs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(Ln(s,i)),vd}function P_(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[Se]=i,s[Be]=l,a){case"dialog":Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":case"embed":Ot("load",s);break;case"video":case"audio":for(a=0;a<Xl.length;a++)Ot(Xl[a],s);break;case"source":Ot("error",s);break;case"img":case"image":case"link":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"input":Ot("invalid",s),hc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",s);break;case"textarea":Ot("invalid",s),Ms(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||ZT(s.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",s),Ot("toggle",s)),l.onScroll!=null&&Ot("scroll",s),l.onScrollEnd!=null&&Ot("scrollend",s),l.onClick!=null&&(s.onclick=ti),s=!0):s=!1,s||Bs(i,!0)}function k_(i){for(Ke=i.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ke=Ke.return}}function Xa(i){if(i!==Ke)return!1;if(!zt)return k_(i),zt=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Lm(i.type,i.memoizedProps)),a=!a),a&&ie&&Bs(i),k_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=o0(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=o0(i)}else s===27?(s=ie,tr(i.type)?(i=qm,qm=null,ie=i):ie=s):ie=Ke?qn(i.stateNode.nextSibling):null;return!0}function Qr(){ie=Ke=null,zt=!1}function Td(){var i=zs;return i!==null&&(_n===null?_n=i:_n.push.apply(_n,i),zs=null),i}function Cl(i){zs===null?zs=[i]:zs.push(i)}var Ed=x(null),Xr=null,es=null;function js(i,s,a){st(Ed,s._currentValue),s._currentValue=a}function ns(i){i._currentValue=Ed.current,W(Ed)}function Ad(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Sd(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var D=0;D<s.length;D++)if(A.context===s[D]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Ad(d.return,a,i),l||(v=null);break t}d=A.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Ad(v,a,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function $a(i,s,a,l){i=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var A=f.type;bn(f.pendingProps.value,v.value)||(i!==null?i.push(A):i=[A])}}else if(f===Bt.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(tu):i=[tu])}f=f.return}i!==null&&Sd(s,i,a,l),s.flags|=262144}function Nc(i){for(i=i.firstContext;i!==null;){if(!bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function $r(i){Xr=i,es=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ye(i){return L_(Xr,i)}function xc(i,s){return Xr===null&&$r(i),L_(i,s)}function L_(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},es===null){if(i===null)throw Error(r(308));es=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else es=es.next=s;return a}var RC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},CC=e.unstable_scheduleCallback,IC=e.unstable_NormalPriority,Re={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new RC,data:new Map,refCount:0}}function Il(i){i.refCount--,i.refCount===0&&CC(IC,function(){i.controller.abort()})}var Dl=null,wd=0,Wa=0,Za=null;function DC(i,s){if(Dl===null){var a=Dl=[];wd=0,Wa=Im(),Za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wd++,s.then(U_,U_),s}function U_(){if(--wd===0&&Dl!==null){Za!==null&&(Za.status="fulfilled");var i=Dl;Dl=null,Wa=0,Za=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function VC(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var z_=Y.S;Y.S=function(i,s){AT=ln(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&DC(i,s),z_!==null&&z_(i,s)};var Wr=x(null);function Rd(){var i=Wr.current;return i!==null?i:ee.pooledCache}function Pc(i,s){s===null?st(Wr,Wr.current):st(Wr,s.pool)}function B_(){var i=Rd();return i===null?null:{parent:Re._currentValue,pool:i}}var Ja=Error(r(460)),Cd=Error(r(474)),kc=Error(r(542)),Lc={then:function(){}};function j_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function q_(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(ti,ti),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,H_(i),i;default:if(typeof s.status=="string")s.then(ti,ti);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,H_(i),i}throw Jr=s,Ja}}function Zr(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Jr=a,Ja):a}}var Jr=null;function F_(){if(Jr===null)throw Error(r(459));var i=Jr;return Jr=null,i}function H_(i){if(i===Ja||i===kc)throw Error(r(483))}var to=null,Vl=0;function Uc(i){var s=Vl;return Vl+=1,to===null&&(to=[]),q_(to,i,s)}function Ml(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function zc(i,s){throw s.$$typeof===S?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function G_(i){function s(P,O){if(i){var z=P.deletions;z===null?(P.deletions=[O],P.flags|=16):z.push(O)}}function a(P,O){if(!i)return null;for(;O!==null;)s(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function f(P,O){return P=Ji(P,O),P.index=0,P.sibling=null,P}function d(P,O,z){return P.index=z,i?(z=P.alternate,z!==null?(z=z.index,z<O?(P.flags|=67108866,O):z):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return i&&P.alternate===null&&(P.flags|=67108866),P}function A(P,O,z,Q){return O===null||O.tag!==6?(O=pd(z,P.mode,Q),O.return=P,O):(O=f(O,z),O.return=P,O)}function D(P,O,z,Q){var pt=z.type;return pt===G?K(P,O,z.props.children,Q,z.key):O!==null&&(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Zr(pt)===O.type)?(O=f(O,z.props),Ml(O,z),O.return=P,O):(O=Mc(z.type,z.key,z.props,null,P.mode,Q),Ml(O,z),O.return=P,O)}function B(P,O,z,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=gd(z,P.mode,Q),O.return=P,O):(O=f(O,z.children||[]),O.return=P,O)}function K(P,O,z,Q,pt){return O===null||O.tag!==7?(O=Yr(z,P.mode,Q,pt),O.return=P,O):(O=f(O,z),O.return=P,O)}function $(P,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=pd(""+O,P.mode,z),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return z=Mc(O.type,O.key,O.props,null,P.mode,z),Ml(z,O),z.return=P,z;case L:return O=gd(O,P.mode,z),O.return=P,O;case w:return O=Zr(O),$(P,O,z)}if(fe(O)||k(O))return O=Yr(O,P.mode,z,null),O.return=P,O;if(typeof O.then=="function")return $(P,Uc(O),z);if(O.$$typeof===J)return $(P,xc(P,O),z);zc(P,O)}return null}function j(P,O,z,Q){var pt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pt!==null?null:A(P,O,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===pt?D(P,O,z,Q):null;case L:return z.key===pt?B(P,O,z,Q):null;case w:return z=Zr(z),j(P,O,z,Q)}if(fe(z)||k(z))return pt!==null?null:K(P,O,z,Q,null);if(typeof z.then=="function")return j(P,O,Uc(z),Q);if(z.$$typeof===J)return j(P,O,xc(P,z),Q);zc(P,z)}return null}function H(P,O,z,Q,pt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return P=P.get(z)||null,A(O,P,""+Q,pt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case V:return P=P.get(Q.key===null?z:Q.key)||null,D(O,P,Q,pt);case L:return P=P.get(Q.key===null?z:Q.key)||null,B(O,P,Q,pt);case w:return Q=Zr(Q),H(P,O,z,Q,pt)}if(fe(Q)||k(Q))return P=P.get(z)||null,K(O,P,Q,pt,null);if(typeof Q.then=="function")return H(P,O,z,Uc(Q),pt);if(Q.$$typeof===J)return H(P,O,z,xc(O,Q),pt);zc(O,Q)}return null}function dt(P,O,z,Q){for(var pt=null,qt=null,mt=O,Dt=O=0,Pt=null;mt!==null&&Dt<z.length;Dt++){mt.index>Dt?(Pt=mt,mt=null):Pt=mt.sibling;var Ft=j(P,mt,z[Dt],Q);if(Ft===null){mt===null&&(mt=Pt);break}i&&mt&&Ft.alternate===null&&s(P,mt),O=d(Ft,O,Dt),qt===null?pt=Ft:qt.sibling=Ft,qt=Ft,mt=Pt}if(Dt===z.length)return a(P,mt),zt&&ts(P,Dt),pt;if(mt===null){for(;Dt<z.length;Dt++)mt=$(P,z[Dt],Q),mt!==null&&(O=d(mt,O,Dt),qt===null?pt=mt:qt.sibling=mt,qt=mt);return zt&&ts(P,Dt),pt}for(mt=l(mt);Dt<z.length;Dt++)Pt=H(mt,P,Dt,z[Dt],Q),Pt!==null&&(i&&Pt.alternate!==null&&mt.delete(Pt.key===null?Dt:Pt.key),O=d(Pt,O,Dt),qt===null?pt=Pt:qt.sibling=Pt,qt=Pt);return i&&mt.forEach(function(rr){return s(P,rr)}),zt&&ts(P,Dt),pt}function yt(P,O,z,Q){if(z==null)throw Error(r(151));for(var pt=null,qt=null,mt=O,Dt=O=0,Pt=null,Ft=z.next();mt!==null&&!Ft.done;Dt++,Ft=z.next()){mt.index>Dt?(Pt=mt,mt=null):Pt=mt.sibling;var rr=j(P,mt,Ft.value,Q);if(rr===null){mt===null&&(mt=Pt);break}i&&mt&&rr.alternate===null&&s(P,mt),O=d(rr,O,Dt),qt===null?pt=rr:qt.sibling=rr,qt=rr,mt=Pt}if(Ft.done)return a(P,mt),zt&&ts(P,Dt),pt;if(mt===null){for(;!Ft.done;Dt++,Ft=z.next())Ft=$(P,Ft.value,Q),Ft!==null&&(O=d(Ft,O,Dt),qt===null?pt=Ft:qt.sibling=Ft,qt=Ft);return zt&&ts(P,Dt),pt}for(mt=l(mt);!Ft.done;Dt++,Ft=z.next())Ft=H(mt,P,Dt,Ft.value,Q),Ft!==null&&(i&&Ft.alternate!==null&&mt.delete(Ft.key===null?Dt:Ft.key),O=d(Ft,O,Dt),qt===null?pt=Ft:qt.sibling=Ft,qt=Ft);return i&&mt.forEach(function(jI){return s(P,jI)}),zt&&ts(P,Dt),pt}function Jt(P,O,z,Q){if(typeof z=="object"&&z!==null&&z.type===G&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:t:{for(var pt=z.key;O!==null;){if(O.key===pt){if(pt=z.type,pt===G){if(O.tag===7){a(P,O.sibling),Q=f(O,z.props.children),Q.return=P,P=Q;break t}}else if(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Zr(pt)===O.type){a(P,O.sibling),Q=f(O,z.props),Ml(Q,z),Q.return=P,P=Q;break t}a(P,O);break}else s(P,O);O=O.sibling}z.type===G?(Q=Yr(z.props.children,P.mode,Q,z.key),Q.return=P,P=Q):(Q=Mc(z.type,z.key,z.props,null,P.mode,Q),Ml(Q,z),Q.return=P,P=Q)}return v(P);case L:t:{for(pt=z.key;O!==null;){if(O.key===pt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(P,O.sibling),Q=f(O,z.children||[]),Q.return=P,P=Q;break t}else{a(P,O);break}else s(P,O);O=O.sibling}Q=gd(z,P.mode,Q),Q.return=P,P=Q}return v(P);case w:return z=Zr(z),Jt(P,O,z,Q)}if(fe(z))return dt(P,O,z,Q);if(k(z)){if(pt=k(z),typeof pt!="function")throw Error(r(150));return z=pt.call(z),yt(P,O,z,Q)}if(typeof z.then=="function")return Jt(P,O,Uc(z),Q);if(z.$$typeof===J)return Jt(P,O,xc(P,z),Q);zc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(P,O.sibling),Q=f(O,z),Q.return=P,P=Q):(a(P,O),Q=pd(z,P.mode,Q),Q.return=P,P=Q),v(P)):a(P,O)}return function(P,O,z,Q){try{Vl=0;var pt=Jt(P,O,z,Q);return to=null,pt}catch(mt){if(mt===Ja||mt===kc)throw mt;var qt=wn(29,mt,null,P.mode);return qt.lanes=Q,qt.return=P,qt}finally{}}}var ta=G_(!0),K_=G_(!1),qs=!1;function Id(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Fs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Hs(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Vc(i),D_(i,null,a),s}return Dc(i,l,s,a),Vc(i)}function Ol(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,rl(i,a)}}function Vd(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Md=!1;function Nl(){if(Md){var i=Za;if(i!==null)throw i}}function xl(i,s,a,l){Md=!1;var f=i.updateQueue;qs=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,B=D.next;D.next=null,v===null?d=B:v.next=B,v=D;var K=i.alternate;K!==null&&(K=K.updateQueue,A=K.lastBaseUpdate,A!==v&&(A===null?K.firstBaseUpdate=B:A.next=B,K.lastBaseUpdate=D))}if(d!==null){var $=f.baseState;v=0,K=B=D=null,A=d;do{var j=A.lane&-536870913,H=j!==A.lane;if(H?(xt&j)===j:(l&j)===j){j!==0&&j===Wa&&(Md=!0),K!==null&&(K=K.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var dt=i,yt=A;j=s;var Jt=a;switch(yt.tag){case 1:if(dt=yt.payload,typeof dt=="function"){$=dt.call(Jt,$,j);break t}$=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=yt.payload,j=typeof dt=="function"?dt.call(Jt,$,j):dt,j==null)break t;$=E({},$,j);break t;case 2:qs=!0}}j=A.callback,j!==null&&(i.flags|=64,H&&(i.flags|=8192),H=f.callbacks,H===null?f.callbacks=[j]:H.push(j))}else H={lane:j,tag:A.tag,payload:A.payload,callback:A.callback,next:null},K===null?(B=K=H,D=$):K=K.next=H,v|=j;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;H=A,A=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);K===null&&(D=$),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),Xs|=v,i.lanes=v,i.memoizedState=$}}function Y_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Q_(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Y_(a[i],s)}var eo=x(null),Bc=x(0);function X_(i,s){i=hs,st(Bc,i),st(eo,s),hs=i|s.baseLanes}function Od(){st(Bc,hs),st(eo,eo.current)}function Nd(){hs=Bc.current,W(eo),W(Bc)}var Rn=x(null),jn=null;function Gs(i){var s=i.alternate;st(_e,_e.current&1),st(Rn,i),jn===null&&(s===null||eo.current!==null||s.memoizedState!==null)&&(jn=i)}function xd(i){st(_e,_e.current),st(Rn,i),jn===null&&(jn=i)}function $_(i){i.tag===22?(st(_e,_e.current),st(Rn,i),jn===null&&(jn=i)):Ks()}function Ks(){st(_e,_e.current),st(Rn,Rn.current)}function Cn(i){W(Rn),jn===i&&(jn=null),W(_e)}var _e=x(0);function jc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bm(a)||jm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var is=0,Rt=null,Wt=null,Ce=null,qc=!1,no=!1,ea=!1,Fc=0,Pl=0,io=null,MC=0;function de(){throw Error(r(321))}function Pd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!bn(i[a],s[a]))return!1;return!0}function kd(i,s,a,l,f,d){return is=d,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=i===null||i.memoizedState===null?Nv:Wd,ea=!1,d=a(l,f),ea=!1,no&&(d=Z_(s,a,l,f)),W_(i),d}function W_(i){Y.H=Ul;var s=Wt!==null&&Wt.next!==null;if(is=0,Ce=Wt=Rt=null,qc=!1,Pl=0,io=null,s)throw Error(r(300));i===null||Ie||(i=i.dependencies,i!==null&&Nc(i)&&(Ie=!0))}function Z_(i,s,a,l){Rt=i;var f=0;do{if(no&&(io=null),Pl=0,no=!1,25<=f)throw Error(r(301));if(f+=1,Ce=Wt=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=xv,d=s(a,l)}while(no);return d}function OC(){var i=Y.H,s=i.useState()[0];return s=typeof s.then=="function"?kl(s):s,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Rt.flags|=1024),s}function Ld(){var i=Fc!==0;return Fc=0,i}function Ud(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function zd(i){if(qc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}qc=!1}is=0,Ce=Wt=Rt=null,no=!1,Pl=Fc=0,io=null}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Rt.memoizedState=Ce=i:Ce=Ce.next=i,Ce}function ve(){if(Wt===null){var i=Rt.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var s=Ce===null?Rt.memoizedState:Ce.next;if(s!==null)Ce=s,Wt=i;else{if(i===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ce===null?Rt.memoizedState=Ce=i:Ce=Ce.next=i}return Ce}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(i){var s=Pl;return Pl+=1,io===null&&(io=[]),i=q_(io,i,s),s=Rt,(Ce===null?s.memoizedState:Ce.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?Nv:Wd),i}function Gc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return kl(i);if(i.$$typeof===J)return Ye(i)}throw Error(r(438,String(i)))}function Bd(i){var s=null,a=Rt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Hc(),Rt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=N;return s.index++,a}function ss(i,s){return typeof s=="function"?s(i):s}function Kc(i){var s=ve();return jd(s,Wt,i)}function jd(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}s.baseQueue=f=d,l.pending=null}if(d=i.baseState,f===null)i.memoizedState=d;else{s=f.next;var A=v=null,D=null,B=s,K=!1;do{var $=B.lane&-536870913;if($!==B.lane?(xt&$)===$:(is&$)===$){var j=B.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Wa&&(K=!0);else if((is&j)===j){B=B.next,j===Wa&&(K=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(A=D=$,v=d):D=D.next=$,Rt.lanes|=j,Xs|=j;$=B.action,ea&&a(d,$),d=B.hasEagerState?B.eagerState:a(d,$)}else j={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(A=D=j,v=d):D=D.next=j,Rt.lanes|=$,Xs|=$;B=B.next}while(B!==null&&B!==s);if(D===null?v=d:D.next=A,!bn(d,i.memoizedState)&&(Ie=!0,K&&(a=Za,a!==null)))throw a;i.memoizedState=d,i.baseState=v,i.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function qd(i){var s=ve(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=i(d,v.action),v=v.next;while(v!==f);bn(d,s.memoizedState)||(Ie=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function J_(i,s,a){var l=Rt,f=ve(),d=zt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!bn((Wt||f).memoizedState,a);if(v&&(f.memoizedState=a,Ie=!0),f=f.queue,Gd(nv.bind(null,l,f,i),[i]),f.getSnapshot!==s||v||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,so(9,{destroy:void 0},ev.bind(null,l,f,a,s),null),ee===null)throw Error(r(349));d||(is&127)!==0||tv(l,s,a)}return a}function tv(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Rt.updateQueue,s===null?(s=Hc(),Rt.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function ev(i,s,a,l){s.value=a,s.getSnapshot=l,iv(s)&&sv(i)}function nv(i,s,a){return a(function(){iv(s)&&sv(i)})}function iv(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!bn(i,a)}catch{return!0}}function sv(i){var s=Kr(i,2);s!==null&&vn(s,i,2)}function Fd(i){var s=cn();if(typeof i=="function"){var a=i;if(i=a(),ea){Mn(!0);try{a()}finally{Mn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:i},s}function rv(i,s,a,l){return i.baseState=a,jd(i,Wt,typeof l=="function"?l:ss)}function NC(i,s,a,l,f){if(Xc(i))throw Error(r(485));if(i=s.action,i!==null){var d={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,av(s,d)):(d.next=a.next,s.pending=a.next=d)}}function av(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var d=Y.T,v={};Y.T=v;try{var A=a(f,l),D=Y.S;D!==null&&D(v,A),ov(i,s,A)}catch(B){Hd(i,s,B)}finally{d!==null&&v.types!==null&&(d.types=v.types),Y.T=d}}else try{d=a(f,l),ov(i,s,d)}catch(B){Hd(i,s,B)}}function ov(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){lv(i,s,l)},function(l){return Hd(i,s,l)}):lv(i,s,a)}function lv(i,s,a){s.status="fulfilled",s.value=a,uv(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,av(i,a)))}function Hd(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,uv(s),s=s.next;while(s!==l)}i.action=null}function uv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function cv(i,s){return s}function hv(i,s){if(zt){var a=ee.formState;if(a!==null){t:{var l=Rt;if(zt){if(ie){e:{for(var f=ie,d=Bn;f.nodeType!==8;){if(!d){f=null;break e}if(f=qn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ie=qn(f.nextSibling),l=f.data==="F!";break t}}Bs(l)}l=!1}l&&(s=a[0])}}return a=cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cv,lastRenderedState:s},a.queue=l,a=Vv.bind(null,Rt,l),l.dispatch=a,l=Fd(!1),d=$d.bind(null,Rt,!1,l.queue),l=cn(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=NC.bind(null,Rt,f,d,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function fv(i){var s=ve();return dv(s,Wt,i)}function dv(i,s,a){if(s=jd(i,s,cv)[0],i=Kc(ss)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=kl(s)}catch(v){throw v===Ja?kc:v}else l=s;s=ve();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Rt.flags|=2048,so(9,{destroy:void 0},xC.bind(null,f,a),null)),[l,d,i]}function xC(i,s){i.action=s}function mv(i){var s=ve(),a=Wt;if(a!==null)return dv(s,a,i);ve(),s=s.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function so(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Rt.updateQueue,s===null&&(s=Hc(),Rt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function pv(){return ve().memoizedState}function Yc(i,s,a,l){var f=cn();Rt.flags|=i,f.memoizedState=so(1|s,{destroy:void 0},a,l===void 0?null:l)}function Qc(i,s,a,l){var f=ve();l=l===void 0?null:l;var d=f.memoizedState.inst;Wt!==null&&l!==null&&Pd(l,Wt.memoizedState.deps)?f.memoizedState=so(s,d,a,l):(Rt.flags|=i,f.memoizedState=so(1|s,d,a,l))}function gv(i,s){Yc(8390656,8,i,s)}function Gd(i,s){Qc(2048,8,i,s)}function PC(i){Rt.flags|=4;var s=Rt.updateQueue;if(s===null)s=Hc(),Rt.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function yv(i){var s=ve().memoizedState;return PC({ref:s,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function _v(i,s){return Qc(4,2,i,s)}function vv(i,s){return Qc(4,4,i,s)}function Tv(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Ev(i,s,a){a=a!=null?a.concat([i]):null,Qc(4,4,Tv.bind(null,s,i),a)}function Kd(){}function Av(i,s){var a=ve();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Pd(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function Sv(i,s){var a=ve();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Pd(s,l[1]))return l[0];if(l=i(),ea){Mn(!0);try{i()}finally{Mn(!1)}}return a.memoizedState=[l,s],l}function Yd(i,s,a){return a===void 0||(is&1073741824)!==0&&(xt&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=bT(),Rt.lanes|=i,Xs|=i,a)}function bv(i,s,a,l){return bn(a,s)?a:eo.current!==null?(i=Yd(i,a,l),bn(i,s)||(Ie=!0),i):(is&42)===0||(is&1073741824)!==0&&(xt&261930)===0?(Ie=!0,i.memoizedState=a):(i=bT(),Rt.lanes|=i,Xs|=i,s)}function wv(i,s,a,l,f){var d=nt.p;nt.p=d!==0&&8>d?d:8;var v=Y.T,A={};Y.T=A,$d(i,!1,s,a);try{var D=f(),B=Y.S;if(B!==null&&B(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=VC(D,l);Ll(i,s,K,Vn(i))}else Ll(i,s,l,Vn(i))}catch($){Ll(i,s,{then:function(){},status:"rejected",reason:$},Vn())}finally{nt.p=d,v!==null&&A.types!==null&&(v.types=A.types),Y.T=v}}function kC(){}function Qd(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=Rv(i).queue;wv(i,f,s,ft,a===null?kC:function(){return Cv(i),a(l)})}function Rv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Cv(i){var s=Rv(i);s.next===null&&(s=i.alternate.memoizedState),Ll(i,s.next.queue,{},Vn())}function Xd(){return Ye(tu)}function Iv(){return ve().memoizedState}function Dv(){return ve().memoizedState}function LC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Vn();i=Fs(a);var l=Hs(s,i,a);l!==null&&(vn(l,s,a),Ol(l,s,a)),s={cache:bd()},i.payload=s;return}s=s.return}}function UC(i,s,a){var l=Vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xc(i)?Mv(s,a):(a=dd(i,s,a,l),a!==null&&(vn(a,i,l),Ov(a,s,l)))}function Vv(i,s,a){var l=Vn();Ll(i,s,a,l)}function Ll(i,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xc(i))Mv(s,f);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,A=d(v,a);if(f.hasEagerState=!0,f.eagerState=A,bn(A,v))return Dc(i,s,f,0),ee===null&&Ic(),!1}catch{}finally{}if(a=dd(i,s,f,l),a!==null)return vn(a,i,l),Ov(a,s,l),!0}return!1}function $d(i,s,a,l){if(l={lane:2,revertLane:Im(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xc(i)){if(s)throw Error(r(479))}else s=dd(i,a,l,2),s!==null&&vn(s,i,2)}function Xc(i){var s=i.alternate;return i===Rt||s!==null&&s===Rt}function Mv(i,s){no=qc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function Ov(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,rl(i,a)}}var Ul={readContext:Ye,use:Gc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Ul.useEffectEvent=de;var Nv={readContext:Ye,use:Gc,useCallback:function(i,s){return cn().memoizedState=[i,s===void 0?null:s],i},useContext:Ye,useEffect:gv,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Yc(4194308,4,Tv.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Yc(4194308,4,i,s)},useInsertionEffect:function(i,s){Yc(4,2,i,s)},useMemo:function(i,s){var a=cn();s=s===void 0?null:s;var l=i();if(ea){Mn(!0);try{i()}finally{Mn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=cn();if(a!==void 0){var f=a(s);if(ea){Mn(!0);try{a(s)}finally{Mn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=UC.bind(null,Rt,i),[l.memoizedState,i]},useRef:function(i){var s=cn();return i={current:i},s.memoizedState=i},useState:function(i){i=Fd(i);var s=i.queue,a=Vv.bind(null,Rt,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Kd,useDeferredValue:function(i,s){var a=cn();return Yd(a,i,s)},useTransition:function(){var i=Fd(!1);return i=wv.bind(null,Rt,i.queue,!0,!1),cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Rt,f=cn();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ee===null)throw Error(r(349));(xt&127)!==0||tv(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,gv(nv.bind(null,l,d,i),[i]),l.flags|=2048,so(9,{destroy:void 0},ev.bind(null,l,d,a,s),null),a},useId:function(){var i=cn(),s=ee.identifierPrefix;if(zt){var a=xi,l=Ni;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Fc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=MC++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Xd,useFormState:hv,useActionState:hv,useOptimistic:function(i){var s=cn();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=$d.bind(null,Rt,!0,a),a.dispatch=s,[i,s]},useMemoCache:Bd,useCacheRefresh:function(){return cn().memoizedState=LC.bind(null,Rt)},useEffectEvent:function(i){var s=cn(),a={impl:i};return s.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Wd={readContext:Ye,use:Gc,useCallback:Av,useContext:Ye,useEffect:Gd,useImperativeHandle:Ev,useInsertionEffect:_v,useLayoutEffect:vv,useMemo:Sv,useReducer:Kc,useRef:pv,useState:function(){return Kc(ss)},useDebugValue:Kd,useDeferredValue:function(i,s){var a=ve();return bv(a,Wt.memoizedState,i,s)},useTransition:function(){var i=Kc(ss)[0],s=ve().memoizedState;return[typeof i=="boolean"?i:kl(i),s]},useSyncExternalStore:J_,useId:Iv,useHostTransitionStatus:Xd,useFormState:fv,useActionState:fv,useOptimistic:function(i,s){var a=ve();return rv(a,Wt,i,s)},useMemoCache:Bd,useCacheRefresh:Dv};Wd.useEffectEvent=yv;var xv={readContext:Ye,use:Gc,useCallback:Av,useContext:Ye,useEffect:Gd,useImperativeHandle:Ev,useInsertionEffect:_v,useLayoutEffect:vv,useMemo:Sv,useReducer:qd,useRef:pv,useState:function(){return qd(ss)},useDebugValue:Kd,useDeferredValue:function(i,s){var a=ve();return Wt===null?Yd(a,i,s):bv(a,Wt.memoizedState,i,s)},useTransition:function(){var i=qd(ss)[0],s=ve().memoizedState;return[typeof i=="boolean"?i:kl(i),s]},useSyncExternalStore:J_,useId:Iv,useHostTransitionStatus:Xd,useFormState:mv,useActionState:mv,useOptimistic:function(i,s){var a=ve();return Wt!==null?rv(a,Wt,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Bd,useCacheRefresh:Dv};xv.useEffectEvent=yv;function Zd(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Jd={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=Vn(),f=Fs(l);f.payload=s,a!=null&&(f.callback=a),s=Hs(i,f,l),s!==null&&(vn(s,i,l),Ol(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=Vn(),f=Fs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Hs(i,f,l),s!==null&&(vn(s,i,l),Ol(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Vn(),l=Fs(a);l.tag=2,s!=null&&(l.callback=s),s=Hs(i,l,a),s!==null&&(vn(s,i,a),Ol(s,i,a))}};function Pv(i,s,a,l,f,d,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,d,v):s.prototype&&s.prototype.isPureReactComponent?!bl(a,l)||!bl(f,d):!0}function kv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&Jd.enqueueReplaceState(s,s.state,null)}function na(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=E({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function Lv(i){Cc(i)}function Uv(i){console.error(i)}function zv(i){Cc(i)}function $c(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Bv(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function tm(i,s,a){return a=Fs(a),a.tag=3,a.payload={element:null},a.callback=function(){$c(i,s)},a}function jv(i){return i=Fs(i),i.tag=3,i}function qv(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;i.payload=function(){return f(d)},i.callback=function(){Bv(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){Bv(s,a,l),typeof f!="function"&&($s===null?$s=new Set([this]):$s.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function zC(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&$a(s,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?lh():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Lc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),wm(i,l,f)),!1;case 22:return a.flags|=65536,l===Lc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),wm(i,l,f)),!1}throw Error(r(435,a.tag))}return wm(i,l,f),lh(),!1}if(zt)return s=Rn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==vd&&(i=Error(r(422),{cause:l}),Cl(Ln(i,a)))):(l!==vd&&(s=Error(r(423),{cause:l}),Cl(Ln(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Ln(l,a),f=tm(i.stateNode,l,f),Vd(i,f),me!==4&&(me=2)),!1;var d=Error(r(520),{cause:l});if(d=Ln(d,a),Kl===null?Kl=[d]:Kl.push(d),me!==4&&(me=2),s===null)return!0;l=Ln(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=tm(a.stateNode,l,i),Vd(a,i),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($s===null||!$s.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=jv(f),qv(f,i,a,l),Vd(a,f),!1}a=a.return}while(a!==null);return!1}var em=Error(r(461)),Ie=!1;function Qe(i,s,a,l){s.child=i===null?K_(s,null,a,l):ta(s,i.child,a,l)}function Fv(i,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return $r(s),l=kd(i,s,a,v,d,f),A=Ld(),i!==null&&!Ie?(Ud(i,s,f),rs(i,s,f)):(zt&&A&&yd(s),s.flags|=1,Qe(i,s,l,f),s.child)}function Hv(i,s,a,l,f){if(i===null){var d=a.type;return typeof d=="function"&&!md(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,Gv(i,s,d,l,f)):(i=Mc(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!um(i,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:bl,a(v,l)&&i.ref===s.ref)return rs(i,s,f)}return s.flags|=1,i=Ji(d,l),i.ref=s.ref,i.return=s,s.child=i}function Gv(i,s,a,l,f){if(i!==null){var d=i.memoizedProps;if(bl(d,l)&&i.ref===s.ref)if(Ie=!1,s.pendingProps=l=d,um(i,f))(i.flags&131072)!==0&&(Ie=!0);else return s.lanes=i.lanes,rs(i,s,f)}return nm(i,s,a,l,f)}function Kv(i,s,a,l){var f=l.children,d=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,i!==null){for(l=s.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return Yv(i,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Pc(s,d!==null?d.cachePool:null),d!==null?X_(s,d):Od(),$_(s);else return l=s.lanes=536870912,Yv(i,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Pc(s,d.cachePool),X_(s,d),Ks(),s.memoizedState=null):(i!==null&&Pc(s,null),Od(),Ks());return Qe(i,s,f,a),s.child}function zl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Yv(i,s,a,l,f){var d=Rd();return d=d===null?null:{parent:Re._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&Pc(s,null),Od(),$_(s),i!==null&&$a(i,s,l,!0),s.childLanes=f,null}function Wc(i,s){return s=Jc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Qv(i,s,a){return ta(s,i.child,null,a),i=Wc(s,s.pendingProps),i.flags|=2,Cn(s),s.memoizedState=null,i}function BC(i,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(zt){if(l.mode==="hidden")return i=Wc(s,l),s.lanes=536870912,zl(null,i);if(xd(s),(i=ie)?(i=a0(i,Bn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Us!==null?{id:Ni,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=M_(i),a.return=s,s.child=a,Ke=s,ie=null)):i=null,i===null)throw Bs(s);return s.lanes=536870912,null}return Wc(s,l)}var d=i.memoizedState;if(d!==null){var v=d.dehydrated;if(xd(s),f)if(s.flags&256)s.flags&=-257,s=Qv(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ie||$a(i,s,a,!1),f=(a&i.childLanes)!==0,Ie||f){if(l=ee,l!==null&&(v=al(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Kr(i,v),vn(l,i,v),em;lh(),s=Qv(i,s,a)}else i=d.treeContext,ie=qn(v.nextSibling),Ke=s,zt=!0,zs=null,Bn=!1,i!==null&&x_(s,i),s=Wc(s,l),s.flags|=4096;return s}return i=Ji(i.child,{mode:l.mode,children:l.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Zc(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function nm(i,s,a,l,f){return $r(s),a=kd(i,s,a,l,void 0,f),l=Ld(),i!==null&&!Ie?(Ud(i,s,f),rs(i,s,f)):(zt&&l&&yd(s),s.flags|=1,Qe(i,s,a,f),s.child)}function Xv(i,s,a,l,f,d){return $r(s),s.updateQueue=null,a=Z_(s,l,a,f),W_(i),l=Ld(),i!==null&&!Ie?(Ud(i,s,d),rs(i,s,d)):(zt&&l&&yd(s),s.flags|=1,Qe(i,s,a,d),s.child)}function $v(i,s,a,l,f){if($r(s),s.stateNode===null){var d=Ka,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ye(v)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Id(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ye(v):Ka,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Zd(s,a,v,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Jd.enqueueReplaceState(d,d.state,null),xl(s,l,d,f),Nl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){d=s.stateNode;var A=s.memoizedProps,D=na(a,A);d.props=D;var B=d.context,K=a.contextType;v=Ka,typeof K=="object"&&K!==null&&(v=Ye(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||B!==v)&&kv(s,d,l,v),qs=!1;var j=s.memoizedState;d.state=j,xl(s,l,d,f),Nl(),B=s.memoizedState,A||j!==B||qs?(typeof $=="function"&&(Zd(s,a,$,l),B=s.memoizedState),(D=qs||Pv(s,a,D,l,j,B,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=B),d.props=l,d.state=B,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Dd(i,s),v=s.memoizedProps,K=na(a,v),d.props=K,$=s.pendingProps,j=d.context,B=a.contextType,D=Ka,typeof B=="object"&&B!==null&&(D=Ye(B)),A=a.getDerivedStateFromProps,(B=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||j!==D)&&kv(s,d,l,D),qs=!1,j=s.memoizedState,d.state=j,xl(s,l,d,f),Nl();var H=s.memoizedState;v!==$||j!==H||qs||i!==null&&i.dependencies!==null&&Nc(i.dependencies)?(typeof A=="function"&&(Zd(s,a,A,l),H=s.memoizedState),(K=qs||Pv(s,a,K,l,j,H,D)||i!==null&&i.dependencies!==null&&Nc(i.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,D)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===i.memoizedProps&&j===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&j===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=H),d.props=l,d.state=H,d.context=D,l=K):(typeof d.componentDidUpdate!="function"||v===i.memoizedProps&&j===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&j===i.memoizedState||(s.flags|=1024),l=!1)}return d=l,Zc(i,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,i!==null&&l?(s.child=ta(s,i.child,null,f),s.child=ta(s,null,a,f)):Qe(i,s,a,f),s.memoizedState=d.state,i=s.child):i=rs(i,s,f),i}function Wv(i,s,a,l){return Qr(),s.flags|=256,Qe(i,s,a,l),s.child}var im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sm(i){return{baseLanes:i,cachePool:B_()}}function rm(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=Dn),i}function Zv(i,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=i!==null&&i.memoizedState===null?!1:(_e.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,i===null){if(zt){if(f?Gs(s):Ks(),(i=ie)?(i=a0(i,Bn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Us!==null?{id:Ni,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=M_(i),a.return=s,s.child=a,Ke=s,ie=null)):i=null,i===null)throw Bs(s);return jm(i)?s.lanes=32:s.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Ks(),f=s.mode,A=Jc({mode:"hidden",children:A},f),l=Yr(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,l=s.child,l.memoizedState=sm(a),l.childLanes=rm(i,v,a),s.memoizedState=im,zl(null,l)):(Gs(s),am(s,A))}var D=i.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(d)s.flags&256?(Gs(s),s.flags&=-257,s=om(i,s,a)):s.memoizedState!==null?(Ks(),s.child=i.child,s.flags|=128,s=null):(Ks(),A=l.fallback,f=s.mode,l=Jc({mode:"visible",children:l.children},f),A=Yr(A,f,a,null),A.flags|=2,l.return=s,A.return=s,l.sibling=A,s.child=l,ta(s,i.child,null,a),l=s.child,l.memoizedState=sm(a),l.childLanes=rm(i,v,a),s.memoizedState=im,s=zl(null,l));else if(Gs(s),jm(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(r(419)),l.stack="",l.digest=v,Cl({value:l,source:null,stack:null}),s=om(i,s,a)}else if(Ie||$a(i,s,a,!1),v=(a&i.childLanes)!==0,Ie||v){if(v=ee,v!==null&&(l=al(v,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Kr(i,l),vn(v,i,l),em;Bm(A)||lh(),s=om(i,s,a)}else Bm(A)?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,ie=qn(A.nextSibling),Ke=s,zt=!0,zs=null,Bn=!1,i!==null&&x_(s,i),s=am(s,l.children),s.flags|=4096);return s}return f?(Ks(),A=l.fallback,f=s.mode,D=i.child,B=D.sibling,l=Ji(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?A=Ji(B,A):(A=Yr(A,f,a,null),A.flags|=2),A.return=s,l.return=s,l.sibling=A,s.child=l,zl(null,l),l=s.child,A=i.child.memoizedState,A===null?A=sm(a):(f=A.cachePool,f!==null?(D=Re._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=B_(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=rm(i,v,a),s.memoizedState=im,zl(i.child,l)):(Gs(s),a=i.child,i=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(v=s.deletions,v===null?(s.deletions=[i],s.flags|=16):v.push(i)),s.child=a,s.memoizedState=null,a)}function am(i,s){return s=Jc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Jc(i,s){return i=wn(22,i,null,s),i.lanes=0,i}function om(i,s,a){return ta(s,i.child,null,a),i=am(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Jv(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),Ad(i.return,s,a)}function lm(i,s,a,l,f,d){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function tT(i,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=_e.current,A=(v&2)!==0;if(A?(v=v&1|2,s.flags|=128):v&=1,st(_e,v),Qe(i,s,l,a),l=zt?Rl:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Jv(i,a,s);else if(i.tag===19)Jv(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&jc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),lm(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&jc(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}lm(s,!0,a,null,d,l);break;case"together":lm(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function rs(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Xs|=s.lanes,(a&s.childLanes)===0)if(i!==null){if($a(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Ji(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Ji(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function um(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Nc(i)))}function jC(i,s,a){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),js(s,Re,i.memoizedState.cache),Qr();break;case 27:case 5:Ir(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:js(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,xd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Gs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Zv(i,s,a):(Gs(s),i=rs(i,s,a),i!==null?i.sibling:null);Gs(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||($a(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return tT(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(_e,_e.current),l)break;return null;case 22:return s.lanes=0,Kv(i,s,a,s.pendingProps);case 24:js(s,Re,i.memoizedState.cache)}return rs(i,s,a)}function eT(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ie=!0;else{if(!um(i,a)&&(s.flags&128)===0)return Ie=!1,jC(i,s,a);Ie=(i.flags&131072)!==0}else Ie=!1,zt&&(s.flags&1048576)!==0&&N_(s,Rl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(i=Zr(s.elementType),s.type=i,typeof i=="function")md(i)?(l=na(i,l),s.tag=1,s=$v(null,s,i,l,a)):(s.tag=0,s=nm(null,s,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===ht){s.tag=11,s=Fv(null,s,i,l,a);break t}else if(f===R){s.tag=14,s=Hv(null,s,i,l,a);break t}}throw s=te(i)||i,Error(r(306,s,""))}}return s;case 0:return nm(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=na(l,s.pendingProps),$v(i,s,l,f,a);case 3:t:{if(xe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Dd(i,s),xl(s,l,null,a);var v=s.memoizedState;if(l=v.cache,js(s,Re,l),l!==d.cache&&Sd(s,[Re],a,!0),Nl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Wv(i,s,l,a);break t}else if(l!==f){f=Ln(Error(r(424)),s),Cl(f),s=Wv(i,s,l,a);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ie=qn(i.firstChild),Ke=s,zt=!0,zs=null,Bn=!0,a=K_(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qr(),l===f){s=rs(i,s,a);break t}Qe(i,s,l,a)}s=s.child}return s;case 26:return Zc(i,s),i===null?(a=f0(s.type,null,s.pendingProps,null))?s.memoizedState=a:zt||(a=s.type,i=s.pendingProps,l=ph(It.current).createElement(a),l[Se]=s,l[Be]=i,Xe(l,a,i),be(l),s.stateNode=l):s.memoizedState=f0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ir(s),i===null&&zt&&(l=s.stateNode=u0(s.type,s.pendingProps,It.current),Ke=s,Bn=!0,f=ie,tr(s.type)?(qm=f,ie=qn(l.firstChild)):ie=f),Qe(i,s,s.pendingProps.children,a),Zc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&zt&&((f=l=ie)&&(l=yI(l,s.type,s.pendingProps,Bn),l!==null?(s.stateNode=l,Ke=s,ie=qn(l.firstChild),Bn=!1,f=!0):f=!1),f||Bs(s)),Ir(s),f=s.type,d=s.pendingProps,v=i!==null?i.memoizedProps:null,l=d.children,Lm(f,d)?l=null:v!==null&&Lm(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=kd(i,s,OC,null,null,a),tu._currentValue=f),Zc(i,s),Qe(i,s,l,a),s.child;case 6:return i===null&&zt&&((i=a=ie)&&(a=_I(a,s.pendingProps,Bn),a!==null?(s.stateNode=a,Ke=s,ie=null,i=!0):i=!1),i||Bs(s)),null;case 13:return Zv(i,s,a);case 4:return xe(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=ta(s,null,l,a):Qe(i,s,l,a),s.child;case 11:return Fv(i,s,s.type,s.pendingProps,a);case 7:return Qe(i,s,s.pendingProps,a),s.child;case 8:return Qe(i,s,s.pendingProps.children,a),s.child;case 12:return Qe(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,js(s,s.type,l.value),Qe(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,$r(s),f=Ye(f),l=l(f),s.flags|=1,Qe(i,s,l,a),s.child;case 14:return Hv(i,s,s.type,s.pendingProps,a);case 15:return Gv(i,s,s.type,s.pendingProps,a);case 19:return tT(i,s,a);case 31:return BC(i,s,a);case 22:return Kv(i,s,a,s.pendingProps);case 24:return $r(s),l=Ye(Re),i===null?(f=Rd(),f===null&&(f=ee,d=bd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Id(s),js(s,Re,f)):((i.lanes&a)!==0&&(Dd(i,s),xl(s,null,null,a),Nl()),f=i.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),js(s,Re,l)):(l=d.cache,js(s,Re,l),l!==f.cache&&Sd(s,[Re],a,!0))),Qe(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function as(i){i.flags|=4}function cm(i,s,a,l,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(IT())i.flags|=8192;else throw Jr=Lc,Cd}else i.flags&=-16777217}function nT(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!y0(s))if(IT())i.flags|=8192;else throw Jr=Lc,Cd}function th(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ac():536870912,i.lanes|=s,lo|=s)}function Bl(i,s){if(!zt)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function se(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function qC(i,s,a){var l=s.pendingProps;switch(_d(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(s),null;case 1:return se(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ns(Re),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Xa(s)?as(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Td())),se(s),null;case 26:var f=s.type,d=s.memoizedState;return i===null?(as(s),d!==null?(se(s),nT(s,d)):(se(s),cm(s,f,null,l,a))):d?d!==i.memoizedState?(as(s),se(s),nT(s,d)):(se(s),s.flags&=-16777217):(i=i.memoizedProps,i!==l&&as(s),se(s),cm(s,f,i,l,a)),null;case 27:if(Ca(s),a=It.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&as(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}i=ct.current,Xa(s)?P_(s):(i=u0(f,l,a),s.stateNode=i,as(s))}return se(s),null;case 5:if(Ca(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&as(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}if(d=ct.current,Xa(s))P_(s);else{var v=ph(It.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[Se]=s,d[Be]=l;t:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break t;for(;v.sibling===null;){if(v.return===null||v.return===s)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;t:switch(Xe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&as(s)}}return se(s),cm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&as(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=It.current,Xa(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=Ke,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Se]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ZT(i.nodeValue,a)),i||Bs(s,!0)}else i=ph(i).createTextNode(l),i[Se]=s,s.stateNode=i}return se(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(l=Xa(s),a!==null){if(i===null){if(!l)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Se]=s}else Qr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),i=!1}else a=Td(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(Cn(s),s):(Cn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return se(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Xa(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Se]=s}else Qr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),f=!1}else f=Td(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Cn(s),s):(Cn(s),null)}return Cn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),th(s,s.updateQueue),se(s),null);case 4:return ae(),i===null&&Om(s.stateNode.containerInfo),se(s),null;case 10:return ns(s.type),se(s),null;case 19:if(W(_e),l=s.memoizedState,l===null)return se(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Bl(l,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(d=jc(i),d!==null){for(s.flags|=128,Bl(l,!1),i=d.updateQueue,s.updateQueue=i,th(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)V_(a,i),a=a.sibling;return st(_e,_e.current&1|2),zt&&ts(s,l.treeForkCount),s.child}i=i.sibling}l.tail!==null&&ln()>rh&&(s.flags|=128,f=!0,Bl(l,!1),s.lanes=4194304)}else{if(!f)if(i=jc(d),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,th(s,i),Bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return se(s),null}else 2*ln()-l.renderingStartTime>rh&&a!==536870912&&(s.flags|=128,f=!0,Bl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(i=l.last,i!==null?i.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=ln(),i.sibling=null,a=_e.current,st(_e,f?a&1|2:a&1),zt&&ts(s,l.treeForkCount),i):(se(s),null);case 22:case 23:return Cn(s),Nd(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(se(s),s.subtreeFlags&6&&(s.flags|=8192)):se(s),a=s.updateQueue,a!==null&&th(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&W(Wr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ns(Re),se(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function FC(i,s){switch(_d(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ns(Re),ae(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ca(s),null;case 31:if(s.memoizedState!==null){if(Cn(s),s.alternate===null)throw Error(r(340));Qr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Cn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Qr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return W(_e),null;case 4:return ae(),null;case 10:return ns(s.type),null;case 22:case 23:return Cn(s),Nd(),i!==null&&W(Wr),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ns(Re),null;case 25:return null;default:return null}}function iT(i,s){switch(_d(s),s.tag){case 3:ns(Re),ae();break;case 26:case 27:case 5:Ca(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&Cn(s);break;case 13:Cn(s);break;case 19:W(_e);break;case 10:ns(s.type);break;case 22:case 23:Cn(s),Nd(),i!==null&&W(Wr);break;case 24:ns(Re)}}function jl(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(A){Xt(s,s.return,A)}}function Ys(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&i)===i){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,f=s;var D=a,B=A;try{B()}catch(K){Xt(f,D,K)}}}l=l.next}while(l!==d)}}catch(K){Xt(s,s.return,K)}}function sT(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Q_(s,a)}catch(l){Xt(i,i.return,l)}}}function rT(i,s,a){a.props=na(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(i,s,l)}}function ql(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Xt(i,s,f)}}function Pi(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xt(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(i,s,f)}else a.current=null}function aT(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xt(i,i.return,f)}}function hm(i,s,a){try{var l=i.stateNode;hI(l,i.type,a,s),l[Be]=s}catch(f){Xt(i,i.return,f)}}function oT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&tr(i.type)||i.tag===4}function fm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||oT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&tr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dm(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ti));else if(l!==4&&(l===27&&tr(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(dm(i,s,a),i=i.sibling;i!==null;)dm(i,s,a),i=i.sibling}function eh(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&tr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(eh(i,s,a),i=i.sibling;i!==null;)eh(i,s,a),i=i.sibling}function lT(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xe(s,l,a),s[Se]=i,s[Be]=a}catch(d){Xt(i,i.return,d)}}var os=!1,De=!1,mm=!1,uT=typeof WeakSet=="function"?WeakSet:Set,qe=null;function HC(i,s){if(i=i.containerInfo,Pm=Ah,i=E_(i),od(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,A=-1,D=-1,B=0,K=0,$=i,j=null;e:for(;;){for(var H;$!==a||f!==0&&$.nodeType!==3||(A=v+f),$!==d||l!==0&&$.nodeType!==3||(D=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(H=$.firstChild)!==null;)j=$,$=H;for(;;){if($===i)break e;if(j===a&&++B===f&&(A=v),j===d&&++K===l&&(D=v),(H=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=H}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(km={focusedElem:i,selectionRange:a},Ah=!1,qe=s;qe!==null;)if(s=qe,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,qe=i;else for(;qe!==null;){switch(s=qe,d=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=na(a.type,f);i=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=i}catch(yt){Xt(a,a.return,yt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)zm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":zm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,qe=i;break}qe=s.return}}function cT(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:us(i,a),l&4&&jl(5,a);break;case 1:if(us(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(v){Xt(a,a.return,v)}else{var f=na(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(a,a.return,v)}}l&64&&sT(a),l&512&&ql(a,a.return);break;case 3:if(us(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Q_(i,s)}catch(v){Xt(a,a.return,v)}}break;case 27:s===null&&l&4&&lT(a);case 26:case 5:us(i,a),s===null&&l&4&&aT(a),l&512&&ql(a,a.return);break;case 12:us(i,a);break;case 31:us(i,a),l&4&&dT(i,a);break;case 13:us(i,a),l&4&&mT(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=JC.bind(null,a),vI(i,a))));break;case 22:if(l=a.memoizedState!==null||os,!l){s=s!==null&&s.memoizedState!==null||De,f=os;var d=De;os=l,(De=s)&&!d?cs(i,a,(a.subtreeFlags&8772)!==0):us(i,a),os=f,De=d}break;case 30:break;default:us(i,a)}}function hT(i){var s=i.alternate;s!==null&&(i.alternate=null,hT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Oa(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var le=null,pn=!1;function ls(i,s,a){for(a=a.child;a!==null;)fT(i,s,a),a=a.sibling}function fT(i,s,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:De||Pi(a,s),ls(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Pi(a,s);var l=le,f=pn;tr(a.type)&&(le=a.stateNode,pn=!1),ls(i,s,a),Wl(a.stateNode),le=l,pn=f;break;case 5:De||Pi(a,s);case 6:if(l=le,f=pn,le=null,ls(i,s,a),le=l,pn=f,le!==null)if(pn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){Xt(a,s,d)}else try{le.removeChild(a.stateNode)}catch(d){Xt(a,s,d)}break;case 18:le!==null&&(pn?(i=le,s0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),yo(i)):s0(le,a.stateNode));break;case 4:l=le,f=pn,le=a.stateNode.containerInfo,pn=!0,ls(i,s,a),le=l,pn=f;break;case 0:case 11:case 14:case 15:Ys(2,a,s),De||Ys(4,a,s),ls(i,s,a);break;case 1:De||(Pi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&rT(a,s,l)),ls(i,s,a);break;case 21:ls(i,s,a);break;case 22:De=(l=De)||a.memoizedState!==null,ls(i,s,a),De=l;break;default:ls(i,s,a)}}function dT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{yo(i)}catch(a){Xt(s,s.return,a)}}}function mT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{yo(i)}catch(a){Xt(s,s.return,a)}}function GC(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new uT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new uT),s;default:throw Error(r(435,i.tag))}}function nh(i,s){var a=GC(i);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=tI.bind(null,i,l);l.then(f,f)}})}function gn(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=i,v=s,A=v;t:for(;A!==null;){switch(A.tag){case 27:if(tr(A.type)){le=A.stateNode,pn=!1;break t}break;case 5:le=A.stateNode,pn=!1;break t;case 3:case 4:le=A.stateNode.containerInfo,pn=!0;break t}A=A.return}if(le===null)throw Error(r(160));fT(d,v,f),le=null,pn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)pT(s,i),s=s.sibling}var ai=null;function pT(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:gn(s,i),yn(i),l&4&&(Ys(3,i,i.return),jl(3,i),Ys(5,i,i.return));break;case 1:gn(s,i),yn(i),l&512&&(De||a===null||Pi(a,a.return)),l&64&&os&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ai;if(gn(s,i),yn(i),l&512&&(De||a===null||Pi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ei]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xe(d,l,a),d[Se]=i,be(d),l=d;break t;case"link":var v=p0("link","href",f).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;case"meta":if(v=p0("meta","content",f).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Se]=i,be(d),l=d}i.stateNode=l}else g0(f,i.type,i.stateNode);else i.stateNode=m0(f,l,i.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?g0(f,i.type,i.stateNode):m0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&hm(i,i.memoizedProps,a.memoizedProps)}break;case 27:gn(s,i),yn(i),l&512&&(De||a===null||Pi(a,a.return)),a!==null&&l&4&&hm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(gn(s,i),yn(i),l&512&&(De||a===null||Pi(a,a.return)),i.flags&32){f=i.stateNode;try{mn(f,"")}catch(dt){Xt(i,i.return,dt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,hm(i,f,a!==null?a.memoizedProps:f)),l&1024&&(mm=!0);break;case 6:if(gn(s,i),yn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(dt){Xt(i,i.return,dt)}}break;case 3:if(_h=null,f=ai,ai=gh(s.containerInfo),gn(s,i),ai=f,yn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yo(s.containerInfo)}catch(dt){Xt(i,i.return,dt)}mm&&(mm=!1,gT(i));break;case 4:l=ai,ai=gh(i.stateNode.containerInfo),gn(s,i),yn(i),ai=l;break;case 12:gn(s,i),yn(i);break;case 31:gn(s,i),yn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,nh(i,l)));break;case 13:gn(s,i),yn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sh=ln()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,nh(i,l)));break;case 22:f=i.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=os,K=De;if(os=B||f,De=K||D,gn(s,i),De=K,os=B,yn(i),l&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||os||De||ia(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(d=D.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=D.stateNode;var $=D.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;A.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(dt){Xt(D,D.return,dt)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(dt){Xt(D,D.return,dt)}}}else if(s.tag===18){if(a===null){D=s;try{var H=D.stateNode;f?r0(H,!0):r0(D.stateNode,!1)}catch(dt){Xt(D,D.return,dt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nh(i,a))));break;case 19:gn(s,i),yn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,nh(i,l)));break;case 30:break;case 21:break;default:gn(s,i),yn(i)}}function yn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(oT(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=fm(i);eh(i,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(mn(v,""),a.flags&=-33);var A=fm(i);eh(i,A,v);break;case 3:case 4:var D=a.stateNode.containerInfo,B=fm(i);dm(i,B,D);break;default:throw Error(r(161))}}catch(K){Xt(i,i.return,K)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function gT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;gT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function us(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)cT(i,s.alternate,s),s=s.sibling}function ia(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ys(4,s,s.return),ia(s);break;case 1:Pi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&rT(s,s.return,a),ia(s);break;case 27:Wl(s.stateNode);case 26:case 5:Pi(s,s.return),ia(s);break;case 22:s.memoizedState===null&&ia(s);break;case 30:ia(s);break;default:ia(s)}i=i.sibling}}function cs(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:cs(f,d,a),jl(4,d);break;case 1:if(cs(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Y_(D[f],A)}catch(B){Xt(l,l.return,B)}}a&&v&64&&sT(d),ql(d,d.return);break;case 27:lT(d);case 26:case 5:cs(f,d,a),a&&l===null&&v&4&&aT(d),ql(d,d.return);break;case 12:cs(f,d,a);break;case 31:cs(f,d,a),a&&v&4&&dT(f,d);break;case 13:cs(f,d,a),a&&v&4&&mT(f,d);break;case 22:d.memoizedState===null&&cs(f,d,a),ql(d,d.return);break;case 30:break;default:cs(f,d,a)}s=s.sibling}}function pm(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Il(a))}function gm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Il(i))}function oi(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)yT(i,s,a,l),s=s.sibling}function yT(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:oi(i,s,a,l),f&2048&&jl(9,s);break;case 1:oi(i,s,a,l);break;case 3:oi(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Il(i)));break;case 12:if(f&2048){oi(i,s,a,l),i=s.stateNode;try{var d=s.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Xt(s,s.return,D)}}else oi(i,s,a,l);break;case 31:oi(i,s,a,l);break;case 13:oi(i,s,a,l);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?oi(i,s,a,l):Fl(i,s):d._visibility&2?oi(i,s,a,l):(d._visibility|=2,ro(i,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&pm(v,s);break;case 24:oi(i,s,a,l),f&2048&&gm(s.alternate,s);break;default:oi(i,s,a,l)}}function ro(i,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=i,v=s,A=a,D=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:ro(d,v,A,D,f),jl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?ro(d,v,A,D,f):Fl(d,v):(K._visibility|=2,ro(d,v,A,D,f)),f&&B&2048&&pm(v.alternate,v);break;case 24:ro(d,v,A,D,f),f&&B&2048&&gm(v.alternate,v);break;default:ro(d,v,A,D,f)}s=s.sibling}}function Fl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:Fl(a,l),f&2048&&pm(l.alternate,l);break;case 24:Fl(a,l),f&2048&&gm(l.alternate,l);break;default:Fl(a,l)}s=s.sibling}}var Hl=8192;function ao(i,s,a){if(i.subtreeFlags&Hl)for(i=i.child;i!==null;)_T(i,s,a),i=i.sibling}function _T(i,s,a){switch(i.tag){case 26:ao(i,s,a),i.flags&Hl&&i.memoizedState!==null&&MI(a,ai,i.memoizedState,i.memoizedProps);break;case 5:ao(i,s,a);break;case 3:case 4:var l=ai;ai=gh(i.stateNode.containerInfo),ao(i,s,a),ai=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Hl,Hl=16777216,ao(i,s,a),Hl=l):ao(i,s,a));break;default:ao(i,s,a)}}function vT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Gl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qe=l,ET(l,i)}vT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)TT(i),i=i.sibling}function TT(i){switch(i.tag){case 0:case 11:case 15:Gl(i),i.flags&2048&&Ys(9,i,i.return);break;case 3:Gl(i);break;case 12:Gl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ih(i)):Gl(i);break;default:Gl(i)}}function ih(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qe=l,ET(l,i)}vT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ys(8,s,s.return),ih(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,ih(s));break;default:ih(s)}i=i.sibling}}function ET(i,s){for(;qe!==null;){var a=qe;switch(a.tag){case 0:case 11:case 15:Ys(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qe=l;else t:for(a=i;qe!==null;){l=qe;var f=l.sibling,d=l.return;if(hT(l),l===a){qe=null;break t}if(f!==null){f.return=d,qe=f;break t}qe=d}}}var KC={getCacheForType:function(i){var s=Ye(Re),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return Ye(Re).controller.signal}},YC=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Mt=null,xt=0,Qt=0,In=null,Qs=!1,oo=!1,ym=!1,hs=0,me=0,Xs=0,sa=0,_m=0,Dn=0,lo=0,Kl=null,_n=null,vm=!1,sh=0,AT=0,rh=1/0,ah=null,$s=null,ke=0,Ws=null,uo=null,fs=0,Tm=0,Em=null,ST=null,Yl=0,Am=null;function Vn(){return(Gt&2)!==0&&xt!==0?xt&-xt:Y.T!==null?Im():oc()}function bT(){if(Dn===0)if((xt&536870912)===0||zt){var i=Mr;Mr<<=1,(Mr&3932160)===0&&(Mr=262144),Dn=i}else Dn=536870912;return i=Rn.current,i!==null&&(i.flags|=32),Dn}function vn(i,s,a){(i===ee&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(co(i,0),Zs(i,xt,Dn,!1)),Or(i,a),((Gt&2)===0||i!==ee)&&(i===ee&&((Gt&2)===0&&(sa|=a),me===4&&Zs(i,xt,Dn,!1)),ki(i))}function wT(i,s,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&i.expiredLanes)===0||Wn(i,s),f=l?$C(i,s):bm(i,s,!0),d=l;do{if(f===0){oo&&!l&&Zs(i,s,0,!1);break}else{if(a=i.current.alternate,d&&!QC(a)){f=bm(i,s,!1),d=!1;continue}if(f===2){if(d=s,i.errorRecoveryDisabledLanes&d)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;t:{var A=i;f=Kl;var D=A.current.memoizedState.isDehydrated;if(D&&(co(A,v).flags|=256),v=bm(A,v,!1),v!==2){if(ym&&!D){A.errorRecoveryDisabledLanes|=d,sa|=d,f=4;break t}d=_n,_n=f,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){co(i,0),Zs(i,s,0,!0);break}t:{switch(l=i,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Zs(l,s,Dn,!Qs);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=sh+300-ln(),10<f)){if(Zs(l,s,Dn,!Qs),_i(l,0,!0)!==0)break t;fs=s,l.timeoutHandle=n0(RT.bind(null,l,a,_n,ah,vm,s,Dn,sa,lo,Qs,d,"Throttled",-0,0),f);break t}RT(l,a,_n,ah,vm,s,Dn,sa,lo,Qs,d,null,-0,0)}}break}while(!0);ki(i)}function RT(i,s,a,l,f,d,v,A,D,B,K,$,j,H){if(i.timeoutHandle=-1,$=s.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},_T(s,d,$);var dt=(d&62914560)===d?sh-ln():(d&4194048)===d?AT-ln():0;if(dt=OI($,dt),dt!==null){fs=d,i.cancelPendingCommit=dt(xT.bind(null,i,s,d,a,l,f,v,A,D,K,$,null,j,H)),Zs(i,d,v,!B);return}}xT(i,s,d,a,l,f,v,A,D)}function QC(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!bn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zs(i,s,a,l){s&=~_m,s&=~sa,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var d=31-ge(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Nr(i,a,s)}function oh(){return(Gt&6)===0?(Ql(0),!1):!0}function Sm(){if(Mt!==null){if(Qt===0)var i=Mt.return;else i=Mt,es=Xr=null,zd(i),to=null,Vl=0,i=Mt;for(;i!==null;)iT(i.alternate,i),i=i.return;Mt=null}}function co(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,mI(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),fs=0,Sm(),ee=i,Mt=a=Ji(i.current,null),xt=s,Qt=0,In=null,Qs=!1,oo=Wn(i,s),ym=!1,lo=Dn=_m=sa=Xs=me=0,_n=Kl=null,vm=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-ge(l),d=1<<f;s|=i[f],l&=~d}return hs=s,Ic(),a}function CT(i,s){Rt=null,Y.H=Ul,s===Ja||s===kc?(s=F_(),Qt=3):s===Cd?(s=F_(),Qt=4):Qt=s===em?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,In=s,Mt===null&&(me=1,$c(i,Ln(s,i.current)))}function IT(){var i=Rn.current;return i===null?!0:(xt&4194048)===xt?jn===null:(xt&62914560)===xt||(xt&536870912)!==0?i===jn:!1}function DT(){var i=Y.H;return Y.H=Ul,i===null?Ul:i}function VT(){var i=Y.A;return Y.A=KC,i}function lh(){me=4,Qs||(xt&4194048)!==xt&&Rn.current!==null||(oo=!0),(Xs&134217727)===0&&(sa&134217727)===0||ee===null||Zs(ee,xt,Dn,!1)}function bm(i,s,a){var l=Gt;Gt|=2;var f=DT(),d=VT();(ee!==i||xt!==s)&&(ah=null,co(i,s)),s=!1;var v=me;t:do try{if(Qt!==0&&Mt!==null){var A=Mt,D=In;switch(Qt){case 8:Sm(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(s=!0);var B=Qt;if(Qt=0,In=null,ho(i,A,D,B),a&&oo){v=0;break t}break;default:B=Qt,Qt=0,In=null,ho(i,A,D,B)}}XC(),v=me;break}catch(K){CT(i,K)}while(!0);return s&&i.shellSuspendCounter++,es=Xr=null,Gt=l,Y.H=f,Y.A=d,Mt===null&&(ee=null,xt=0,Ic()),v}function XC(){for(;Mt!==null;)MT(Mt)}function $C(i,s){var a=Gt;Gt|=2;var l=DT(),f=VT();ee!==i||xt!==s?(ah=null,rh=ln()+500,co(i,s)):oo=Wn(i,s);t:do try{if(Qt!==0&&Mt!==null){s=Mt;var d=In;e:switch(Qt){case 1:Qt=0,In=null,ho(i,s,d,1);break;case 2:case 9:if(j_(d)){Qt=0,In=null,OT(s);break}s=function(){Qt!==2&&Qt!==9||ee!==i||(Qt=7),ki(i)},d.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:j_(d)?(Qt=0,In=null,OT(s)):(Qt=0,In=null,ho(i,s,d,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var A=Mt;if(v?y0(v):A.stateNode.complete){Qt=0,In=null;var D=A.sibling;if(D!==null)Mt=D;else{var B=A.return;B!==null?(Mt=B,uh(B)):Mt=null}break e}}Qt=0,In=null,ho(i,s,d,5);break;case 6:Qt=0,In=null,ho(i,s,d,6);break;case 8:Sm(),me=6;break t;default:throw Error(r(462))}}WC();break}catch(K){CT(i,K)}while(!0);return es=Xr=null,Y.H=l,Y.A=f,Gt=a,Mt!==null?0:(ee=null,xt=0,Ic(),me)}function WC(){for(;Mt!==null&&!td();)MT(Mt)}function MT(i){var s=eT(i.alternate,i,hs);i.memoizedProps=i.pendingProps,s===null?uh(i):Mt=s}function OT(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=Xv(a,s,s.pendingProps,s.type,void 0,xt);break;case 11:s=Xv(a,s,s.pendingProps,s.type.render,s.ref,xt);break;case 5:zd(s);default:iT(a,s),s=Mt=V_(s,hs),s=eT(a,s,hs)}i.memoizedProps=i.pendingProps,s===null?uh(i):Mt=s}function ho(i,s,a,l){es=Xr=null,zd(s),to=null,Vl=0;var f=s.return;try{if(zC(i,f,s,a,xt)){me=1,$c(i,Ln(a,i.current)),Mt=null;return}}catch(d){if(f!==null)throw Mt=f,d;me=1,$c(i,Ln(a,i.current)),Mt=null;return}s.flags&32768?(zt||l===1?i=!0:oo||(xt&536870912)!==0?i=!1:(Qs=i=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),NT(s,i)):uh(s)}function uh(i){var s=i;do{if((s.flags&32768)!==0){NT(s,Qs);return}i=s.return;var a=qC(s.alternate,s,hs);if(a!==null){Mt=a;return}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=i}while(s!==null);me===0&&(me=5)}function NT(i,s){do{var a=FC(i.alternate,i);if(a!==null){a.flags&=32767,Mt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=a}while(i!==null);me=6,Mt=null}function xT(i,s,a,l,f,d,v,A,D){i.cancelPendingCommit=null;do ch();while(ke!==0);if((Gt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=fd,id(i,a,d,v,A,D),i===ee&&(Mt=ee=null,xt=0),uo=s,Ws=i,fs=a,Tm=d,Em=f,ST=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,eI(Is,function(){return zT(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=nt.p,nt.p=2,v=Gt,Gt|=4;try{HC(i,s,a)}finally{Gt=v,nt.p=f,Y.T=l}}ke=1,PT(),kT(),LT()}}function PT(){if(ke===1){ke=0;var i=Ws,s=uo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=nt.p;nt.p=2;var f=Gt;Gt|=4;try{pT(s,i);var d=km,v=E_(i.containerInfo),A=d.focusedElem,D=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&T_(A.ownerDocument.documentElement,A)){if(D!==null&&od(A)){var B=D.start,K=D.end;if(K===void 0&&(K=B),"selectionStart"in A)A.selectionStart=B,A.selectionEnd=Math.min(K,A.value.length);else{var $=A.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var H=j.getSelection(),dt=A.textContent.length,yt=Math.min(D.start,dt),Jt=D.end===void 0?yt:Math.min(D.end,dt);!H.extend&&yt>Jt&&(v=Jt,Jt=yt,yt=v);var P=v_(A,yt),O=v_(A,Jt);if(P&&O&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var z=$.createRange();z.setStart(P.node,P.offset),H.removeAllRanges(),yt>Jt?(H.addRange(z),H.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),H.addRange(z))}}}}for($=[],H=A;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<$.length;A++){var Q=$[A];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ah=!!Pm,km=Pm=null}finally{Gt=f,nt.p=l,Y.T=a}}i.current=s,ke=2}}function kT(){if(ke===2){ke=0;var i=Ws,s=uo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=nt.p;nt.p=2;var f=Gt;Gt|=4;try{cT(i,s.alternate,s)}finally{Gt=f,nt.p=l,Y.T=a}}ke=3}}function LT(){if(ke===4||ke===3){ke=0,tc();var i=Ws,s=uo,a=fs,l=ST;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ke=5:(ke=0,uo=Ws=null,UT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&($s=null),Xi(a),s=s.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot($n,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Y.T,f=nt.p,nt.p=2,Y.T=null;try{for(var d=i.onRecoverableError,v=0;v<l.length;v++){var A=l[v];d(A.value,{componentStack:A.stack})}}finally{Y.T=s,nt.p=f}}(fs&3)!==0&&ch(),ki(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===Am?Yl++:(Yl=0,Am=i):Yl=0,Ql(0)}}function UT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Il(s)))}function ch(){return PT(),kT(),LT(),zT()}function zT(){if(ke!==5)return!1;var i=Ws,s=Tm;Tm=0;var a=Xi(fs),l=Y.T,f=nt.p;try{nt.p=32>a?32:a,Y.T=null,a=Em,Em=null;var d=Ws,v=fs;if(ke=0,uo=Ws=null,fs=0,(Gt&6)!==0)throw Error(r(331));var A=Gt;if(Gt|=4,TT(d.current),yT(d,d.current,v,a),Gt=A,Ql(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{nt.p=f,Y.T=l,UT(i,s)}}function BT(i,s,a){s=Ln(a,s),s=tm(i.stateNode,s,2),i=Hs(i,s,2),i!==null&&(Or(i,2),ki(i))}function Xt(i,s,a){if(i.tag===3)BT(i,i,a);else for(;s!==null;){if(s.tag===3){BT(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($s===null||!$s.has(l))){i=Ln(a,i),a=jv(2),l=Hs(s,a,2),l!==null&&(qv(a,l,s,i),Or(l,2),ki(l));break}}s=s.return}}function wm(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new YC;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(ym=!0,f.add(a),i=ZC.bind(null,i,s,a),s.then(i,i))}function ZC(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ee===i&&(xt&a)===a&&(me===4||me===3&&(xt&62914560)===xt&&300>ln()-sh?(Gt&2)===0&&co(i,0):_m|=a,lo===xt&&(lo=0)),ki(i)}function jT(i,s){s===0&&(s=ac()),i=Kr(i,s),i!==null&&(Or(i,s),ki(i))}function JC(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),jT(i,a)}function tI(i,s){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),jT(i,a)}function eI(i,s){return Pe(i,s)}var hh=null,fo=null,Rm=!1,fh=!1,Cm=!1,Js=0;function ki(i){i!==fo&&i.next===null&&(fo===null?hh=fo=i:fo=fo.next=i),fh=!0,Rm||(Rm=!0,iI())}function Ql(i,s){if(!Cm&&fh){Cm=!0;do for(var a=!1,l=hh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-ge(42|i)+1)-1,d&=f&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,GT(l,d))}else d=xt,d=_i(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,GT(l,d));l=l.next}while(a);Cm=!1}}function nI(){qT()}function qT(){fh=Rm=!1;var i=0;Js!==0&&dI()&&(i=Js);for(var s=ln(),a=null,l=hh;l!==null;){var f=l.next,d=FT(l,s);d===0?(l.next=null,a===null?hh=f:a.next=f,f===null&&(fo=a)):(a=l,(i!==0||(d&3)!==0)&&(fh=!0)),l=f}ke!==0&&ke!==5||Ql(i),Js!==0&&(Js=0)}function FT(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var v=31-ge(d),A=1<<v,D=f[v];D===-1?((A&a)===0||(A&l)!==0)&&(f[v]=nd(A,s)):D<=s&&(i.expiredLanes|=A),d&=~A}if(s=ee,a=xt,a=_i(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Cs(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Wn(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&Cs(l),Xi(a)){case 2:case 8:a=sl;break;case 32:a=Is;break;case 268435456:a=ec;break;default:a=Is}return l=HT.bind(null,i),a=Pe(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&Cs(l),i.callbackPriority=2,i.callbackNode=null,2}function HT(i,s){if(ke!==0&&ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(ch()&&i.callbackNode!==a)return null;var l=xt;return l=_i(i,i===ee?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(wT(i,l,s),FT(i,ln()),i.callbackNode!=null&&i.callbackNode===a?HT.bind(null,i):null)}function GT(i,s){if(ch())return null;wT(i,s,!0)}function iI(){pI(function(){(Gt&6)!==0?Pe(il,nI):qT()})}function Im(){if(Js===0){var i=Wa;i===0&&(i=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Js=i}return Js}function KT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ka(""+i)}function YT(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function sI(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=KT((f[Be]||null).action),v=l.submitter;v&&(s=(s=v[Be]||null)?KT(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var A=new Di("action","action",null,l,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Js!==0){var D=v?YT(f,v):new FormData(f);Qd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(A.preventDefault(),D=v?YT(f,v):new FormData(f),Qd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Dm=0;Dm<hd.length;Dm++){var Vm=hd[Dm],rI=Vm.toLowerCase(),aI=Vm[0].toUpperCase()+Vm.slice(1);ri(rI,"on"+aI)}ri(b_,"onAnimationEnd"),ri(w_,"onAnimationIteration"),ri(R_,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(AC,"onTransitionRun"),ri(SC,"onTransitionStart"),ri(bC,"onTransitionCancel"),ri(C_,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function QT(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var v=l.length-1;0<=v;v--){var A=l[v],D=A.instance,B=A.currentTarget;if(A=A.listener,D!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=B;try{d(f)}catch(K){Cc(K)}f.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(A=l[v],D=A.instance,B=A.currentTarget,A=A.listener,D!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=B;try{d(f)}catch(K){Cc(K)}f.currentTarget=null,d=D}}}}function Ot(i,s){var a=s[Ma];a===void 0&&(a=s[Ma]=new Set);var l=i+"__bubble";a.has(l)||(XT(s,i,2,!1),a.add(l))}function Mm(i,s,a){var l=0;s&&(l|=4),XT(a,i,l,s)}var dh="_reactListening"+Math.random().toString(36).slice(2);function Om(i){if(!i[dh]){i[dh]=!0,ol.forEach(function(a){a!=="selectionchange"&&(oI.has(a)||Mm(a,!1,i),Mm(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[dh]||(s[dh]=!0,Mm("selectionchange",!1,s))}}function XT(i,s,a,l){switch(b0(s)){case 2:var f=PI;break;case 8:f=kI;break;default:f=Ym}a=f.bind(null,s,a,i),f=void 0,!Ur||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function Nm(i,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===f)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;A!==null;){if(v=Ai(A),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue t}A=A.parentNode}}l=l.return}xs(function(){var B=d,K=Nn(a),$=[];t:{var j=I_.get(i);if(j!==void 0){var H=Di,dt=i;switch(i){case"keypress":if(Br(a)===0)break t;case"keydown":case"keyup":H=bc;break;case"focusin":dt="focus",H=qr;break;case"focusout":dt="blur",H=qr;break;case"beforeblur":case"afterblur":H=qr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=y;break;case b_:case w_:case R_:H=yc;break;case C_:H=b;break;case"scroll":case"scrollend":H=vl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=_c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Zi;break;case"toggle":case"beforetoggle":H=wt}var yt=(s&4)!==0,Jt=!yt&&(i==="scroll"||i==="scrollend"),P=yt?j!==null?j+"Capture":null:j;yt=[];for(var O=B,z;O!==null;){var Q=O;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||P===null||(Q=ei(O,P),Q!=null&&yt.push($l(O,Q,z))),Jt)break;O=O.return}0<yt.length&&(j=new H(j,dt,null,a,K),$.push({event:j,listeners:yt}))}}if((s&7)===0){t:{if(j=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",j&&a!==gl&&(dt=a.relatedTarget||a.fromElement)&&(Ai(dt)||dt[Ti]))break t;if((H||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,H?(dt=a.relatedTarget||a.toElement,H=B,dt=dt?Ai(dt):null,dt!==null&&(Jt=u(dt),yt=dt.tag,dt!==Jt||yt!==5&&yt!==27&&yt!==6)&&(dt=null)):(H=null,dt=B),H!==dt)){if(yt=Tl,Q="onMouseLeave",P="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(yt=Zi,Q="onPointerLeave",P="onPointerEnter",O="pointer"),Jt=H==null?j:An(H),z=dt==null?j:An(dt),j=new yt(Q,O+"leave",H,a,K),j.target=Jt,j.relatedTarget=z,Q=null,Ai(K)===B&&(yt=new yt(P,O+"enter",dt,a,K),yt.target=z,yt.relatedTarget=Jt,Q=yt),Jt=Q,H&&dt)e:{for(yt=lI,P=H,O=dt,z=0,Q=P;Q;Q=yt(Q))z++;Q=0;for(var pt=O;pt;pt=yt(pt))Q++;for(;0<z-Q;)P=yt(P),z--;for(;0<Q-z;)O=yt(O),Q--;for(;z--;){if(P===O||O!==null&&P===O.alternate){yt=P;break e}P=yt(P),O=yt(O)}yt=null}else yt=null;H!==null&&$T($,j,H,yt,!1),dt!==null&&Jt!==null&&$T($,Jt,dt,yt,!0)}}t:{if(j=B?An(B):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var qt=d_;else if(h_(j))if(m_)qt=vC;else{qt=yC;var mt=gC}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Pa(B.elementType)&&(qt=d_):qt=_C;if(qt&&(qt=qt(i,B))){f_($,qt,a,K);break t}mt&&mt(i,j,B),i==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&dl(j,"number",j.value)}switch(mt=B?An(B):window,i){case"focusin":(h_(mt)||mt.contentEditable==="true")&&(Fa=mt,ld=B,wl=null);break;case"focusout":wl=ld=Fa=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,A_($,a,K);break;case"selectionchange":if(EC)break;case"keydown":case"keyup":A_($,a,K)}var Dt;if(Ht)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else qa?Fr(i,a)&&(Pt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Oi&&a.locale!=="ko"&&(qa||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&qa&&(Dt=_l()):(Ii=K,yl="value"in Ii?Ii.value:Ii.textContent,qa=!0)),mt=mh(B,Pt),0<mt.length&&(Pt=new Mi(Pt,i,null,a,K),$.push({event:Pt,listeners:mt}),Dt?Pt.data=Dt:(Dt=ja(a),Dt!==null&&(Pt.data=Dt)))),(Dt=Pn?fC(i,a):dC(i,a))&&(Pt=mh(B,"onBeforeInput"),0<Pt.length&&(mt=new Mi("onBeforeInput","beforeinput",null,a,K),$.push({event:mt,listeners:Pt}),mt.data=Dt)),sI($,i,B,a,K)}QT($,s)})}function $l(i,s,a){return{instance:i,listener:s,currentTarget:a}}function mh(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(i,a),f!=null&&l.unshift($l(i,f,d)),f=ei(i,s),f!=null&&l.push($l(i,f,d))),i.tag===3)return l;i=i.return}return[]}function lI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $T(i,s,a,l,f){for(var d=s._reactName,v=[];a!==null&&a!==l;){var A=a,D=A.alternate,B=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||B===null||(D=B,f?(B=ei(a,d),B!=null&&v.unshift($l(a,B,D))):f||(B=ei(a,d),B!=null&&v.push($l(a,B,D)))),a=a.return}v.length!==0&&i.push({event:s,listeners:v})}var uI=/\r\n?/g,cI=/\u0000|\uFFFD/g;function WT(i){return(typeof i=="string"?i:""+i).replace(uI,`
`).replace(cI,"")}function ZT(i,s){return s=WT(s),WT(i)===s}function Zt(i,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||mn(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&mn(i,""+l);break;case"className":Sn(i,"class",l);break;case"tabIndex":Sn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(i,a,l);break;case"style":pl(i,l,d);break;case"data":if(s!=="object"){Sn(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=ka(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Zt(i,s,"name",f.name,f,null),Zt(i,s,"formEncType",f.formEncType,f,null),Zt(i,s,"formMethod",f.formMethod,f,null),Zt(i,s,"formTarget",f.formTarget,f,null)):(Zt(i,s,"encType",f.encType,f,null),Zt(i,s,"method",f.method,f,null),Zt(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=ka(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=ti);break;case"onScroll":l!=null&&Ot("scroll",i);break;case"onScrollEnd":l!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=ka(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),Na(i,"popover",l);break;case"xlinkActuate":we(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":we(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":we(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":we(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":we(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":we(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":we(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":we(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":we(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Na(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mc.get(a)||a,Na(i,a,l))}}function xm(i,s,a,l,f,d){switch(a){case"style":pl(i,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?mn(i,l):(typeof l=="number"||typeof l=="bigint")&&mn(i,""+l);break;case"onScroll":l!=null&&Ot("scroll",i);break;case"onScrollEnd":l!=null&&Ot("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ll.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=i[Be]||null,d=d!=null?d[a]:null,typeof d=="function"&&i.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Na(i,a,l)}}}function Xe(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,d,v,a,null)}}f&&Zt(i,s,"srcSet",a.srcSet,a,null),l&&Zt(i,s,"src",a.src,a,null);return;case"input":Ot("invalid",i);var A=d=v=f=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":f=K;break;case"type":v=K;break;case"checked":D=K;break;case"defaultChecked":B=K;break;case"value":d=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:Zt(i,s,l,K,a,null)}}hc(i,d,A,D,B,v,f,!1);return;case"select":Ot("invalid",i),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:Zt(i,s,f,A,a,null)}s=d,a=v,i.multiple=!!l,s!=null?Vs(i,!!l,s,!1):a!=null&&Vs(i,!!l,a,!0);return;case"textarea":Ot("invalid",i),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Zt(i,s,v,A,a,null)}Ms(i,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(i,s,D,l,a,null)}return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(l=0;l<Xl.length;l++)Ot(Xl[l],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,B,l,a,null)}return;default:if(Pa(s)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&xm(i,s,K,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Zt(i,s,A,l,a,null))}function hI(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,A=null,D=null,B=null,K=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=$;default:l.hasOwnProperty(H)||Zt(i,s,H,null,l,$)}}for(var j in l){var H=l[j];if($=a[j],l.hasOwnProperty(j)&&(H!=null||$!=null))switch(j){case"type":d=H;break;case"name":f=H;break;case"checked":B=H;break;case"defaultChecked":K=H;break;case"value":v=H;break;case"defaultValue":A=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:H!==$&&Zt(i,s,j,H,l,$)}}xa(i,v,A,D,B,K,d,f);return;case"select":H=v=A=j=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(d)||Zt(i,s,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":j=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==D&&Zt(i,s,f,d,l,D)}s=A,a=v,l=H,j!=null?Vs(i,!!a,j,!1):!!l!=!!a&&(s!=null?Vs(i,!!a,s,!0):Vs(i,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Zt(i,s,A,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":j=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Zt(i,s,v,f,l,d)}fc(i,j,H);return;case"option":for(var dt in a)if(j=a[dt],a.hasOwnProperty(dt)&&j!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":i.selected=!1;break;default:Zt(i,s,dt,null,l,j)}for(D in l)if(j=l[D],H=a[D],l.hasOwnProperty(D)&&j!==H&&(j!=null||H!=null))switch(D){case"selected":i.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Zt(i,s,D,j,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&Zt(i,s,yt,null,l,j);for(B in l)if(j=l[B],H=a[B],l.hasOwnProperty(B)&&j!==H&&(j!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:Zt(i,s,B,j,l,H)}return;default:if(Pa(s)){for(var Jt in a)j=a[Jt],a.hasOwnProperty(Jt)&&j!==void 0&&!l.hasOwnProperty(Jt)&&xm(i,s,Jt,void 0,l,j);for(K in l)j=l[K],H=a[K],!l.hasOwnProperty(K)||j===H||j===void 0&&H===void 0||xm(i,s,K,j,l,H);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!l.hasOwnProperty(P)&&Zt(i,s,P,null,l,j);for($ in l)j=l[$],H=a[$],!l.hasOwnProperty($)||j===H||j==null&&H==null||Zt(i,s,$,j,l,H)}function JT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,A=f.duration;if(d&&A&&JT(v)){for(v=0,A=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>A)break;var K=D.transferSize,$=D.initiatorType;K&&JT($)&&(D=D.responseEnd,v+=K*(D<A?1:(A-B)/(D-B)))}if(--l,s+=8*(d+v)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Pm=null,km=null;function ph(i){return i.nodeType===9?i:i.ownerDocument}function t0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Lm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Um=null;function dI(){var i=window.event;return i&&i.type==="popstate"?i===Um?!1:(Um=i,!0):(Um=null,!1)}var n0=typeof setTimeout=="function"?setTimeout:void 0,mI=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,pI=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(i){return i0.resolve(null).then(i).catch(gI)}:n0;function gI(i){setTimeout(function(){throw i})}function tr(i){return i==="head"}function s0(i,s){var a=s,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),yo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Wl(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Wl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,A=d.nodeName;d[Ei]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Wl(i.ownerDocument.body);a=f}while(a);yo(s)}function r0(i,s){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function zm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zm(a),Oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function yI(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ei])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=qn(i.nextSibling),i===null)break}return null}function _I(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=qn(i.nextSibling),i===null))return null;return i}function a0(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=qn(i.nextSibling),i===null))return null;return i}function Bm(i){return i.data==="$?"||i.data==="$~"}function jm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function vI(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function qn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var qm=null;function o0(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return qn(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function l0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function u0(i,s,a){switch(s=ph(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Wl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Oa(i)}var Fn=new Map,c0=new Set;function gh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ds=nt.d;nt.d={f:TI,r:EI,D:AI,C:SI,L:bI,m:wI,X:CI,S:RI,M:II};function TI(){var i=ds.f(),s=oh();return i||s}function EI(i){var s=On(i);s!==null&&s.tag===5&&s.type==="form"?Cv(s):ds.r(i)}var mo=typeof document>"u"?null:document;function h0(i,s,a){var l=mo;if(l&&typeof s=="string"&&s){var f=dn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),c0.has(f)||(c0.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Xe(s,"link",i),be(s),l.head.appendChild(s)))}}function AI(i){ds.D(i),h0("dns-prefetch",i,null)}function SI(i,s){ds.C(i,s),h0("preconnect",i,s)}function bI(i,s,a){ds.L(i,s,a);var l=mo;if(l&&i&&s){var f='link[rel="preload"][as="'+dn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dn(a.imageSizes)+'"]')):f+='[href="'+dn(i)+'"]';var d=f;switch(s){case"style":d=po(i);break;case"script":d=go(i)}Fn.has(d)||(i=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),Fn.set(d,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(Zl(d))||s==="script"&&l.querySelector(Jl(d))||(s=l.createElement("link"),Xe(s,"link",i),be(s),l.head.appendChild(s)))}}function wI(i,s){ds.m(i,s);var a=mo;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(i)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=go(i)}if(!Fn.has(d)&&(i=E({rel:"modulepreload",href:i},s),Fn.set(d,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jl(d)))return}l=a.createElement("link"),Xe(l,"link",i),be(l),a.head.appendChild(l)}}}function RI(i,s,a){ds.S(i,s,a);var l=mo;if(l&&i){var f=Si(l).hoistableStyles,d=po(i);s=s||"default";var v=f.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Zl(d)))A.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":s},a),(a=Fn.get(d))&&Fm(i,a);var D=v=l.createElement("link");be(D),Xe(D,"link",i),D._p=new Promise(function(B,K){D.onload=B,D.onerror=K}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,yh(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:A},f.set(d,v)}}}function CI(i,s){ds.X(i,s);var a=mo;if(a&&i){var l=Si(a).hoistableScripts,f=go(i),d=l.get(f);d||(d=a.querySelector(Jl(f)),d||(i=E({src:i,async:!0},s),(s=Fn.get(f))&&Hm(i,s),d=a.createElement("script"),be(d),Xe(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function II(i,s){ds.M(i,s);var a=mo;if(a&&i){var l=Si(a).hoistableScripts,f=go(i),d=l.get(f);d||(d=a.querySelector(Jl(f)),d||(i=E({src:i,async:!0,type:"module"},s),(s=Fn.get(f))&&Hm(i,s),d=a.createElement("script"),be(d),Xe(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function f0(i,s,a,l){var f=(f=It.current)?gh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=po(a.href),a=Si(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=po(a.href);var d=Si(f).hoistableStyles,v=d.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,v),(d=f.querySelector(Zl(i)))&&!d._p&&(v.instance=d,v.state.loading=5),Fn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(i,a),d||DI(f,i,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=go(a),a=Si(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function po(i){return'href="'+dn(i)+'"'}function Zl(i){return'link[rel="stylesheet"]['+i+"]"}function d0(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function DI(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Xe(s,"link",a),be(s),i.head.appendChild(s))}function go(i){return'[src="'+dn(i)+'"]'}function Jl(i){return"script[async]"+i}function m0(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return s.instance=l,be(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),be(l),Xe(l,"style",f),yh(l,a.precedence,i),s.instance=l;case"stylesheet":f=po(a.href);var d=i.querySelector(Zl(f));if(d)return s.state.loading|=4,s.instance=d,be(d),d;l=d0(a),(f=Fn.get(f))&&Fm(l,f),d=(i.ownerDocument||i).createElement("link"),be(d);var v=d;return v._p=new Promise(function(A,D){v.onload=A,v.onerror=D}),Xe(d,"link",l),s.state.loading|=4,yh(d,a.precedence,i),s.instance=d;case"script":return d=go(a.src),(f=i.querySelector(Jl(d)))?(s.instance=f,be(f),f):(l=a,(f=Fn.get(d))&&(l=E({},a),Hm(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),be(f),Xe(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,yh(l,a.precedence,i));return s.instance}function yh(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===s)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(i,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function Fm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Hm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var _h=null;function p0(i,s,a){if(_h===null){var l=new Map,f=_h=new Map;f.set(a,l)}else f=_h,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var d=a[f];if(!(d[Ei]||d[Se]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=i+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function g0(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function VI(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function y0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function MI(i,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=po(l.href),d=s.querySelector(Zl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=vh.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=d,be(d);return}d=s.ownerDocument||s,l=d0(l),(f=Fn.get(f))&&Fm(l,f),d=d.createElement("link"),be(d);var v=d;v._p=new Promise(function(A,D){v.onload=A,v.onerror=D}),Xe(d,"link",l),a.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=vh.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Gm=0;function OI(i,s){return i.stylesheets&&i.count===0&&Eh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&Eh(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4+s);0<i.imgBytes&&Gm===0&&(Gm=62500*fI());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Eh(i,i.stylesheets),i.unsuspend)){var d=i.unsuspend;i.unsuspend=null,d()}},(i.imgBytes>Gm?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Th=null;function Eh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Th=new Map,s.forEach(NI,i),Th=null,vh.call(i))}function NI(i,s){if(!(s.state.loading&4)){var a=Th.get(i);if(a)var l=a.get(null);else{a=new Map,Th.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=vh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var tu={$$typeof:J,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function xI(i,s,a,l,f,d,v,A,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function _0(i,s,a,l,f,d,v,A,D,B,K,$){return i=new xI(i,s,a,v,D,B,K,$,A),s=1,d===!0&&(s|=24),d=wn(3,null,null,s),i.current=d,d.stateNode=i,s=bd(),s.refCount++,i.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Id(d),i}function v0(i){return i?(i=Ka,i):Ka}function T0(i,s,a,l,f,d){f=v0(f),l.context===null?l.context=f:l.pendingContext=f,l=Fs(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Hs(i,l,s),a!==null&&(vn(a,i,s),Ol(a,i,s))}function E0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Km(i,s){E0(i,s),(i=i.alternate)&&E0(i,s)}function A0(i){if(i.tag===13||i.tag===31){var s=Kr(i,67108864);s!==null&&vn(s,i,67108864),Km(i,67108864)}}function S0(i){if(i.tag===13||i.tag===31){var s=Vn();s=xr(s);var a=Kr(i,s);a!==null&&vn(a,i,s),Km(i,s)}}var Ah=!0;function PI(i,s,a,l){var f=Y.T;Y.T=null;var d=nt.p;try{nt.p=2,Ym(i,s,a,l)}finally{nt.p=d,Y.T=f}}function kI(i,s,a,l){var f=Y.T;Y.T=null;var d=nt.p;try{nt.p=8,Ym(i,s,a,l)}finally{nt.p=d,Y.T=f}}function Ym(i,s,a,l){if(Ah){var f=Qm(l);if(f===null)Nm(i,s,l,Sh,a),w0(i,l);else if(UI(f,i,s,a,l))l.stopPropagation();else if(w0(i,l),s&4&&-1<LI.indexOf(i)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=yi(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var D=1<<31-ge(v);A.entanglements[1]|=D,v&=~D}ki(d),(Gt&6)===0&&(rh=ln()+500,Ql(0))}}break;case 31:case 13:A=Kr(d,2),A!==null&&vn(A,d,2),oh(),Km(d,2)}if(d=Qm(l),d===null&&Nm(i,s,l,Sh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Nm(i,s,l,null,a)}}function Qm(i){return i=Nn(i),Xm(i)}var Sh=null;function Xm(i){if(Sh=null,i=Ai(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=m(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Sh=i,null}function b0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vr()){case il:return 2;case sl:return 8;case Is:case ed:return 32;case ec:return 268435456;default:return 32}default:return 32}}var $m=!1,er=null,nr=null,ir=null,eu=new Map,nu=new Map,sr=[],LI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w0(i,s){switch(i){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":eu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(s.pointerId)}}function iu(i,s,a,l,f,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=On(s),s!==null&&A0(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function UI(i,s,a,l,f){switch(s){case"focusin":return er=iu(er,i,s,a,l,f),!0;case"dragenter":return nr=iu(nr,i,s,a,l,f),!0;case"mouseover":return ir=iu(ir,i,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return eu.set(d,iu(eu.get(d)||null,i,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,nu.set(d,iu(nu.get(d)||null,i,s,a,l,f)),!0}return!1}function R0(i){var s=Ai(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,Zn(i.priority,function(){S0(a)});return}}else if(s===31){if(s=m(a),s!==null){i.blockedOn=s,Zn(i.priority,function(){S0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Qm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);gl=l,a.target.dispatchEvent(l),gl=null}else return s=On(a),s!==null&&A0(s),i.blockedOn=a,!1;s.shift()}return!0}function C0(i,s,a){bh(i)&&a.delete(s)}function zI(){$m=!1,er!==null&&bh(er)&&(er=null),nr!==null&&bh(nr)&&(nr=null),ir!==null&&bh(ir)&&(ir=null),eu.forEach(C0),nu.forEach(C0)}function wh(i,s){i.blockedOn===s&&(i.blockedOn=null,$m||($m=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zI)))}var Rh=null;function I0(i){Rh!==i&&(Rh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Rh===i&&(Rh=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(Xm(l||a)===null)continue;break}var d=On(a);d!==null&&(i.splice(s,3),s-=3,Qd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function yo(i){function s(D){return wh(D,i)}er!==null&&wh(er,i),nr!==null&&wh(nr,i),ir!==null&&wh(ir,i),eu.forEach(s),nu.forEach(s);for(var a=0;a<sr.length;a++){var l=sr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<sr.length&&(a=sr[0],a.blockedOn===null);)R0(a),a.blockedOn===null&&sr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Be]||null;if(typeof d=="function")v||I0(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Be]||null)A=v.formAction;else if(Xm(f)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),I0(a)}}}function D0(){function i(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Wm(i){this._internalRoot=i}Ch.prototype.render=Wm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Vn();T0(a,l,i,s,null,null)},Ch.prototype.unmount=Wm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;T0(i.current,2,null,i,null,null),oh(),s[Ti]=null}};function Ch(i){this._internalRoot=i}Ch.prototype.unstable_scheduleHydration=function(i){if(i){var s=oc();i={blockedOn:null,target:i,priority:s};for(var a=0;a<sr.length&&s!==0&&s<sr[a].priority;a++);sr.splice(a,0,i),a===0&&R0(i)}};var V0=t.version;if(V0!=="19.2.1")throw Error(r(527,V0,"19.2.1"));nt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var BI={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{$n=Ih.inject(BI),He=Ih}catch{}}return ru.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=Lv,d=Uv,v=zv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=_0(i,1,!1,null,null,a,l,null,f,d,v,D0),i[Ti]=s.current,Om(i),new Wm(s)},ru.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",d=Lv,v=Uv,A=zv,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=_0(i,1,!0,s,a??null,l,f,D,d,v,A,D0),s.context=v0(null),a=s.current,l=Vn(),l=xr(l),f=Fs(l),f.callback=null,Hs(a,f,l),a=l,s.current.lanes=a,Or(s,a),ki(s),i[Ti]=s.current,Om(i),new Ch(s)},ru.version="19.2.1",ru}var B0;function $I(){if(B0)return tp.exports;B0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tp.exports=XI(),tp.exports}var WI=$I();const ZI=()=>{};var j0={};const jS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},JI=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],c=e[n++],m=e[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=e[n++],c=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},qS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,m=c?e[o+1]:0,p=o+2<e.length,g=p?e[o+2]:0,_=u>>2,E=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,V=g&63;p||(V=64,c||(S=64)),r.push(n[_],n[E],n[S],n[V])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(jS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):JI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],m=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const E=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||m==null||g==null||E==null)throw new tD;const S=u<<2|m>>4;if(r.push(S),g!==64){const V=m<<4&240|g>>2;if(r.push(V),E!==64){const L=g<<6&192|E;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class tD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eD=function(e){const t=jS(e);return qS.encodeByteArray(t,!0)},ef=function(e){return eD(e).replace(/\./g,"")},FS=function(e){try{return qS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function nD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iD=()=>nD().__FIREBASE_DEFAULTS__,sD=()=>{if(typeof process>"u"||typeof j0>"u")return;const e=j0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},rD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&FS(e[1]);return t&&JSON.parse(t)},Df=()=>{try{return ZI()||iD()||sD()||rD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},HS=e=>Df()?.emulatorHosts?.[e],aD=e=>{const t=HS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},GS=()=>Df()?.config,KS=e=>Df()?.[`_${e}`];class oD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function qo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YS(e){return(await fetch(e,{credentials:"include"})).ok}function lD(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[ef(JSON.stringify(n)),ef(JSON.stringify(c)),""].join(".")}const fu={};function uD(){const e={prod:[],emulator:[]};for(const t of Object.keys(fu))fu[t]?e.emulator.push(t):e.prod.push(t);return e}function cD(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let q0=!1;function QS(e,t){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||fu[e]===t||fu[e]||q0)return;fu[e]=t;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=uD().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{q0=!0,c()},S}function _(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=cD(r),V=n("text"),L=document.getElementById(V)||document.createElement("span"),G=n("learnmore"),F=document.getElementById(G)||document.createElement("a"),X=n("preprendIcon"),et=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const J=S.element;m(J),_(F,G);const ht=g();p(et,X),J.append(et,L,F,ht),document.body.appendChild(J)}u?(L.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function fD(){const e=Df()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mD(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function pD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gD(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function yD(){return!fD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function _D(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const vD="FirebaseError";class Qi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=vD,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Aa.prototype.create)}}class Aa{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?TD(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Qi(o,m,r)}}function TD(e,t){return e.replace(ED,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const ED=/\{\$([^}]+)}/g;function AD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ga(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=e[o],c=t[o];if(F0(u)&&F0(c)){if(!ga(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function F0(e){return e!==null&&typeof e=="object"}function ju(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function SD(e,t){const n=new bD(e,t);return n.subscribe.bind(n)}class bD{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wD(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=sp),o.error===void 0&&(o.error=sp),o.complete===void 0&&(o.complete=sp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wD(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function sp(){}function on(e){return e&&e._delegate?e._delegate:e}class di{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const aa="[DEFAULT]";class RD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new oD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ID(t))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=aa){return this.instances.has(t)}getOptions(t=aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CD(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=aa){return this.component?this.component.multipleInstances?t:aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CD(e){return e===aa?void 0:e}function ID(e){return e.instantiationMode==="EAGER"}class DD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new RD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var kt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(kt||(kt={}));const VD={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},MD=kt.INFO,OD={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},ND=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=OD[t];if(o)console[o](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Mg{constructor(t){this.name=t,this._logLevel=MD,this._logHandler=ND,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?VD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const xD=(e,t)=>t.some(n=>e instanceof n);let H0,G0;function PD(){return H0||(H0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kD(){return G0||(G0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WS=new WeakMap,Up=new WeakMap,ZS=new WeakMap,rp=new WeakMap,Og=new WeakMap;function LD(e){const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{n(_s(e.result)),o()},c=()=>{r(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&WS.set(n,e)}).catch(()=>{}),Og.set(t,e),t}function UD(e){if(Up.has(e))return;const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});Up.set(e,t)}let zp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Up.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ZS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function zD(e){zp=e(zp)}function BD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ap(this),t,...n);return ZS.set(r,t.sort?t.sort():[t]),_s(r)}:kD().includes(e)?function(...t){return e.apply(ap(this),t),_s(WS.get(this))}:function(...t){return _s(e.apply(ap(this),t))}}function jD(e){return typeof e=="function"?BD(e):(e instanceof IDBTransaction&&UD(e),xD(e,PD())?new Proxy(e,zp):e)}function _s(e){if(e instanceof IDBRequest)return LD(e);if(rp.has(e))return rp.get(e);const t=jD(e);return t!==e&&(rp.set(e,t),Og.set(t,e)),t}const ap=e=>Og.get(e);function Vf(e,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),m=_s(c);return r&&c.addEventListener("upgradeneeded",p=>{r(_s(c.result),p.oldVersion,p.newVersion,_s(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}function op(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),_s(n).then(()=>{})}const qD=["get","getKey","getAll","getAllKeys","count"],FD=["put","add","delete","clear"],lp=new Map;function K0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(lp.get(t))return lp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=FD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||qD.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return lp.set(t,u),u}zD(e=>({...e,get:(t,n,r)=>K0(t,n)||e.get(t,n,r),has:(t,n)=>!!K0(t,n)||e.has(t,n)}));class HD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GD(e){return e.getComponent()?.type==="VERSION"}const Bp="@firebase/app",Y0="0.14.6";const Ts=new Mg("@firebase/app"),KD="@firebase/app-compat",YD="@firebase/analytics-compat",QD="@firebase/analytics",XD="@firebase/app-check-compat",$D="@firebase/app-check",WD="@firebase/auth",ZD="@firebase/auth-compat",JD="@firebase/database",t2="@firebase/data-connect",e2="@firebase/database-compat",n2="@firebase/functions",i2="@firebase/functions-compat",s2="@firebase/installations",r2="@firebase/installations-compat",a2="@firebase/messaging",o2="@firebase/messaging-compat",l2="@firebase/performance",u2="@firebase/performance-compat",c2="@firebase/remote-config",h2="@firebase/remote-config-compat",f2="@firebase/storage",d2="@firebase/storage-compat",m2="@firebase/firestore",p2="@firebase/ai",g2="@firebase/firestore-compat",y2="firebase",_2="12.6.0";const jp="[DEFAULT]",v2={[Bp]:"fire-core",[KD]:"fire-core-compat",[QD]:"fire-analytics",[YD]:"fire-analytics-compat",[$D]:"fire-app-check",[XD]:"fire-app-check-compat",[WD]:"fire-auth",[ZD]:"fire-auth-compat",[JD]:"fire-rtdb",[t2]:"fire-data-connect",[e2]:"fire-rtdb-compat",[n2]:"fire-fn",[i2]:"fire-fn-compat",[s2]:"fire-iid",[r2]:"fire-iid-compat",[a2]:"fire-fcm",[o2]:"fire-fcm-compat",[l2]:"fire-perf",[u2]:"fire-perf-compat",[c2]:"fire-rc",[h2]:"fire-rc-compat",[f2]:"fire-gcs",[d2]:"fire-gcs-compat",[m2]:"fire-fst",[g2]:"fire-fst-compat",[p2]:"fire-vertex","fire-js":"fire-js",[y2]:"fire-js-all"};const nf=new Map,T2=new Map,qp=new Map;function Q0(e,t){try{e.container.addComponent(t)}catch(n){Ts.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ki(e){const t=e.name;if(qp.has(t))return Ts.debug(`There were multiple attempts to register component ${t}.`),!1;qp.set(t,e);for(const n of nf.values())Q0(n,e);for(const n of T2.values())Q0(n,e);return!0}function Fo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ci(e){return e==null?!1:e.settings!==void 0}const E2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new Aa("app","Firebase",E2);class A2{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const Ho=_2;function JS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:jp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw dr.create("bad-app-name",{appName:String(o)});if(n||(n=GS()),!n)throw dr.create("no-options");const u=nf.get(o);if(u){if(ga(n,u.options)&&ga(r,u.config))return u;throw dr.create("duplicate-app",{appName:o})}const c=new DD(o);for(const p of qp.values())c.addComponent(p);const m=new A2(n,r,c);return nf.set(o,m),m}function Ng(e=jp){const t=nf.get(e);if(!t&&e===jp&&GS())return JS();if(!t)throw dr.create("no-app",{appName:e});return t}function Qn(e,t,n){let r=v2[e]??e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ts.warn(c.join(" "));return}Ki(new di(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const S2="firebase-heartbeat-database",b2=1,Su="firebase-heartbeat-store";let up=null;function tb(){return up||(up=Vf(S2,b2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Su)}catch(n){console.warn(n)}}}}).catch(e=>{throw dr.create("idb-open",{originalErrorMessage:e.message})})),up}async function w2(e){try{const n=(await tb()).transaction(Su),r=await n.objectStore(Su).get(eb(e));return await n.done,r}catch(t){if(t instanceof Qi)Ts.warn(t.message);else{const n=dr.create("idb-get",{originalErrorMessage:t?.message});Ts.warn(n.message)}}}async function X0(e,t){try{const r=(await tb()).transaction(Su,"readwrite");await r.objectStore(Su).put(t,eb(e)),await r.done}catch(n){if(n instanceof Qi)Ts.warn(n.message);else{const r=dr.create("idb-set",{originalErrorMessage:n?.message});Ts.warn(r.message)}}}function eb(e){return`${e.name}!${e.options.appId}`}const R2=1024,C2=30;class I2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>C2){const o=M2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ts.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$0(),{heartbeatsToSend:n,unsentEntries:r}=D2(this._heartbeatsCache.heartbeats),o=ef(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ts.warn(t),""}}}function $0(){return new Date().toISOString().substring(0,10)}function D2(e,t=R2){const n=[];let r=e.slice();for(const o of e){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),W0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),W0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class V2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await w2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return X0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return X0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function W0(e){return ef(JSON.stringify({version:2,heartbeats:e})).length}function M2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function O2(e){Ki(new di("platform-logger",t=>new HD(t),"PRIVATE")),Ki(new di("heartbeat",t=>new I2(t),"PRIVATE")),Qn(Bp,Y0,e),Qn(Bp,Y0,"esm2020"),Qn("fire-js","")}O2("");var N2="firebase",x2="12.6.0";Qn(N2,x2,"app");function nb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P2=nb,ib=new Aa("auth","Firebase",nb());const sf=new Mg("@firebase/auth");function k2(e,...t){sf.logLevel<=kt.WARN&&sf.warn(`Auth (${Ho}): ${e}`,...t)}function Bh(e,...t){sf.logLevel<=kt.ERROR&&sf.error(`Auth (${Ho}): ${e}`,...t)}function Es(e,...t){throw xg(e,...t)}function Ui(e,...t){return xg(e,...t)}function sb(e,t,n){const r={...P2(),[t]:n};return new Aa("auth","Firebase",r).create(t,{appName:e.name})}function mr(e){return sb(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xg(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ib.create(e,...t)}function Tt(e,t,...n){if(!e)throw xg(t,...n)}function gs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Bh(t),new Error(t)}function As(e,t){e||gs(t)}function Fp(){return typeof self<"u"&&self.location?.href||""}function L2(){return Z0()==="http:"||Z0()==="https:"}function Z0(){return typeof self<"u"&&self.location?.protocol||null}function U2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L2()||mD()||"connection"in navigator)?navigator.onLine:!0}function z2(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class qu{constructor(t,n){this.shortDelay=t,this.longDelay=n,As(n>t,"Short delay should be less than long delay!"),this.isMobile=hD()||pD()}get(){return U2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pg(e,t){As(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class rb{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const B2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const j2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q2=new qu(3e4,6e4);function Mf(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Go(e,t,n,r,o={}){return ab(e,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=ju({key:e.config.apiKey,...c}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:p,...u};return dD()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&qo(e.emulatorConfig.host)&&(g.credentials="include"),rb.fetch()(await lb(e,e.config.apiHost,n,m),g)})}async function ab(e,t,n){e._canInitEmulator=!1;const r={...B2,...t};try{const o=new F2(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Dh(e,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Dh(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw Dh(e,"user-disabled",c);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw sb(e,_,g);Es(e,_)}}catch(o){if(o instanceof Qi)throw o;Es(e,"network-request-failed",{message:String(o)})}}async function ob(e,t,n,r,o={}){const u=await Go(e,t,n,r,o);return"mfaPendingCredential"in u&&Es(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function lb(e,t,n,r){const o=`${t}${n}?${r}`,u=e,c=u.config.emulator?Pg(e.config,o):`${e.config.apiScheme}://${o}`;return j2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class F2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),q2.get())})}}function Dh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ui(e,t,r);return o.customData._tokenResponse=n,o}async function H2(e,t){return Go(e,"POST","/v1/accounts:delete",t)}async function rf(e,t){return Go(e,"POST","/v1/accounts:lookup",t)}function du(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function G2(e,t=!1){const n=on(e),r=await n.getIdToken(t),o=kg(r);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:du(cp(o.auth_time)),issuedAtTime:du(cp(o.iat)),expirationTime:du(cp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function cp(e){return Number(e)*1e3}function kg(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{const o=FS(n);return o?JSON.parse(o):(Bh("Failed to decode base64 JWT payload"),null)}catch(o){return Bh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function J0(e){const t=kg(e);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function bu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Qi&&K2(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function K2({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class Y2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function af(e){const t=e.auth,n=await e.getIdToken(),r=await bu(e,rf(t,{idToken:n}));Tt(r?.users.length,t,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?ub(o.providerUserInfo):[],c=X2(e.providerData,u),m=e.isAnonymous,p=!(e.email&&o.passwordHash)&&!c?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Hp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(e,_)}async function Q2(e){const t=on(e);await af(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function X2(e,t){return[...e.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function ub(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function $2(e,t){const n=await ab(e,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,c=await lb(e,o,"/v1/token",`key=${u}`),m=await e._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return e.emulatorConfig&&qo(e.emulatorConfig.host)&&(p.credentials="include"),rb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W2(e,t){return Go(e,"POST","/v2/accounts:revokeToken",Mf(e,t))}class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):J0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=J0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await $2(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new Io;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Tt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return gs("not implemented")}}function ar(e,t){Tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await bu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return G2(this,t)}reload(){return Q2(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await af(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(mr(this.auth));const t=await this.getIdToken();return await bu(this,H2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:V,providerData:L,stsTokenManager:G}=n;Tt(E&&G,t,"internal-error");const F=Io.fromJSON(this.name,G);Tt(typeof E=="string",t,"internal-error"),ar(r,t.name),ar(o,t.name),Tt(typeof S=="boolean",t,"internal-error"),Tt(typeof V=="boolean",t,"internal-error"),ar(u,t.name),ar(c,t.name),ar(m,t.name),ar(p,t.name),ar(g,t.name),ar(_,t.name);const X=new hi({uid:E,auth:t,email:o,emailVerified:S,displayName:r,isAnonymous:V,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:_});return L&&Array.isArray(L)&&(X.providerData=L.map(et=>({...et}))),p&&(X._redirectEventId=p),X}static async _fromIdTokenResponse(t,n,r=!1){const o=new Io;o.updateFromServerResponse(n);const u=new hi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await af(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ub(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Io;m.updateFromIdToken(r);const p=new hi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const tE=new Map;function ys(e){As(e instanceof Function,"Expected a class definition");let t=tE.get(e);return t?(As(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tE.set(e,t),t)}class cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}cb.type="NONE";const eE=cb;function jh(e,t,n){return`firebase:${e}:${t}:${n}`}class Do{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=jh(this.userKey,o.apiKey,u),this.fullPersistenceKey=jh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await rf(this.auth,{idToken:t}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Do(ys(eE),t,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ys(eE);const c=jh(r,t.config.apiKey,t.name);let m=null;for(const g of n)try{const _=await g._get(c);if(_){let E;if(typeof _=="string"){const S=await rf(t,{idToken:_}).catch(()=>{});if(!S)break;E=await hi._fromGetAccountInfoResponse(t,S,_)}else E=hi._fromJSON(t,_);g!==u&&(m=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Do(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Do(u,t,r))}}function nE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gb(t))return"Blackberry";if(yb(t))return"Webos";if(fb(t))return"Safari";if((t.includes("chrome/")||db(t))&&!t.includes("edge/"))return"Chrome";if(pb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function hb(e=an()){return/firefox\//i.test(e)}function fb(e=an()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function db(e=an()){return/crios\//i.test(e)}function mb(e=an()){return/iemobile/i.test(e)}function pb(e=an()){return/android/i.test(e)}function gb(e=an()){return/blackberry/i.test(e)}function yb(e=an()){return/webos/i.test(e)}function Lg(e=an()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Z2(e=an()){return Lg(e)&&!!window.navigator?.standalone}function J2(){return gD()&&document.documentMode===10}function _b(e=an()){return Lg(e)||pb(e)||yb(e)||gb(e)||/windows phone/i.test(e)||mb(e)}function vb(e,t=[]){let n;switch(e){case"Browser":n=nE(an());break;case"Worker":n=`${nE(an())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${r}`}class tV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function eV(e,t={}){return Go(e,"GET","/v2/passwordPolicy",Mf(e,t))}const nV=6;class iV{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class sV{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iE(this),this.idTokenSubscription=new iE(this),this.beforeStateQueue=new tV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ib,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await rf(this,{idToken:t}),r=await hi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ci(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await af(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=z2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ci(this.app))return Promise.reject(mr(this));const n=t?on(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ci(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eV(this),n=new iV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Aa("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ys(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&k2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Of(e){return on(e)}class iE{constructor(t){this.auth=t,this.observer=null,this.addObserver=SD(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rV(e){Ug=e}function aV(e){return Ug.loadJS(e)}function oV(){return Ug.gapiScript}function lV(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function uV(e,t){const n=Fo(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ga(u,t??{}))return o;Es(o,"already-initialized")}return n.initialize({options:t})}function cV(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ys);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function hV(e,t,n){const r=Of(e);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=Tb(t),{host:c,port:m}=fV(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(ga(g,r.config.emulator)&&ga(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,qo(c)?(YS(`${u}//${c}${p}`),QS("Auth",!0)):dV()}function Tb(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function fV(e){const t=Tb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:sE(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:sE(c)}}}function sE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function dV(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class Eb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(t){return gs("not implemented")}_linkToIdToken(t,n){return gs("not implemented")}_getReauthenticationResolver(t){return gs("not implemented")}}async function Vo(e,t){return ob(e,"POST","/v1/accounts:signInWithIdp",Mf(e,t))}const mV="http://localhost";class ya extends Eb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ya(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const c=new ya(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Vo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Vo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Vo(t,n)}buildRequest(){const t={requestUri:mV,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ju(n)}return t}}class Ab{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fu extends Ab{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class lr extends Fu{constructor(){super("facebook.com")}static credential(t){return ya._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";class ur extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ya._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";class cr extends Fu{constructor(){super("github.com")}static credential(t){return ya._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cr.credential(t.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";class hr extends Fu{constructor(){super("twitter.com")}static credential(t,n){return ya._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.TWITTER_SIGN_IN_METHOD="twitter.com";hr.PROVIDER_ID="twitter.com";async function pV(e,t){return ob(e,"POST","/v1/accounts:signUp",Mf(e,t))}class yr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await hi._fromIdTokenResponse(t,r,o),c=rE(r);return new yr({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=rE(r);return new yr({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function rE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function gV(e){if(ci(e.app))return Promise.reject(mr(e));const t=Of(e);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new yr({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await pV(t,{returnSecureToken:!0}),r=await yr._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(r.user),r}class of extends Qi{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,of.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new of(t,n,r,o)}}function Sb(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?of._fromErrorAndOperation(e,u,t,r):u})}async function yV(e,t,n=!1){const r=await bu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return yr._forOperation(e,"link",r)}async function _V(e,t,n=!1){const{auth:r}=e;if(ci(r.app))return Promise.reject(mr(r));const o="reauthenticate";try{const u=await bu(e,Sb(r,o,t,e),n);Tt(u.idToken,r,"internal-error");const c=kg(u.idToken);Tt(c,r,"internal-error");const{sub:m}=c;return Tt(e.uid===m,r,"user-mismatch"),yr._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Es(r,"user-mismatch"),u}}async function vV(e,t,n=!1){if(ci(e.app))return Promise.reject(mr(e));const r="signIn",o=await Sb(e,r,t),u=await yr._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(u.user),u}function TV(e,t,n,r){return on(e).onIdTokenChanged(t,n,r)}function EV(e,t,n){return on(e).beforeAuthStateChanged(t,n)}function AV(e,t,n,r){return on(e).onAuthStateChanged(t,n,r)}const lf="__sak";class bb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const SV=1e3,bV=10;class wb extends bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_b(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);J2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,bV):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},SV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}wb.type="LOCAL";const wV=wb;class Rb extends bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Rb.type="SESSION";const Cb=Rb;function RV(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Nf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Nf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await RV(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nf.receivers=[];function zg(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}class CV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=zg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function zi(){return window}function IV(e){zi().location.href=e}function Ib(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function DV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VV(){return navigator?.serviceWorker?.controller||null}function MV(){return Ib()?self:null}const Db="firebaseLocalStorageDb",OV=1,uf="firebaseLocalStorage",Vb="fbase_key";class Hu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xf(e,t){return e.transaction([uf],t?"readwrite":"readonly").objectStore(uf)}function NV(){const e=indexedDB.deleteDatabase(Db);return new Hu(e).toPromise()}function Gp(){const e=indexedDB.open(Db,OV);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(uf,{keyPath:Vb})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(uf)?t(r):(r.close(),await NV(),t(await Gp()))})})}async function aE(e,t,n){const r=xf(e,!0).put({[Vb]:t,value:n});return new Hu(r).toPromise()}async function xV(e,t){const n=xf(e,!1).get(t),r=await new Hu(n).toPromise();return r===void 0?null:r.value}function oE(e,t){const n=xf(e,!0).delete(t);return new Hu(n).toPromise()}const PV=800,kV=3;class Mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>kV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ib()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nf._getInstance(MV()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DV(),!this.activeServiceWorker)return;this.sender=new CV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||VV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gp();return await aE(t,lf,"1"),await oE(t,lf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>xV(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>oE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=xf(o,!1).getAll();return new Hu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mb.type="LOCAL";const LV=Mb;new qu(3e4,6e4);function UV(e,t){return t?ys(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class Bg extends Eb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Vo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Vo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Vo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function zV(e){return vV(e.auth,new Bg(e),e.bypassAuthState)}function BV(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),_V(n,new Bg(e),e.bypassAuthState)}async function jV(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),yV(n,new Bg(e),e.bypassAuthState)}class Ob{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zV;case"linkViaPopup":case"linkViaRedirect":return jV;case"reauthViaPopup":case"reauthViaRedirect":return BV;default:Es(this.auth,"internal-error")}}resolve(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qV=new qu(2e3,1e4);class Ao extends Ob{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const t=zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,qV.get())};t()}}Ao.currentPopupAction=null;const FV="pendingRedirect",qh=new Map;class HV extends Ob{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=qh.get(this.auth._key());if(!t){try{const r=await GV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}qh.set(this.auth._key(),t)}return this.bypassAuthState||qh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GV(e,t){const n=QV(t),r=YV(e);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function KV(e,t){qh.set(e._key(),t)}function YV(e){return ys(e._redirectPersistence)}function QV(e){return jh(FV,e.config.apiKey,e.name)}async function XV(e,t,n=!1){if(ci(e.app))return Promise.reject(mr(e));const r=Of(e),o=UV(r,t),c=await new HV(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const $V=600*1e3;class WV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZV(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Nb(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$V&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(t))}saveEventToCache(t){this.cachedEventUids.add(lE(t)),this.lastProcessedEventTime=Date.now()}}function lE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Nb({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function ZV(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nb(e);default:return!1}}async function JV(e,t={}){return Go(e,"GET","/v1/projects",t)}const tM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eM=/^https?/;async function nM(e){if(e.config.emulator)return;const{authorizedDomains:t}=await JV(e);for(const n of t)try{if(iM(n))return}catch{}Es(e,"unauthorized-domain")}function iM(e){const t=Fp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!eM.test(n))return!1;if(tM.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const sM=new qu(3e4,6e4);function uE(){const e=zi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function rM(e){return new Promise((t,n)=>{function r(){uE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uE(),n(Ui(e,"network-request-failed"))},timeout:sM.get()})}if(zi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(zi().gapi?.load)r();else{const o=lV("iframefcb");return zi()[o]=()=>{gapi.load?r():n(Ui(e,"network-request-failed"))},aV(`${oV()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Fh=null,t})}let Fh=null;function aM(e){return Fh=Fh||rM(e),Fh}const oM=new qu(5e3,15e3),lM="__/auth/iframe",uM="emulator/auth/iframe",cM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fM(e){const t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Pg(t,uM):`https://${e.config.authDomain}/${lM}`,r={apiKey:t.apiKey,appName:e.name,v:Ho},o=hM.get(e.config.apiHost);o&&(r.eid=o);const u=e._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${ju(r).slice(1)}`}async function dM(e){const t=await aM(e),n=zi().gapi;return Tt(n,e,"internal-error"),t.open({where:document.body,url:fM(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cM,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Ui(e,"network-request-failed"),m=zi().setTimeout(()=>{u(c)},oM.get());function p(){zi().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const mM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pM=500,gM=600,yM="_blank",_M="http://localhost";class cE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vM(e,t,n,r=pM,o=gM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...mM,width:r.toString(),height:o.toString(),top:u,left:c},g=an().toLowerCase();n&&(m=db(g)?yM:n),hb(g)&&(t=t||_M,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[V,L])=>`${S}${V}=${L},`,"");if(Z2(g)&&m!=="_self")return TM(t||"",m),new cE(null);const E=window.open(t||"",m,_);Tt(E,e,"popup-blocked");try{E.focus()}catch{}return new cE(E)}function TM(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const EM="__/auth/handler",AM="emulator/auth/handler",SM=encodeURIComponent("fac");async function hE(e,t,n,r,o,u){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ho,eventId:o};if(t instanceof Ab){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",AD(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(t instanceof Fu){const _=t.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}e.tenantId&&(c.tid=e.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await e._getAppCheckToken(),g=p?`#${SM}=${encodeURIComponent(p)}`:"";return`${bM(e)}?${ju(m).slice(1)}${g}`}function bM({config:e}){return e.emulator?Pg(e,AM):`https://${e.authDomain}/${EM}`}const hp="webStorageSupport";class wM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cb,this._completeRedirectFn=XV,this._overrideRedirectResult=KV}async _openPopup(t,n,r,o){As(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await hE(t,n,r,Fp(),o);return vM(t,u,zg())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await hE(t,n,r,Fp(),o);return IV(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(As(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await dM(t),r=new WV(t);return n.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(hp,{type:hp},o=>{const u=o?.[0]?.[hp];u!==void 0&&n(!!u),Es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nM(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _b()||fb()||Lg()}}const RM=wM;var fE="@firebase/auth",dE="1.11.1";class CM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DM(e){Ki(new di("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vb(e)},g=new sV(r,o,u,p);return cV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ki(new di("auth-internal",t=>{const n=Of(t.getProvider("auth").getImmediate());return(r=>new CM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(fE,dE,IM(e)),Qn(fE,dE,"esm2020")}const VM=300,MM=KS("authIdTokenMaxAge")||VM;let mE=null;const OM=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MM)return;const o=n?.token;mE!==o&&(mE=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function NM(e=Ng()){const t=Fo(e,"auth");if(t.isInitialized())return t.getImmediate();const n=uV(e,{popupRedirectResolver:RM,persistence:[LV,wV,Cb]}),r=KS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=OM(u.toString());EV(n,c,()=>c(n.currentUser)),TV(n,m=>c(m))}}const o=HS("auth");return o&&hV(n,`http://${o}`),n}function xM(){return document.getElementsByTagName("head")?.[0]??document}rV({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=o=>{const u=Ui("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",xM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DM("Browser");var pE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,xb;(function(){var e;function t(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(N,M,k){for(var I=Array(arguments.length-2),te=2;te<arguments.length;te++)I[te-2]=arguments[te];return w.prototype[M].apply(N,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,C){C||(C=0);const N=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)N[M]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(M=0;M<16;++M)N[M]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],M=R.g[2];let k=R.g[3],I;I=w+(k^C&(M^k))+N[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(M^w&(C^M))+N[1]+3905402710&4294967295,k=w+(I<<12&4294967295|I>>>20),I=M+(C^k&(w^C))+N[2]+606105819&4294967295,M=k+(I<<17&4294967295|I>>>15),I=C+(w^M&(k^w))+N[3]+3250441966&4294967295,C=M+(I<<22&4294967295|I>>>10),I=w+(k^C&(M^k))+N[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(M^w&(C^M))+N[5]+1200080426&4294967295,k=w+(I<<12&4294967295|I>>>20),I=M+(C^k&(w^C))+N[6]+2821735955&4294967295,M=k+(I<<17&4294967295|I>>>15),I=C+(w^M&(k^w))+N[7]+4249261313&4294967295,C=M+(I<<22&4294967295|I>>>10),I=w+(k^C&(M^k))+N[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(M^w&(C^M))+N[9]+2336552879&4294967295,k=w+(I<<12&4294967295|I>>>20),I=M+(C^k&(w^C))+N[10]+4294925233&4294967295,M=k+(I<<17&4294967295|I>>>15),I=C+(w^M&(k^w))+N[11]+2304563134&4294967295,C=M+(I<<22&4294967295|I>>>10),I=w+(k^C&(M^k))+N[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(M^w&(C^M))+N[13]+4254626195&4294967295,k=w+(I<<12&4294967295|I>>>20),I=M+(C^k&(w^C))+N[14]+2792965006&4294967295,M=k+(I<<17&4294967295|I>>>15),I=C+(w^M&(k^w))+N[15]+1236535329&4294967295,C=M+(I<<22&4294967295|I>>>10),I=w+(M^k&(C^M))+N[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^M&(w^C))+N[6]+3225465664&4294967295,k=w+(I<<9&4294967295|I>>>23),I=M+(w^C&(k^w))+N[11]+643717713&4294967295,M=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(M^k))+N[0]+3921069994&4294967295,C=M+(I<<20&4294967295|I>>>12),I=w+(M^k&(C^M))+N[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^M&(w^C))+N[10]+38016083&4294967295,k=w+(I<<9&4294967295|I>>>23),I=M+(w^C&(k^w))+N[15]+3634488961&4294967295,M=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(M^k))+N[4]+3889429448&4294967295,C=M+(I<<20&4294967295|I>>>12),I=w+(M^k&(C^M))+N[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^M&(w^C))+N[14]+3275163606&4294967295,k=w+(I<<9&4294967295|I>>>23),I=M+(w^C&(k^w))+N[3]+4107603335&4294967295,M=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(M^k))+N[8]+1163531501&4294967295,C=M+(I<<20&4294967295|I>>>12),I=w+(M^k&(C^M))+N[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^M&(w^C))+N[2]+4243563512&4294967295,k=w+(I<<9&4294967295|I>>>23),I=M+(w^C&(k^w))+N[7]+1735328473&4294967295,M=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(M^k))+N[12]+2368359562&4294967295,C=M+(I<<20&4294967295|I>>>12),I=w+(C^M^k)+N[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^M)+N[8]+2272392833&4294967295,k=w+(I<<11&4294967295|I>>>21),I=M+(k^w^C)+N[11]+1839030562&4294967295,M=k+(I<<16&4294967295|I>>>16),I=C+(M^k^w)+N[14]+4259657740&4294967295,C=M+(I<<23&4294967295|I>>>9),I=w+(C^M^k)+N[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^M)+N[4]+1272893353&4294967295,k=w+(I<<11&4294967295|I>>>21),I=M+(k^w^C)+N[7]+4139469664&4294967295,M=k+(I<<16&4294967295|I>>>16),I=C+(M^k^w)+N[10]+3200236656&4294967295,C=M+(I<<23&4294967295|I>>>9),I=w+(C^M^k)+N[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^M)+N[0]+3936430074&4294967295,k=w+(I<<11&4294967295|I>>>21),I=M+(k^w^C)+N[3]+3572445317&4294967295,M=k+(I<<16&4294967295|I>>>16),I=C+(M^k^w)+N[6]+76029189&4294967295,C=M+(I<<23&4294967295|I>>>9),I=w+(C^M^k)+N[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^M)+N[12]+3873151461&4294967295,k=w+(I<<11&4294967295|I>>>21),I=M+(k^w^C)+N[15]+530742520&4294967295,M=k+(I<<16&4294967295|I>>>16),I=C+(M^k^w)+N[2]+3299628645&4294967295,C=M+(I<<23&4294967295|I>>>9),I=w+(M^(C|~k))+N[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~M))+N[7]+1126891415&4294967295,k=w+(I<<10&4294967295|I>>>22),I=M+(w^(k|~C))+N[14]+2878612391&4294967295,M=k+(I<<15&4294967295|I>>>17),I=C+(k^(M|~w))+N[5]+4237533241&4294967295,C=M+(I<<21&4294967295|I>>>11),I=w+(M^(C|~k))+N[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~M))+N[3]+2399980690&4294967295,k=w+(I<<10&4294967295|I>>>22),I=M+(w^(k|~C))+N[10]+4293915773&4294967295,M=k+(I<<15&4294967295|I>>>17),I=C+(k^(M|~w))+N[1]+2240044497&4294967295,C=M+(I<<21&4294967295|I>>>11),I=w+(M^(C|~k))+N[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~M))+N[15]+4264355552&4294967295,k=w+(I<<10&4294967295|I>>>22),I=M+(w^(k|~C))+N[6]+2734768916&4294967295,M=k+(I<<15&4294967295|I>>>17),I=C+(k^(M|~w))+N[13]+1309151649&4294967295,C=M+(I<<21&4294967295|I>>>11),I=w+(M^(C|~k))+N[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~M))+N[11]+3174756917&4294967295,k=w+(I<<10&4294967295|I>>>22),I=M+(w^(k|~C))+N[2]+718787259&4294967295,M=k+(I<<15&4294967295|I>>>17),I=C+(k^(M|~w))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+k&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,N=this.C;let M=this.h,k=0;for(;k<w;){if(M==0)for(;k<=C;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<w;)if(N[M++]=R.charCodeAt(k++),M==this.blockSize){o(this,N),M=0;break}}else for(;k<w;)if(N[M++]=R[k++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let N=0;N<32;N+=8)R[w++]=this.g[C]>>>N&255;return R};function u(R,w){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function c(R,w){this.h=w;const C=[];let N=!0;for(let M=R.length-1;M>=0;M--){const k=R[M]|0;N&&k==w||(C[M]=k,N=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(w){return new c([w|0],w<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return F(g(-R));const w=[];let C=1;for(let N=0;R>=C;N++)w[N]=R/C|0,C*=4294967296;return new c(w,0)}function _(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return F(_(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let N=E;for(let k=0;k<R.length;k+=8){var M=Math.min(8,R.length-k);const I=parseInt(R.substring(k,k+M),w);M<8?(M=g(Math.pow(w,M)),N=N.j(M).add(g(I))):(N=N.j(C),N=N.add(g(I)))}return N}var E=p(0),S=p(1),V=p(16777216);e=c.prototype,e.m=function(){if(G(this))return-F(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const N=this.i(C);R+=(N>=0?N:4294967296+N)*w,w*=4294967296}return R},e.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(G(this))return"-"+F(this).toString(R);const w=g(Math.pow(R,6));var C=this;let N="";for(;;){const M=ht(C,w).g;C=X(C,M.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=M,L(C))return k+N;for(;k.length<6;)k="0"+k;N=k+N}},e.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function G(R){return R.h==-1}e.l=function(R){return R=X(this,R),G(R)?-1:L(R)?0:1};function F(R){const w=R.g.length,C=[];for(let N=0;N<w;N++)C[N]=~R.g[N];return new c(C,~R.h).add(S)}e.abs=function(){return G(this)?F(this):this},e.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let N=0;for(let M=0;M<=w;M++){let k=N+(this.i(M)&65535)+(R.i(M)&65535),I=(k>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);N=I>>>16,k&=65535,I&=65535,C[M]=I<<16|k}return new c(C,C[C.length-1]&-2147483648?-1:0)};function X(R,w){return R.add(F(w))}e.j=function(R){if(L(this)||L(R))return E;if(G(this))return G(R)?F(this).j(F(R)):F(F(this).j(R));if(G(R))return F(this.j(F(R)));if(this.l(V)<0&&R.l(V)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var N=0;N<2*w;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(let M=0;M<R.g.length;M++){const k=this.i(N)>>>16,I=this.i(N)&65535,te=R.i(M)>>>16,fe=R.i(M)&65535;C[2*N+2*M]+=I*fe,et(C,2*N+2*M),C[2*N+2*M+1]+=k*fe,et(C,2*N+2*M+1),C[2*N+2*M+1]+=I*te,et(C,2*N+2*M+1),C[2*N+2*M+2]+=k*te,et(C,2*N+2*M+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new c(C,0)};function et(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function J(R,w){this.g=R,this.h=w}function ht(R,w){if(L(w))throw Error("division by zero");if(L(R))return new J(E,E);if(G(R))return w=ht(F(R),w),new J(F(w.g),F(w.h));if(G(w))return w=ht(R,F(w)),new J(F(w.g),w.h);if(R.g.length>30){if(G(R)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var C=S,N=w;N.l(R)<=0;)C=rt(C),N=rt(N);var M=ot(C,1),k=ot(N,1);for(N=ot(N,2),C=ot(C,2);!L(N);){var I=k.add(N);I.l(R)<=0&&(M=M.add(C),k=I),N=ot(N,1),C=ot(C,1)}return w=X(R,M.j(w)),new J(M,w)}for(M=E;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),k=g(C),I=k.j(w);G(I)||I.l(R)>0;)C-=N,k=g(C),I=k.j(w);L(k)&&(k=S),M=M.add(k),R=X(R,I)}return new J(M,R)}e.B=function(R){return ht(this,R).h},e.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)&R.i(N);return new c(C,this.h&R.h)},e.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)|R.i(N);return new c(C,this.h|R.h)},e.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)^R.i(N);return new c(C,this.h^R.h)};function rt(R){const w=R.g.length+1,C=[];for(let N=0;N<w;N++)C[N]=R.i(N)<<1|R.i(N-1)>>>31;return new c(C,R.h)}function ot(R,w){const C=w>>5;w%=32;const N=R.g.length-C,M=[];for(let k=0;k<N;k++)M[k]=w>0?R.i(k+C)>>>w|R.i(k+C+1)<<32-w:R.i(k+C);return new c(M,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,xb=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,pr=c}).apply(typeof pE<"u"?pE:typeof self<"u"?self:typeof window<"u"?window:{});var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Pb,ou,kb,Hh,Kp,Lb,Ub,zb;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vh=="object"&&Vh];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function o(h,y){if(y)t:{var T=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var U=h[b];if(!(U in T))break t;T=T[U]}h=h[h.length-1],b=T[h],y=y(b),y!=b&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&T.push([b,y[b]]);return T}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function _(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(b,U,q){for(var it=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)it[wt-2]=arguments[wt];return y.prototype[U].apply(b,it)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function V(h){const y=h.length;if(y>0){const T=Array(y);for(let b=0;b<y;b++)T[b]=h[b];return T}return[]}function L(h,y){for(let b=1;b<arguments.length;b++){const U=arguments[b];var T=typeof U;if(T=T!="object"?T:U?Array.isArray(U)?"array":T:"null",T=="array"||T=="object"&&typeof U.length=="number"){T=h.length||0;const q=U.length||0;h.length=T+q;for(let it=0;it<q;it++)h[T+it]=U[it]}else h.push(U)}}class G{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(h){c.setTimeout(()=>{throw h},0)}function X(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class et{constructor(){this.h=this.g=null}add(y,T){const b=J.get();b.set(y,T),this.h?this.h.next=b:this.g=b,this.h=b}}var J=new G(()=>new ht,h=>h.reset());class ht{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ot=!1,R=new et,w=()=>{const h=Promise.resolve(void 0);rt=()=>{h.then(C)}};function C(){for(var h;h=X();){try{h.h.call(h.g)}catch(T){F(T)}var y=J;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ot=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function te(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(te,M),te.prototype.init=function(h,y){const T=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function nt(h,y,T,b,U){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!b,this.ha=U,this.key=++Y,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ct(h,y,T){for(const b in h)y.call(T,h[b],b,h)}function Nt(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function x(h){const y={};for(const T in h)y[T]=h[T];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(h,y){let T,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(T in b)h[T]=b[T];for(let q=0;q<W.length;q++)T=W[q],Object.prototype.hasOwnProperty.call(b,T)&&(h[T]=b[T])}}function ct(h){this.src=h,this.g={},this.h=0}ct.prototype.add=function(h,y,T,b,U){const q=h.toString();h=this.g[q],h||(h=this.g[q]=[],this.h++);const it=It(h,y,b,U);return it>-1?(y=h[it],T||(y.fa=!1)):(y=new nt(y,this.src,q,!!b,U),y.fa=T,h.push(y)),y};function Et(h,y){const T=y.type;if(T in h.g){var b=h.g[T],U=Array.prototype.indexOf.call(b,y,void 0),q;(q=U>=0)&&Array.prototype.splice.call(b,U,1),q&&(ft(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function It(h,y,T,b){for(let U=0;U<h.length;++U){const q=h[U];if(!q.da&&q.listener==y&&q.capture==!!T&&q.ha==b)return U}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),xe={};function ae(h,y,T,b,U){if(Array.isArray(y)){for(let q=0;q<y.length;q++)ae(h,y[q],T,b,U);return null}return T=nl(T),h&&h[fe]?h.J(y,T,m(b)?!!b.capture:!1,U):Ir(h,y,T,!1,b,U)}function Ir(h,y,T,b,U,q){if(!y)throw Error("Invalid event type");const it=m(U)?!!U.capture:!!U;let wt=Dr(h);if(wt||(h[Bt]=wt=new ct(h)),T=wt.add(y,T,b,it,q),T.proxy)return T;if(b=Ca(),T.proxy=b,b.src=h,b.listener=T,h.addEventListener)k||(U=it),U===void 0&&(U=!1),h.addEventListener(y.toString(),b,U);else if(h.attachEvent)h.attachEvent(pi(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ca(){function h(T){return y.call(h.src,h.listener,T)}const y=tl;return h}function Ia(h,y,T,b,U){if(Array.isArray(y))for(var q=0;q<y.length;q++)Ia(h,y[q],T,b,U);else b=m(b)?!!b.capture:!!b,T=nl(T),h&&h[fe]?(h=h.i,q=String(y).toString(),q in h.g&&(y=h.g[q],T=It(y,T,b,U),T>-1&&(ft(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[q],h.h--)))):h&&(h=Dr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=It(y,T,b,U)),(T=h>-1?y[h]:null)&&Da(T))}function Da(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[fe])Et(y.i,h);else{var T=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(T,b,h.capture):y.detachEvent?y.detachEvent(pi(T),b):y.addListener&&y.removeListener&&y.removeListener(b),(T=Dr(y))?(Et(T,h),T.h==0&&(T.src=null,y[Bt]=null)):ft(h)}}}function pi(h){return h in xe?xe[h]:xe[h]="on"+h}function tl(h,y){if(h.da)h=!0;else{y=new te(y,this);const T=h.listener,b=h.ha||h.src;h.fa&&Da(h),h=T.call(b,y)}return h}function Dr(h){return h=h[Bt],h instanceof ct?h:null}var el="__closure_events_fn_"+(Math.random()*1e9>>>0);function nl(h){return typeof h=="function"?h:(h[el]||(h[el]=function(y){return h.handleEvent(y)}),h[el])}function Ee(){N.call(this),this.i=new ct(this),this.M=this,this.G=null}E(Ee,N),Ee.prototype[fe]=!0,Ee.prototype.removeEventListener=function(h,y,T,b){Ia(this,h,y,T,b)};function Pe(h,y){var T,b=h.G;if(b)for(T=[];b;b=b.G)T.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var U=y;y=new M(b,h),st(y,U)}U=!0;let q,it;if(T)for(it=T.length-1;it>=0;it--)q=y.g=T[it],U=Cs(q,b,!0,y)&&U;if(q=y.g=h,U=Cs(q,b,!0,y)&&U,U=Cs(q,b,!1,y)&&U,T)for(it=0;it<T.length;it++)q=y.g=T[it],U=Cs(q,b,!1,y)&&U}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let b=0;b<T.length;b++)ft(T[b]);delete h.g[y],h.h--}}this.G=null},Ee.prototype.J=function(h,y,T,b){return this.i.add(String(h),y,!1,T,b)},Ee.prototype.K=function(h,y,T,b){return this.i.add(String(h),y,!0,T,b)};function Cs(h,y,T,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let q=0;q<y.length;++q){const it=y[q];if(it&&!it.da&&it.capture==T){const wt=it.listener,ye=it.ha||it.src;it.fa&&Et(h.i,it),U=wt.call(ye,b)!==!1&&U}}return U&&!b.defaultPrevented}function td(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function tc(h){h.g=td(()=>{h.g=null,h.i&&(h.i=!1,tc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ln extends N{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:tc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(h){N.call(this),this.h=h,this.g={}}E(Vr,N);var il=[];function sl(h){Ct(h.g,function(y,T){this.g.hasOwnProperty(T)&&Da(y)},h),h.g={}}Vr.prototype.N=function(){Vr.Z.N.call(this),sl(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Is=c.JSON.stringify,ed=c.JSON.parse,ec=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function nc(){}function ic(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){M.call(this,"d")}E(He,M);function Mn(){M.call(this,"c")}E(Mn,M);var ge={},sc=null;function Va(){return sc=sc||new Ee}ge.Ia="serverreachability";function rc(h){M.call(this,ge.Ia,h)}E(rc,M);function gi(h){const y=Va();Pe(y,new rc(y))}ge.STAT_EVENT="statevent";function Mr(h,y){M.call(this,ge.STAT_EVENT,h),this.stat=y}E(Mr,M);function Ae(h){const y=Va();Pe(y,new Mr(y,h))}ge.Ja="timingevent";function yi(h,y){M.call(this,ge.Ja,h),this.size=y}E(yi,M);function _i(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function nd(h,y,T,b,U,q){h.info(function(){if(h.g)if(q){var it="",wt=q.split("&");for(let Ht=0;Ht<wt.length;Ht++){var ye=wt[Ht].split("=");if(ye.length>1){const oe=ye[0];ye=ye[1];const Pn=oe.split("_");it=Pn.length>=2&&Pn[1]=="type"?it+(oe+"="+ye+"&"):it+(oe+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+T+`
`+it})}function ac(h,y,T,b,U,q,it){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+T+`
`+q+" "+it})}function vi(h,y,T,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+id(h,T)+(b?" "+b:"")})}function Or(h,y){h.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function id(h,y){if(!h.g)return y;if(!y)return null;try{const q=JSON.parse(y);if(q){for(h=0;h<q.length;h++)if(Array.isArray(q[h])){var T=q[h];if(!(T.length<2)){var b=T[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let it=1;it<b.length;it++)b[it]=""}}}}return Is(q)}catch{return y}}var Nr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},al;function xr(){}E(xr,nc),xr.prototype.g=function(){return new XMLHttpRequest},al=new xr;function Xi(h){return encodeURIComponent(String(h))}function oc(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function Zn(h,y,T,b){this.j=h,this.i=y,this.l=T,this.S=b||1,this.V=new Vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Se={},Be={};function Ti(h,y,T){h.M=1,h.A=Pr(we(y)),h.u=T,h.R=!0,Ma(h,null)}function Ma(h,y){h.F=Date.now(),Ei(h),h.B=we(h.A);var T=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Pa(T.i,"t",b),h.C=0,T=h.j.L,h.h=new Jn,h.g=Ac(h.j,T?y:null,!h.u),h.P>0&&(h.O=new ln(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,b=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(il[0]=U.toString()),U=il);for(let q=0;q<U.length;q++){const it=ae(T,U[q],b||y.handleEvent,!1,y.h||y);if(!it)break;y.g[it.key]=it}y=h.J?x(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),gi(),nd(h.i,h.v,h.B,h.l,h.S,h.u)}Zn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ni(h)==3?y.j():this.Y(h)},Zn.prototype.Y=function(h){try{if(h==this.g)t:{const wt=ni(this.g),ye=this.g.ya(),Ht=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||wt!=4||ye==7||(ye==8||Ht<=0?gi(3):gi(2)),Ai(this);var y=this.g.ca();this.X=y;var T=sd(this);if(this.o=y==200,ac(this.i,this.v,this.B,this.l,this.S,wt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var q=b;break e}}q=null}if(h=q)vi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,h);else{this.o=!1,this.m=3,Ae(12),An(this),On(this);break t}}if(this.R){h=!0;let oe;for(;!this.K&&this.C<T.length;)if(oe=uc(this,T),oe==Be){wt==4&&(this.m=4,Ae(14),h=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Se){this.m=4,Ae(15),vi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else vi(this.i,this.l,oe,null),Si(this,oe);if(lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||T.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)vi(this.i,this.l,T,"[Invalid Chunked Response]"),An(this),On(this);else if(T.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),El(it),it.P=!0,Ae(11))}}else vi(this.i,this.l,T,null),Si(this,T);wt==4&&An(this),this.o&&!this.K&&(wt==4?_c(this.j,this):(this.o=!1,Ei(this)))}else Wi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),An(this),On(this)}}}catch{}finally{}};function sd(h){if(!lc(h))return h.g.la();const y=Ge(h.g);if(y==="")return"";let T="";const b=y.length,U=ni(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return An(h),On(h),"";h.h.i=new c.TextDecoder}for(let q=0;q<b;q++)h.h.h=!0,T+=h.h.i.decode(y[q],{stream:!(U&&q==b-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function lc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function uc(h,y){var T=h.C,b=y.indexOf(`
`,T);return b==-1?Be:(T=Number(y.substring(T,b)),isNaN(T)?Se:(b+=1,b+T>y.length?Be:(y=y.slice(b,b+T),h.C=b+T,y)))}Zn.prototype.cancel=function(){this.K=!0,An(this)};function Ei(h){h.T=Date.now()+h.H,Oa(h,h.H)}function Oa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=_i(g(h.aa,h),y)}function Ai(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Zn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Or(this.i,this.B),this.M!=2&&(gi(),Ae(17)),An(this),this.m=2,On(this)):Oa(this,this.T-h)};function On(h){h.j.I==0||h.K||_c(h.j,h)}function An(h){Ai(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,sl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Si(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||wi(T.h,h))){if(!h.L&&wi(T.h,h)&&T.I==3){try{var b=T.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Ba(T),ks(T);else break t;qr(T),Ae(18)}}else T.xa=U[1],0<T.xa-T.K&&U[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=_i(g(T.Va,T),6e3));bi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Mi(T,11)}else if((h.L||T.g==h)&&Ba(T),!I(y))for(U=T.Ba.g.parse(y),y=0;y<U.length;y++){let Ht=U[y];const oe=Ht[0];if(!(oe<=T.K))if(T.K=oe,Ht=Ht[1],T.I==2)if(Ht[0]=="c"){T.M=Ht[1],T.ba=Ht[2];const Pn=Ht[3];Pn!=null&&(T.ka=Pn,T.j.info("VER="+T.ka));const Oi=Ht[4];Oi!=null&&(T.za=Oi,T.j.info("SVER="+T.za));const ii=Ht[5];ii!=null&&typeof ii=="number"&&ii>0&&(b=1.5*ii,T.O=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const si=h.g;if(si){const Fr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var q=b.h;q.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ul(q,q.h),q.h=null))}if(b.G){const ja=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(b.wa=ja,Yt(b.J,b.G,ja))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),b=T;var it=h;if(b.na=Ec(b,b.L?b.ba:null,b.W),it.L){cl(b.h,it);var wt=it,ye=b.O;ye&&(wt.H=ye),wt.D&&(Ai(wt),Ei(wt)),b.g=it}else gc(b);T.i.length>0&&Vi(T)}else Ht[0]!="stop"&&Ht[0]!="close"||Mi(T,7);else T.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Mi(T,7):vl(T):Ht[0]!="noop"&&T.l&&T.l.qa(Ht),T.A=0)}}gi(4)}catch{}}var be=class{constructor(h,y){this.g=h,this.map=y}};function ol(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ll(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bi(h){return h.h?1:h.g?h.g.size:0}function wi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ul(h,y){h.g?h.g.add(y):h.h=y}function cl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ol.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function hl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return V(h.i)}var cc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const b=h[T].indexOf("=");let U,q=null;b>=0?(U=h[T].substring(0,b),q=h[T].substring(b+1)):U=h[T],y(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Sn?(this.l=h.l,je(this,h.j),this.o=h.o,this.g=h.g,Ds(this,h.u),this.h=h.h,fl(this,mc(h.i)),this.m=h.m):h&&(y=String(h).match(cc))?(this.l=!1,je(this,y[1]||"",!0),this.o=Ri(y[2]||""),this.g=Ri(y[3]||"",!0),Ds(this,y[4]),this.h=Ri(y[5]||"",!0),fl(this,y[6]||"",!0),this.m=Ri(y[7]||"")):(this.l=!1,this.i=new Ms(null,this.l))}Sn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(kr(y,xa,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(kr(y,xa,!0),"@"),h.push(Xi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(kr(T,T.charAt(0)=="/"?dl:hc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",kr(T,fc)),h.join("")},Sn.prototype.resolve=function(h){const y=we(this);let T=!!h.j;T?je(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var b=h.h;if(T)Ds(y,h.u);else if(T=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=y.h.lastIndexOf("/");U!=-1&&(b=y.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let it=0;it<U.length;){const wt=U[it++];wt=="."?b&&it==U.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&it==U.length&&q.push("")):(q.push(wt),b=!0)}b=q.join("/")}else b=U}return T?y.h=b:T=h.i.toString()!=="",T?fl(y,mc(h.i)):T=!!h.m,T&&(y.m=h.m),y};function we(h){return new Sn(h)}function je(h,y,T){h.j=T?Ri(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ds(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function fl(h,y,T){y instanceof Ms?(h.i=y,ka(h.i,h.l)):(T||(y=kr(y,Vs)),h.i=new Ms(y,h.l))}function Yt(h,y,T){h.i.set(y,T)}function Pr(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ri(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function kr(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,dn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xa=/[#\/\?@]/g,hc=/[#\?:]/g,dl=/[#\?]/g,Vs=/[#\?@]/g,fc=/#/g;function Ms(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function mn(h){h.g||(h.g=new Map,h.h=0,h.i&&Na(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}e=Ms.prototype,e.add=function(h,y){mn(this),this.i=null,h=Os(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function dc(h,y){mn(h),y=Os(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ml(h,y){return mn(h),y=Os(h,y),h.g.has(y)}e.forEach=function(h,y){mn(this),this.g.forEach(function(T,b){T.forEach(function(U){h.call(y,U,b,this)},this)},this)};function pl(h,y){mn(h);let T=[];if(typeof y=="string")ml(h,y)&&(T=T.concat(h.g.get(Os(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}e.set=function(h,y){return mn(this),this.i=null,h=Os(this,h),ml(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},e.get=function(h,y){return h?(h=pl(this,h),h.length>0?String(h[0]):y):y};function Pa(h,y,T){dc(h,y),T.length>0&&(h.i=null,h.g.set(Os(h,y),V(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var T=y[b];const U=Xi(T);T=pl(this,T);for(let q=0;q<T.length;q++){let it=U;T[q]!==""&&(it+="="+Xi(T[q])),h.push(it)}}return this.i=h.join("&")};function mc(h){const y=new Ms;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Os(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ka(h,y){y&&!h.j&&(mn(h),h.i=null,h.g.forEach(function(T,b){const U=b.toLowerCase();b!=U&&(dc(this,b),Pa(this,U,T))},h)),h.j=y}function ti(h,y){const T=new Wn;if(c.Image){const b=new Image;b.onload=_(Nn,T,"TestLoadImage: loaded",!0,y,b),b.onerror=_(Nn,T,"TestLoadImage: error",!1,y,b),b.onabort=_(Nn,T,"TestLoadImage: abort",!1,y,b),b.ontimeout=_(Nn,T,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function gl(h,y){const T=new Wn,b=new AbortController,U=setTimeout(()=>{b.abort(),Nn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(q=>{clearTimeout(U),q.ok?Nn(T,"TestPingServer: ok",!0,y):Nn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Nn(T,"TestPingServer: error",!1,y)})}function Nn(h,y,T,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(T)}catch{}}function Ns(){this.g=new ec}function Ci(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Ci,nc),Ci.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(h,y){Ee.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Lr,Ee),e=Lr.prototype,e.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ei(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;La(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function La(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?xs(this):ei(this),this.readyState==3&&La(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,xs(this))},e.Na=function(h){this.g&&(this.response=h,xs(this))},e.ga=function(){this.g&&xs(this)};function xs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ei(h)}e.setRequestHeader=function(h,y){this.A.append(h,y)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function ei(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xn(h){let y="";return Ct(h,function(T,b){y+=b,y+=":",y+=T,y+=`\r
`}),y}function Ur(h,y,T){t:{for(b in T){var b=!1;break t}b=!0}b||(T=xn(T),typeof h=="string"?T!=null&&Xi(T):Yt(h,y,T))}function $t(h){Ee.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E($t,Ee);var Ii=/^https?$/i,yl=["POST","PUT"];e=$t.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,y,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():al.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(q){zr(this,q);return}if(h=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)T.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())T.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(q=>q.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(yl,y,void 0)>=0)||b||U||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of T)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(q){zr(this,q)}};function zr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,_l(h),$i(h)}function _l(h){h.A||(h.A=!0,Pe(h,"complete"),Pe(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pe(this,"complete"),Pe(this,"abort"),$i(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),$t.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},e.Xa=function(){Br(this)};function Br(h){if(h.h&&typeof u<"u"){if(h.v&&ni(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pe(h,"readystatechange"),ni(h)==4){h.h=!1;try{const q=h.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var b;if(b=q===0){let it=String(h.D).match(cc)[1]||null;!it&&c.self&&c.self.location&&(it=c.self.location.protocol.slice(0,-1)),b=!Ii.test(it?it.toLowerCase():"")}T=b}if(T)Pe(h,"complete"),Pe(h,"success");else{h.o=6;try{var U=ni(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",_l(h)}}finally{$i(h)}}}}function $i(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Pe(h,"ready");try{T.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ni(h){return h.g?h.g.readyState:0}e.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),ed(y)}};function Ge(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(h){const y={};h=(h.g&&ni(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(I(h[b]))continue;var T=oc(h[b]);const U=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const q=y[U]||[];y[U]=q,q.push(T)}Nt(y,function(b){return b.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Ps(h){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,h),this.Za=Di("retryDelaySeedMs",1e4,h),this.Ta=Di("forwardChannelMaxRetries",2,h),this.va=Di("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(h&&h.concurrentRequestLimit),this.Ba=new Ns,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ps.prototype,e.ka=8,e.I=1,e.connect=function(h,y,T,b){Ae(0),this.W=h,this.H=y||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.J=Ec(this,null,this.W),Vi(this)};function vl(h){if(Ua(h),h.I==3){var y=h.V++,T=we(h.J);if(Yt(T,"SID",h.M),Yt(T,"RID",y),Yt(T,"TYPE","terminate"),jr(h,T),y=new Zn(h,h.j,y),y.M=2,y.A=Pr(we(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Ac(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ei(y)}Tc(h)}function ks(h){h.g&&(El(h),h.g.cancel(),h.g=null)}function Ua(h){ks(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ba(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Vi(h){if(!ll(h.h)&&!h.m){h.m=!0;var y=h.Ea;rt||w(),ot||(rt(),ot=!0),R.add(y,h),h.D=0}}function za(h,y){return bi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=_i(g(h.Ea,h,y),vc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new Zn(this,this.j,h);let q=this.o;if(this.U&&(q?(q=x(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=pc(this,U,y),T=we(this.J),Yt(T,"RID",h),Yt(T,"CVER",22),this.G&&Yt(T,"X-HTTP-Session-Id",this.G),jr(this,T),q&&(this.R?y="headers="+Xi(xn(q))+"&"+y:this.u&&Ur(T,this.u,q)),ul(this.h,U),this.Ra&&Yt(T,"TYPE","init"),this.S?(Yt(T,"$req",y),Yt(T,"SID","null"),U.U=!0,Ti(U,T,null)):Ti(U,T,y),this.I=2}}else this.I==3&&(h?Tl(this,h):this.i.length==0||ll(this.h)||Tl(this))};function Tl(h,y){var T;y?T=y.l:T=h.V++;const b=we(h.J);Yt(b,"SID",h.M),Yt(b,"RID",T),Yt(b,"AID",h.K),jr(h,b),h.u&&h.o&&Ur(b,h.u,h.o),T=new Zn(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=pc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ul(h.h,T),Ti(T,b,y)}function jr(h,y){h.H&&Ct(h.H,function(T,b){Yt(y,b,T)}),h.l&&Ct({},function(T,b){Yt(y,b,T)})}function pc(h,y,T){T=Math.min(h.i.length,T);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var U=h.i;let wt=-1;for(;;){const ye=["count="+T];wt==-1?T>0?(wt=U[0].g,ye.push("ofs="+wt)):wt=0:ye.push("ofs="+wt);let Ht=!0;for(let oe=0;oe<T;oe++){var q=U[oe].g;const Pn=U[oe].map;if(q-=wt,q<0)wt=Math.max(0,U[oe].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var it=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Oi,ii]of it){let si=ii;m(ii)&&(si=Is(ii)),ye.push(q+Oi+"="+encodeURIComponent(si))}}catch(Oi){throw ye.push(q+"type="+encodeURIComponent("_badmap")),Oi}}catch{b&&b(Pn)}}if(Ht){it=ye.join("&");break t}}it=void 0}return h=h.i.splice(0,T),y.G=h,it}function gc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;rt||w(),ot||(rt(),ot=!0),R.add(y,h),h.A=0}}function qr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=_i(g(h.Da,h),vc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,yc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=_i(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),ks(this),yc(this))};function El(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function yc(h){h.g=new Zn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=we(h.na);Yt(y,"RID","rpc"),Yt(y,"SID",h.M),Yt(y,"AID",h.K),Yt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(y,"TO",h.ia),Yt(y,"TYPE","xmlhttp"),jr(h,y),h.u&&h.o&&Ur(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Pr(we(y)),T.u=null,T.R=!0,Ma(T,h)}e.Va=function(){this.C!=null&&(this.C=null,ks(this),qr(this),Ae(19))};function Ba(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function _c(h,y){var T=null;if(h.g==y){Ba(h),El(h),h.g=null;var b=2}else if(wi(h.h,y))T=y.G,cl(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var U=h.D;b=Va(),Pe(b,new yi(b,T)),Vi(h)}else gc(h);else if(U=y.m,U==3||U==0&&y.X>0||!(b==1&&za(h,y)||b==2&&qr(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),U){case 1:Mi(h,5);break;case 4:Mi(h,10);break;case 3:Mi(h,6);break;default:Mi(h,2)}}}function vc(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Mi(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),b=h.Ua;const U=!b;b=new Sn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||je(b,"https"),Pr(b),U?ti(b.toString(),T):gl(b.toString(),T)}else Ae(2);h.I=0,h.l&&h.l.pa(y),Tc(h),Ua(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Tc(h){if(h.I=0,h.ja=[],h.l){const y=hl(h.h);(y.length!=0||h.i.length!=0)&&(L(h.ja,y),L(h.ja,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.oa()}}function Ec(h,y,T){var b=T instanceof Sn?we(T):new Sn(T);if(b.g!="")y&&(b.g=y+"."+b.g),Ds(b,b.u);else{var U=c.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const q=new Sn(null);b&&je(q,b),y&&(q.g=y),U&&Ds(q,U),T&&(q.h=T),b=q}return T=h.G,y=h.wa,T&&y&&Yt(b,T,y),Yt(b,"VER",h.ka),jr(h,b),b}function Ac(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new $t(new Ci({ab:T})):new $t(h.ma),y.Fa(h.L),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sc(){}e=Sc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Ls(){}Ls.prototype.g=function(h,y){return new un(h,y)};function un(h,y){Ee.call(this),this.g=new Ps(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Zi(this)}E(un,Ee),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){vl(this.g)},un.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Is(h),h=T);y.i.push(new be(y.Ya++,h)),y.I==3&&Vi(y)},un.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,un.Z.N.call(this)};function bc(h){He.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(bc,He);function wc(){Mn.call(this),this.status=1}E(wc,Mn);function Zi(h){this.g=h}E(Zi,Sc),Zi.prototype.ra=function(){Pe(this.g,"a")},Zi.prototype.qa=function(h){Pe(this.g,new bc(h))},Zi.prototype.pa=function(h){Pe(this.g,new wc)},Zi.prototype.oa=function(){Pe(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,zb=function(){return new Ls},Ub=function(){return Va()},Lb=ge,Kp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,Hh=Nr,rl.COMPLETE="complete",kb=rl,ic.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,ou=ic,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,Pb=$t}).apply(typeof Vh<"u"?Vh:typeof self<"u"?self:typeof window<"u"?window:{});const gE="@firebase/firestore",yE="4.9.2";class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Ko="12.3.0";const _a=new Mg("@firebase/firestore");function _o(){return _a.logLevel}function ut(e,...t){if(_a.logLevel<=kt.DEBUG){const n=t.map(jg);_a.debug(`Firestore (${Ko}): ${e}`,...n)}}function Ss(e,...t){if(_a.logLevel<=kt.ERROR){const n=t.map(jg);_a.error(`Firestore (${Ko}): ${e}`,...n)}}function xo(e,...t){if(_a.logLevel<=kt.WARN){const n=t.map(jg);_a.warn(`Firestore (${Ko}): ${e}`,...n)}}function jg(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function _t(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Bb(e,r,n)}function Bb(e,t,n){let r=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ss(r),new Error(r)}function Kt(e,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,e||Bb(t,o,r)}function bt(e,t){return e}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Qi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fa{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class jb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class kM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LM{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fa,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fa)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new jb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class UM{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zM{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new UM(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _E{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BM{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const r=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _E(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _E(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jM(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class qg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=jM(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Lt(e,t){return e<t?-1:e>t?1:0}function Yp(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const o=e.charAt(r),u=t.charAt(r);if(o!==u)return fp(o)===fp(u)?Lt(o,u):fp(o)?1:-1}return Lt(e.length,t.length)}const qM=55296,FM=57343;function fp(e){const t=e.charCodeAt(0);return t>=qM&&t<=FM}function Po(e,t,n){return e.length===t.length&&e.every(((r,o)=>n(r,t[o])))}const vE="__name__";class Li{constructor(t,n,r){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&_t(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Li.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Lt(t.length,n.length)}static compareSegments(t,n){const r=Li.isNumericId(t),o=Li.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Li.extractNumericId(t).compare(Li.extractNumericId(n)):Yp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return pr.fromString(t.substring(4,t.length-2))}}class ne extends Li{construct(t,n,r){return new ne(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const HM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Li{construct(t,n,r){return new Ze(t,n,r)}static isValidIdentifier(t){return HM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vE}static keyField(){return new Ze([vE])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ne.fromString(t))}static fromName(t){return new gt(ne.fromString(t).popFirst(5))}static empty(){return new gt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ne(t.slice()))}}function qb(e,t,n){if(!n)throw new lt(Z.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function GM(e,t,n,r){if(t===!0&&r===!0)throw new lt(Z.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function TE(e){if(!gt.isDocumentKey(e))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function EE(e){if(gt.isDocumentKey(e))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Fb(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Pf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":_t(12329,{type:typeof e})}function mu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pf(e);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Ne(e,t){const n={typeString:e};return t&&(n.value=t),n}function Gu(e,t){if(!Fb(e))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const c=e[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new lt(Z.INVALID_ARGUMENT,n);return!0}const AE=-62135596800,SE=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*SE);return new re(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<AE)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SE}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-AE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ne("string",re._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;function KM(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=At.fromTimestamp(r===1e9?new re(n+1,0):new re(n,r));return new _r(o,gt.empty(),t)}function YM(e){return new _r(e.readTime,e.key,wu)}class _r{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new _r(At.min(),gt.empty(),wu)}static max(){return new _r(At.max(),gt.empty(),wu)}}function QM(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(e.documentKey,t.documentKey),n!==0?n:Lt(e.largestBatchId,t.largestBatchId))}const XM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Yo(e){if(e.code!==Z.FAILED_PRECONDITION||e.message!==XM)throw e;ut("LocalStore","Unexpectedly lost primary lease")}class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.reject(n)}static resolve(t){return new tt(((n,r)=>{n(t)}))}static reject(t){return new tt(((n,r)=>{r(t)}))}static waitFor(t){return new tt(((n,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>r(p)))})),c=!0,u===o&&n()}))}static or(t){let n=tt.resolve(!1);for(const r of t)n=n.next((o=>o?tt.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new tt(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((_=>{c[g]=_,++m,m===u&&r(c)}),(_=>o(_)))}}))}static doWhile(t,n){return new tt(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function WM(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(e){return e.name==="IndexedDbTransactionError"}class kf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}kf.ce=-1;const Fg=-1;function Lf(e){return e==null}function cf(e){return e===0&&1/e==-1/0}function ZM(e){return typeof e=="number"&&Number.isInteger(e)&&!cf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Hb="";function JM(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=bE(t)),t=tO(e.get(n),t);return bE(t)}function tO(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case Hb:n+="";break;default:n+=u}}return n}function bE(e){return e+Hb+""}function wE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Sa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class he{constructor(t,n){this.comparator=t,this.root=n||We.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mh(this.root,t,this.comparator,!0)}}class Mh{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??We.RED,this.left=o??We.EMPTY,this.right=u??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new We(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return We.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new We(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new RE(this.data.getIterator())}getIteratorFrom(t){return new RE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ze(this.comparator);return n.data=t,n}}class RE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fi{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new fi([])}unionWith(t){let n=new ze(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new fi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Po(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class Kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Kb("Invalid base64 string: "+u):u}})(t);return new Je(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const eO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(e){if(Kt(!!e,39018),typeof e=="string"){let t=0;const n=eO.exec(e);if(Kt(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Te(e.seconds),nanos:Te(e.nanos)}}function Te(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Tr(e){return typeof e=="string"?Je.fromBase64String(e):Je.fromUint8Array(e)}const Yb="server_timestamp",Qb="__type__",Xb="__previous_value__",$b="__local_write_time__";function Hg(e){return(e?.mapValue?.fields||{})[Qb]?.stringValue===Yb}function Uf(e){const t=e.mapValue.fields[Xb];return Hg(t)?Uf(t):t}function Ru(e){const t=vr(e.mapValue.fields[$b].timestampValue);return new re(t.seconds,t.nanos)}class nO{constructor(t,n,r,o,u,c,m,p,g,_){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const hf="(default)";class Cu{constructor(t,n){this.projectId=t,this.database=n||hf}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===hf}isEqual(t){return t instanceof Cu&&t.projectId===this.projectId&&t.database===this.database}}const Wb="__type__",iO="__max__",Oh={mapValue:{}},Zb="__vector__",ff="value";function Er(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hg(e)?4:rO(e)?9007199254740991:sO(e)?10:11:_t(28295,{value:e})}function Yi(e,t){if(e===t)return!0;const n=Er(e);if(n!==Er(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ru(e).isEqual(Ru(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=vr(o.timestampValue),m=vr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,u){return Tr(o.bytesValue).isEqual(Tr(u.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(e,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Te(o.doubleValue),m=Te(u.doubleValue);return c===m?cf(c)===cf(m):isNaN(c)&&isNaN(m)}return!1})(e,t);case 9:return Po(e.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(wE(c)!==wE(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Yi(c[p],m[p])))return!1;return!0})(e,t);default:return _t(52216,{left:e})}}function Iu(e,t){return(e.values||[]).find((n=>Yi(n,t)))!==void 0}function ko(e,t){if(e===t)return 0;const n=Er(e),r=Er(t);if(n!==r)return Lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(e.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Te(u.integerValue||u.doubleValue),p=Te(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(e,t);case 3:return CE(e.timestampValue,t.timestampValue);case 4:return CE(Ru(e),Ru(t));case 5:return Yp(e.stringValue,t.stringValue);case 6:return(function(u,c){const m=Tr(u),p=Tr(c);return m.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Lt(m[g],p[g]);if(_!==0)return _}return Lt(m.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Lt(Te(u.latitude),Te(c.latitude));return m!==0?m:Lt(Te(u.longitude),Te(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return IE(e.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[ff]?.arrayValue,_=p[ff]?.arrayValue,E=Lt(g?.values?.length||0,_?.values?.length||0);return E!==0?E:IE(g,_)})(e.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Oh.mapValue&&c===Oh.mapValue)return 0;if(u===Oh.mapValue)return 1;if(c===Oh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const S=Yp(p[E],_[E]);if(S!==0)return S;const V=ko(m[p[E]],g[_[E]]);if(V!==0)return V}return Lt(p.length,_.length)})(e.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function CE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Lt(e,t);const n=vr(e),r=vr(t),o=Lt(n.seconds,r.seconds);return o!==0?o:Lt(n.nanos,r.nanos)}function IE(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=ko(n[o],r[o]);if(u)return u}return Lt(n.length,r.length)}function Lo(e){return Qp(e)}function Qp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=vr(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Tr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return gt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Qp(u);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Qp(n.fields[c])}`;return o+"}"})(e.mapValue):_t(61005,{value:e})}function Gh(e){switch(Er(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Uf(e);return t?16+Gh(t):16;case 5:return 2*e.stringValue.length;case 6:return Tr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Gh(u)),0)})(e.arrayValue);case 10:case 11:return(function(r){let o=0;return Sa(r.fields,((u,c)=>{o+=u.length+Gh(c)})),o})(e.mapValue);default:throw _t(13486,{value:e})}}function DE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Xp(e){return!!e&&"integerValue"in e}function Gg(e){return!!e&&"arrayValue"in e}function VE(e){return!!e&&"nullValue"in e}function ME(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Kh(e){return!!e&&"mapValue"in e}function sO(e){return(e?.mapValue?.fields||{})[Wb]?.stringValue===Zb}function pu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Sa(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=pu(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pu(e.arrayValue.values[n]);return t}return{...e}}function rO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===iO}class Gn{constructor(t){this.value=t}static empty(){return new Gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Kh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=pu(n)}setAll(t){let n=Ze.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}c?r[m.lastSegment()]=pu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Kh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){Sa(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Gn(pu(this.value))}}function Jb(e){const t=[];return Sa(e.fields,((n,r)=>{const o=new Ze([n]);if(Kh(r)){const u=Jb(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new fi(t)}class sn{constructor(t,n,r,o,u,c,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new sn(t,0,At.min(),At.min(),At.min(),Gn.empty(),0)}static newFoundDocument(t,n,r,o){return new sn(t,1,n,At.min(),r,o,0)}static newNoDocument(t,n){return new sn(t,2,n,At.min(),At.min(),Gn.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,At.min(),At.min(),Gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class df{constructor(t,n){this.position=t,this.inclusive=n}}function OE(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?r=gt.comparator(gt.fromName(c.referenceValue),n.key):r=ko(c,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function NE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Yi(e.position[n],t.position[n]))return!1;return!0}class Du{constructor(t,n="asc"){this.field=t,this.dir=n}}function aO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class tw{}class Oe extends tw{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new lO(t,n,r):n==="array-contains"?new hO(t,r):n==="in"?new fO(t,r):n==="not-in"?new dO(t,r):n==="array-contains-any"?new mO(t,r):new Oe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new uO(t,r):new cO(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ko(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends tw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new mi(t,n)}matches(t){return ew(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ew(e){return e.op==="and"}function nw(e){return oO(e)&&ew(e)}function oO(e){for(const t of e.filters)if(t instanceof mi)return!1;return!0}function $p(e){if(e instanceof Oe)return e.field.canonicalString()+e.op.toString()+Lo(e.value);if(nw(e))return e.filters.map((t=>$p(t))).join(",");{const t=e.filters.map((n=>$p(n))).join(",");return`${e.op}(${t})`}}function iw(e,t){return e instanceof Oe?(function(r,o){return o instanceof Oe&&r.op===o.op&&r.field.isEqual(o.field)&&Yi(r.value,o.value)})(e,t):e instanceof mi?(function(r,o){return o instanceof mi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&iw(c,o.filters[m])),!0):!1})(e,t):void _t(19439)}function sw(e){return e instanceof Oe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(e):e instanceof mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(sw).join(" ,")+"}"})(e):"Filter"}class lO extends Oe{constructor(t,n,r){super(t,n,r),this.key=gt.fromName(r.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class uO extends Oe{constructor(t,n){super(t,"in",n),this.keys=rw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class cO extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=rw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function rw(e,t){return(t.arrayValue?.values||[]).map((n=>gt.fromName(n.referenceValue)))}class hO extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Gg(n)&&Iu(n.arrayValue,this.value)}}class fO extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}}class dO extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Iu(this.value.arrayValue,n)}}class mO extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Iu(this.value.arrayValue,r)))}}class pO{constructor(t,n=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function xE(e,t=null,n=[],r=[],o=null,u=null,c=null){return new pO(e,t,n,r,o,u,c)}function Kg(e){const t=bt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>$p(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Lf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Lo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Lo(r))).join(",")),t.Te=n}return t.Te}function Yg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!aO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!iw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!NE(e.startAt,t.startAt)&&NE(e.endAt,t.endAt)}function Wp(e){return gt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Xo{constructor(t,n=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gO(e,t,n,r,o,u,c,m){return new Xo(e,t,n,r,o,u,c,m)}function Qg(e){return new Xo(e)}function PE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function aw(e){return e.collectionGroup!==null}function gu(e){const t=bt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new ze(Ze.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Du(u,r))})),n.has(Ze.keyField().canonicalString())||t.Ie.push(new Du(Ze.keyField(),r))}return t.Ie}function Bi(e){const t=bt(e);return t.Ee||(t.Ee=yO(t,gu(e))),t.Ee}function yO(e,t){if(e.limitType==="F")return xE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Du(o.field,u)}));const n=e.endAt?new df(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new df(e.startAt.position,e.startAt.inclusive):null;return xE(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Zp(e,t){const n=e.filters.concat([t]);return new Xo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function mf(e,t,n){return new Xo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zf(e,t){return Yg(Bi(e),Bi(t))&&e.limitType===t.limitType}function ow(e){return`${Kg(Bi(e))}|lt:${e.limitType}`}function vo(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>sw(o))).join(", ")}]`),Lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${r})`})(Bi(e))}; limitType=${e.limitType})`}function Bf(e,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):gt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(e,t)&&(function(r,o){for(const u of gu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(e,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(e,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=OE(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,gu(r),o)||r.endAt&&!(function(c,m,p){const g=OE(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,gu(r),o))})(e,t)}function _O(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function lw(e){return(t,n)=>{let r=!1;for(const o of gu(e)){const u=vO(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function vO(e,t,n){const r=e.field.isKeyField()?gt.comparator(t.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ko(p,g):_t(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:e.dir})}}class ba{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Sa(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return Gb(this.inner)}size(){return this.innerSize}}const TO=new he(gt.comparator);function bs(){return TO}const uw=new he(gt.comparator);function lu(...e){let t=uw;for(const n of e)t=t.insert(n.key,n);return t}function cw(e){let t=uw;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function la(){return yu()}function hw(){return yu()}function yu(){return new ba((e=>e.toString()),((e,t)=>e.isEqual(t)))}const EO=new he(gt.comparator),AO=new ze(gt.comparator);function Ut(...e){let t=AO;for(const n of e)t=t.add(n);return t}const SO=new ze(Lt);function bO(){return SO}function Xg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cf(t)?"-0":t}}function fw(e){return{integerValue:""+e}}function wO(e,t){return ZM(t)?fw(t):Xg(e,t)}class jf{constructor(){this._=void 0}}function RO(e,t,n){return e instanceof Vu?(function(o,u){const c={fields:{[Qb]:{stringValue:Yb},[$b]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Hg(u)&&(u=Uf(u)),u&&(c.fields[Xb]=u),{mapValue:c}})(n,t):e instanceof Mu?mw(e,t):e instanceof Ou?pw(e,t):(function(o,u){const c=dw(o,u),m=kE(c)+kE(o.Ae);return Xp(c)&&Xp(o.Ae)?fw(m):Xg(o.serializer,m)})(e,t)}function CO(e,t,n){return e instanceof Mu?mw(e,t):e instanceof Ou?pw(e,t):n}function dw(e,t){return e instanceof pf?(function(r){return Xp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Vu extends jf{}class Mu extends jf{constructor(t){super(),this.elements=t}}function mw(e,t){const n=gw(t);for(const r of e.elements)n.some((o=>Yi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Ou extends jf{constructor(t){super(),this.elements=t}}function pw(e,t){let n=gw(t);for(const r of e.elements)n=n.filter((o=>!Yi(o,r)));return{arrayValue:{values:n}}}class pf extends jf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function kE(e){return Te(e.integerValue||e.doubleValue)}function gw(e){return Gg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class IO{constructor(t,n){this.field=t,this.transform=n}}function DO(e,t){return e.field.isEqual(t.field)&&(function(r,o){return r instanceof Mu&&o instanceof Mu||r instanceof Ou&&o instanceof Ou?Po(r.elements,o.elements,Yi):r instanceof pf&&o instanceof pf?Yi(r.Ae,o.Ae):r instanceof Vu&&o instanceof Vu})(e.transform,t.transform)}class VO{constructor(t,n){this.version=t,this.transformResults=n}}class vs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new vs}static exists(t){return new vs(void 0,t)}static updateTime(t){return new vs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class qf{}function yw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new vw(e.key,vs.none()):new Ku(e.key,e.data,vs.none());{const n=e.data,r=Gn.empty();let o=new ze(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new wa(e.key,r,new fi(o.toArray()),vs.none())}}function MO(e,t,n){e instanceof Ku?(function(o,u,c){const m=o.value.clone(),p=UE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):e instanceof wa?(function(o,u,c){if(!Yh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=UE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(_w(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function _u(e,t,n,r){return e instanceof Ku?(function(u,c,m,p){if(!Yh(u.precondition,c))return m;const g=u.value.clone(),_=zE(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,r):e instanceof wa?(function(u,c,m,p){if(!Yh(u.precondition,c))return m;const g=zE(u.fieldTransforms,p,c),_=c.data;return _.setAll(_w(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(e,t,n,r):(function(u,c,m){return Yh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(e,t,n)}function OO(e,t){let n=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),u=dw(r.transform,o||null);u!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,u))}return n||null}function LE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Po(r,o,((u,c)=>DO(u,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ku extends qf{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wa extends qf{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _w(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function UE(e,t,n){const r=new Map;Kt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const u=e[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,CO(c,m,n[o]))}return r}function zE(e,t,n){const r=new Map;for(const o of e){const u=o.transform,c=n.data.field(o.field);r.set(o.field,RO(u,c,t))}return r}class vw extends qf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NO extends qf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xO{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&MO(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=_u(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=_u(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=hw();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=yw(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Po(this.mutations,t.mutations,((n,r)=>LE(n,r)))&&Po(this.baseMutations,t.baseMutations,((n,r)=>LE(n,r)))}}class $g{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return EO})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new $g(t,n,r,o)}}class PO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kO{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ve,jt;function LO(e){switch(e){case Z.OK:return _t(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _t(15467,{code:e})}}function Tw(e){if(e===void 0)return Ss("GRPC error has no .code"),Z.UNKNOWN;switch(e){case Ve.OK:return Z.OK;case Ve.CANCELLED:return Z.CANCELLED;case Ve.UNKNOWN:return Z.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return Z.INTERNAL;case Ve.UNAVAILABLE:return Z.UNAVAILABLE;case Ve.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ve.NOT_FOUND:return Z.NOT_FOUND;case Ve.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ve.ABORTED:return Z.ABORTED;case Ve.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ve.DATA_LOSS:return Z.DATA_LOSS;default:return _t(39323,{code:e})}}(jt=Ve||(Ve={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function UO(){return new TextEncoder}const zO=new pr([4294967295,4294967295],0);function BE(e){const t=UO().encode(e),n=new xb;return n.update(t),new Uint8Array(n.digest())}function jE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new pr([n,r],0),new pr([o,u],0)]}class Wg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(r<0)throw new uu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=pr.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(pr.fromNumber(r)));return o.compare(zO)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=BE(t),[r,o]=jE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Wg(u,o,n);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const n=BE(t),[r,o]=jE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ff{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Yu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ff(At.min(),o,new he(Lt),bs(),Ut())}}class Yu{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Yu(r,n,Ut(),Ut(),Ut())}}class Qh{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class Ew{constructor(t,n){this.targetId=t,this.Ce=n}}class Aw{constructor(t,n,r=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class qE{constructor(){this.ve=0,this.Fe=FE(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),r=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:_t(38017,{changeType:u})}})),new Yu(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=FE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BO{constructor(t){this.Ge=t,this.ze=new Map,this.je=bs(),this.Je=Nh(),this.He=Nh(),this.Ye=new he(Lt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Wp(u))if(r===0){const c=new gt(u.path);this.et(n,c,sn.newNoDocument(c,At.min()))}else Kt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=Tr(r).toUint8Array()}catch(p){if(p instanceof Kb)return xo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Wg(c,o,u)}catch(p){return xo(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Wp(m.target)){const p=new gt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,sn.newNoDocument(p,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let r=Ut();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Ff(t,n,this.Ye,this.je,r);return this.je=bs(),this.Je=Nh(),this.He=Nh(),this.Ye=new he(Lt),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new qE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ze(Lt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ze(Lt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new qE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Nh(){return new he(gt.comparator)}function FE(){return new he(gt.comparator)}const jO={asc:"ASCENDING",desc:"DESCENDING"},qO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FO={and:"AND",or:"OR"};class HO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Jp(e,t){return e.useProto3Json||Lf(t)?t:{value:t}}function gf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function GO(e,t){return gf(e,t.toTimestamp())}function ji(e){return Kt(!!e,49232),At.fromTimestamp((function(n){const r=vr(n);return new re(r.seconds,r.nanos)})(e))}function Zg(e,t){return tg(e,t).canonicalString()}function tg(e,t){const n=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?n:n.child(t)}function bw(e){const t=ne.fromString(e);return Kt(Dw(t),10190,{key:t.toString()}),t}function eg(e,t){return Zg(e.databaseId,t.path)}function dp(e,t){const n=bw(t);if(n.get(1)!==e.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gt(Rw(n))}function ww(e,t){return Zg(e.databaseId,t)}function KO(e){const t=bw(e);return t.length===4?ne.emptyPath():Rw(t)}function ng(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rw(e){return Kt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function HE(e,t,n){return{name:eg(e,t),fields:n.value.mapValue.fields}}function YO(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Kt(_===void 0||typeof _=="string",58123),Je.fromBase64String(_||"")):(Kt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Je.fromUint8Array(_||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?Z.UNKNOWN:Tw(g.code);return new lt(_,g.message||"")})(c);n=new Aw(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=dp(e,r.document.name),u=ji(r.document.updateTime),c=r.document.createTime?ji(r.document.createTime):At.min(),m=new Gn({mapValue:{fields:r.document.fields}}),p=sn.newFoundDocument(o,u,c,m),g=r.targetIds||[],_=r.removedTargetIds||[];n=new Qh(g,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=dp(e,r.document),u=r.readTime?ji(r.readTime):At.min(),c=sn.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Qh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=dp(e,r.document),u=r.removedTargetIds||[];n=new Qh([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new kO(o,u),m=r.targetId;n=new Ew(m,c)}}return n}function QO(e,t){let n;if(t instanceof Ku)n={update:HE(e,t.key,t.value)};else if(t instanceof vw)n={delete:eg(e,t.key)};else if(t instanceof wa)n={update:HE(e,t.key,t.data),updateMask:iN(t.fieldMask)};else{if(!(t instanceof NO))return _t(16599,{Vt:t.type});n={verify:eg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof Vu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Mu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ou)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof pf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw _t(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:GO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(e,t.precondition)),n}function XO(e,t){return e&&e.length>0?(Kt(t!==void 0,14353),e.map((n=>(function(o,u){let c=o.updateTime?ji(o.updateTime):ji(u);return c.isEqual(At.min())&&(c=ji(u)),new VO(c,o.transformResults||[])})(n,t)))):[]}function $O(e,t){return{documents:[ww(e,t.path)]}}function WO(e,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ww(e,o);const u=(function(g){if(g.length!==0)return Iw(mi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(S){return{field:To(S.field),direction:tN(S.dir)}})(_)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const m=Jp(e,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function ZO(e){let t=KO(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];n.where&&(u=(function(E){const S=Cw(E);return S instanceof mi&&nw(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((S=>(function(L){return new Du(Eo(L.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let S;return S=typeof E=="object"?E.value:E,Lf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(E){const S=!!E.before,V=E.values||[];return new df(V,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const S=!E.before,V=E.values||[];return new df(V,S)})(n.endAt)),gO(t,o,c,u,m,"F",p,g)}function JO(e,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Cw(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Eo(n.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(n.unaryFilter.field);return Oe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Eo(n.unaryFilter.field);return Oe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Oe.create(Eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return mi.create(n.compositeFilter.filters.map((r=>Cw(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(e):_t(30097,{filter:e})}function tN(e){return jO[e]}function eN(e){return qO[e]}function nN(e){return FO[e]}function To(e){return{fieldPath:e.canonicalString()}}function Eo(e){return Ze.fromServerFormat(e.fieldPath)}function Iw(e){return e instanceof Oe?(function(n){if(n.op==="=="){if(ME(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(VE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ME(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(VE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:eN(n.op),value:n.value}}})(e):e instanceof mi?(function(n){const r=n.getFilters().map((o=>Iw(o)));return r.length===1?r[0]:{compositeFilter:{op:nN(n.op),filters:r}}})(e):_t(54877,{filter:e})}function iN(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Dw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class fr{constructor(t,n,r,o,u=At.min(),c=At.min(),m=Je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new fr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class sN{constructor(t){this.yt=t}}function rN(e){const t=ZO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?mf(t,t.limit,"L"):t}class aN{constructor(){this.Cn=new oN}addToCollectionParentIndex(t,n){return this.Cn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(_r.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(_r.min())}updateCollectionGroup(t,n,r){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class oN{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new ze(ne.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new ze(ne.comparator)).toArray()}}const GE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vw=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(Vw,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class Uo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Uo(0)}static cr(){return new Uo(-1)}}const KE="LruGarbageCollector",lN=1048576;function YE([e,t],[n,r]){const o=Lt(e,n);return o===0?Lt(t,r):o}class uN{constructor(t){this.Ir=t,this.buffer=new ze(YE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();YE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cN{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(KE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?ut(KE,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Vr(3e5)}))}}class hN{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(kf.ce);const r=new uN(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(GE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,c,m,p,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(t,r,n)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((E=>(g=Date.now(),_o()<=kt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function fN(e,t){return new hN(e,t)}class dN{constructor(){this.changes=new ba((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?tt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class mN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class pN{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&_u(r.mutation,o,fi.empty(),re.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Ut()){const o=la();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let c=lu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=la();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Ut())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(t,n,r,o){let u=bs();const c=yu(),m=(function(){return yu()})();return n.forEach(((p,g)=>{const _=r.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof wa)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),_u(_.mutation,g,_.mutation.getFieldMask(),re.now())):c.set(g.key,fi.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>m.set(g,new mN(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=yu();let o=new he(((c,m)=>c-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=r.get(p)||fi.empty();_=m.applyToLocalView(g,_),r.set(p,_);const E=(o.get(m.batchId)||Ut()).add(p);o=o.insert(m.batchId,E)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,E=hw();_.forEach((S=>{if(!u.has(S)){const V=yw(n.get(S),r.get(S));V!==null&&E.set(S,V),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return tt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(c){return gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):aw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):tt.resolve(la());let m=wu,p=u;return c.next((g=>tt.forEach(g,((_,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(_)?tt.resolve():this.remoteDocumentCache.getEntry(t,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ut()))).next((_=>({batchId:m,changes:cw(_)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((r=>{let o=lu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(t,u).next((m=>tt.forEach(m,(p=>{const g=(function(E,S){return new Xo(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((_=>{_.forEach(((E,S)=>{c=c.insert(E,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,sn.newInvalidDocument(_)))}));let m=lu();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&_u(_.mutation,g,fi.empty(),re.now()),Bf(n,g)&&(m=m.insert(p,g))})),m}))}}class gN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return tt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:rN(o.bundledQuery),readTime:ji(o.readTime)}})(n)),tt.resolve()}}class yN{constructor(){this.overlays=new he(gt.comparator),this.qr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=la();return tt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),tt.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),tt.resolve()}getOverlaysForCollection(t,n,r){const o=la(),u=n.length+1,c=new gt(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new he(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let _=u.get(g.largestBatchId);_===null&&(_=la(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=la(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return tt.resolve(m)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new PO(n,r));let u=this.qr.get(n);u===void 0&&(u=Ut(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class _N{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}class Jg{constructor(){this.Qr=new ze(Fe.$r),this.Ur=new ze(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Fe(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Fe(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new gt(new ne([])),r=new Fe(n,t),o=new Fe(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new gt(new ne([])),r=new Fe(n,t),o=new Fe(n,t+1);let u=Ut();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new Fe(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return gt.comparator(t.key,n.key)||Lt(t.Yr,n.Yr)}static Kr(t,n){return Lt(t.Yr,n.Yr)||gt.comparator(t.key,n.key)}}class vN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ze(Fe.$r)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new xO(u,n,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Fe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(c)}lookupMutationBatch(t,n){return tt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Fg:this.tr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Fe(n,0),o=new Fe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ze(Lt);return n.forEach((o=>{const u=new Fe(o,0),c=new Fe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),tt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;gt.isDocumentKey(u)||(u=u.child(""));const c=new Fe(new gt(u),0);let m=new ze(Lt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),tt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return tt.forEach(n.mutations,(o=>{const u=new Fe(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Fe(n,0),o=this.Zr.firstAfterOrEqual(r);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class TN{constructor(t){this.ri=t,this.docs=(function(){return new he(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return tt.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let r=bs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),tt.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=bs();const c=n.path,m=new gt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||QM(YM(_),r)<=0||(o.has(_.key)||Bf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,r,o){_t(9500)}ii(t,n){return tt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new EN(this)}getSize(t){return tt.resolve(this.size)}}class EN extends dN{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),tt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class AN{constructor(t){this.persistence=t,this.si=new ba((n=>Kg(n)),Yg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Jg,this.targetCount=0,this.ai=Uo.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),tt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Uo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.Pr(n),tt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),tt.waitFor(u).next((()=>o))}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return tt.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),tt.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return tt.resolve(r)}containsKey(t,n){return tt.resolve(this._i.containsKey(n))}}class Mw{constructor(t,n){this.ui={},this.overlays={},this.ci=new kf(0),this.li=!1,this.li=!0,this.hi=new _N,this.referenceDelegate=t(this),this.Pi=new AN(this),this.indexManager=new aN,this.remoteDocumentCache=(function(o){return new TN(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new sN(n),this.Ii=new gN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new yN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new vN(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){ut("MemoryPersistence","Starting transaction:",t);const o=new SN(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return tt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class SN extends $M{constructor(t){super(),this.currentSequenceNumber=t}}class ty{constructor(t){this.persistence=t,this.Ri=new Jg,this.Vi=null}static mi(t){return new ty(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),tt.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,(r=>{const o=gt.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return tt.or([()=>tt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class yf{constructor(t,n){this.persistence=t,this.pi=new ba((r=>JM(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=fN(this,n)}static mi(t,n){return new yf(t,n)}Ei(){}di(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return tt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?tt.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((m=>{m||(r++,u.removeEntry(c,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Gh(t.data.value)),n}br(t,n,r){return tt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return tt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ey{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=Ut(),o=Ut();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ey(t,n.fromCache,r,o)}}class bN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class wN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yD()?8:WM(an())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new bN;return this.Ss(t,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,c,m.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(_o()<=kt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(_o()<=kt.DEBUG&&ut("QueryEngine","Query:",vo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(_o()<=kt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(n))):tt.resolve())}ys(t,n){if(PE(n))return tt.resolve(null);let r=Bi(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=mf(n,null,"F"),r=Bi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Ut(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(t,mf(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,r,o){return PE(n)||o.isEqual(At.min())?tt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,r,o)?tt.resolve(null):(_o()<=kt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(n)),this.vs(t,c,n,KM(o,wu)).next((m=>m)))}))}Ds(t,n){let r=new ze(lw(t));return n.forEach(((o,u)=>{Bf(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return _o()<=kt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",vo(n)),this.ps.getDocumentsMatchingQuery(t,n,_r.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const ny="LocalStore",RN=3e8;class CN{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new he(Lt),this.xs=new ba((u=>Kg(u)),Yg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function IN(e,t,n,r){return new CN(e,t,n,r)}async function Ow(e,t){const n=bt(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Ut();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function DN(e,t){const n=bt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const E=g.batch,S=E.keys();let V=tt.resolve();return S.forEach((L=>{V=V.next((()=>_.getEntry(p,L))).next((G=>{const F=g.docVersions.get(L);Kt(F!==null,48541),G.version.compareTo(F)<0&&(E.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),_.addEntry(G)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,E)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ut();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Nw(e){const t=bt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function VN(e,t){const n=bt(e),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((_,E)=>{const S=o.get(E);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,E))));let V=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?V=V.withResumeToken(Je.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,r)),o=o.insert(E,V),(function(G,F,X){return G.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=RN?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(S,V,_)&&m.push(n.Pi.updateTargetData(u,V))}));let p=bs(),g=Ut();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(MN(u,c,t.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!r.isEqual(At.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(_)}return tt.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function MN(e,t,n){let r=Ut(),o=Ut();return n.forEach((u=>r=r.add(u))),t.getEntries(e,r).next((u=>{let c=bs();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ut(ny,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function ON(e,t){const n=bt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Fg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function NN(e,t){const n=bt(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,tt.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new fr(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function ig(e,t,n){const r=bt(e),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Qo(c))throw c;ut(ny,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function QE(e,t,n){const r=bt(e);let o=At.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const E=bt(p),S=E.xs.get(_);return S!==void 0?tt.resolve(E.Ms.get(S)):E.Pi.getTargetData(g,_)})(r,c,Bi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,n?o:At.min(),n?u:Ut()))).next((m=>(xN(r,_O(t),m),{documents:m,Qs:u})))))}function xN(e,t,n){let r=e.Os.get(t)||At.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),e.Os.set(t,r)}class XE{constructor(){this.activeTargetIds=bO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PN{constructor(){this.Mo=new XE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new XE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class kN{Oo(t){}shutdown(){}}const $E="ConnectivityMonitor";class WE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut($E,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut($E,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xh=null;function sg(){return xh===null?xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():xh++,"0x"+xh.toString(16)}const mp="RestConnection",LN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===hf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const c=sg(),m=this.zo(t,n.toUriEncodedString());ut(mp,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=qo(g);return this.Jo(t,m,p,r,_).then((E=>(ut(mp,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw xo(mp,`RPC '${t}' ${c} failed with error: `,E,"url: ",m,"request:",r),E}))}Ho(t,n,r,o,u,c){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=LN[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class zN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const en="WebChannelConnection";class BN extends UN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const c=sg();return new Promise(((m,p)=>{const g=new Pb;g.setWithCredentials(!0),g.listenOnce(kb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Hh.NO_ERROR:const E=g.getResponseJson();ut(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),m(E);break;case Hh.TIMEOUT:ut(en,`RPC '${t}' ${c} timed out`),p(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const S=g.getStatus();if(ut(en,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const L=V?.error;if(L&&L.status&&L.message){const G=(function(X){const et=X.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(et)>=0?et:Z.UNKNOWN})(L.status);p(new lt(G,L.message))}else p(new lt(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ut(en,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(o);ut(en,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",_,r,15)}))}T_(t,n,r){const o=sg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=zb(),m=Ub(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const _=u.join("");ut(en,`Creating RPC '${t}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);this.I_(E);let S=!1,V=!1;const L=new zN({Yo:F=>{V?ut(en,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(S||(ut(en,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),ut(en,`RPC '${t}' stream ${o} sending:`,F),E.send(F))},Zo:()=>E.close()}),G=(F,X,et)=>{F.listen(X,(J=>{try{et(J)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return G(E,ou.EventType.OPEN,(()=>{V||(ut(en,`RPC '${t}' stream ${o} transport opened.`),L.o_())})),G(E,ou.EventType.CLOSE,(()=>{V||(V=!0,ut(en,`RPC '${t}' stream ${o} transport closed`),L.a_(),this.E_(E))})),G(E,ou.EventType.ERROR,(F=>{V||(V=!0,xo(en,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),L.a_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),G(E,ou.EventType.MESSAGE,(F=>{if(!V){const X=F.data[0];Kt(!!X,16349);const et=X,J=et?.error||et[0]?.error;if(J){ut(en,`RPC '${t}' stream ${o} received error:`,J);const ht=J.status;let rt=(function(w){const C=Ve[w];if(C!==void 0)return Tw(C)})(ht),ot=J.message;rt===void 0&&(rt=Z.INTERNAL,ot="Unknown error status: "+ht+" with message "+J.message),V=!0,L.a_(new lt(rt,ot)),E.close()}else ut(en,`RPC '${t}' stream ${o} received:`,X),L.u_(X)}})),G(m,Lb.STAT_EVENT,(F=>{F.stat===Kp.PROXY?ut(en,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===Kp.NOPROXY&&ut(en,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function pp(){return typeof document<"u"?document:null}function Hf(e){return new HO(e,!0)}class xw{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ZE="PersistentStream";class Pw{constructor(t,n,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Ss(n.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new lt(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(ZE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ut(ZE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jN extends Pw{constructor(t,n,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=YO(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?ji(c.readTime):At.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=ng(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=Wp(p)?{documents:$O(u,p)}:{query:WO(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Sw(u,c.resumeToken);const g=Jp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){m.readTime=gf(u,c.snapshotVersion.toTimestamp());const g=Jp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=JO(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=ng(this.serializer),n.removeTarget=t,this.q_(n)}}class qN extends Pw{constructor(t,n,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=XO(t.writeResults,t.commitTime),r=ji(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=ng(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>QO(this.serializer,r)))};this.q_(n)}}class FN{}class HN extends FN{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,tg(n,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(Z.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,tg(n,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Z.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(n),this.aa=!1):ut("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const va="RemoteStore";class KN{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ra(this)&&(ut(va,"Restarting streams for network reachability change."),await(async function(p){const g=bt(p);g.Ea.add(4),await Qu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Gf(g)})(this))}))})),this.Ra=new GN(r,o)}}async function Gf(e){if(Ra(e))for(const t of e.da)await t(!0)}async function Qu(e){for(const t of e.da)await t(!1)}function kw(e,t){const n=bt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ay(n)?ry(n):$o(n).O_()&&sy(n,t))}function iy(e,t){const n=bt(e),r=$o(n);n.Ia.delete(t),r.O_()&&Lw(n,t),n.Ia.size===0&&(r.O_()?r.L_():Ra(n)&&n.Ra.set("Unknown"))}function sy(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$o(e).Y_(t)}function Lw(e,t){e.Va.Ue(t),$o(e).Z_(t)}function ry(e){e.Va=new BO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),$o(e).start(),e.Ra.ua()}function ay(e){return Ra(e)&&!$o(e).x_()&&e.Ia.size>0}function Ra(e){return bt(e).Ea.size===0}function Uw(e){e.Va=void 0}async function YN(e){e.Ra.set("Online")}async function QN(e){e.Ia.forEach(((t,n)=>{sy(e,t)}))}async function XN(e,t){Uw(e),ay(e)?(e.Ra.ha(t),ry(e)):e.Ra.set("Unknown")}async function $N(e,t,n){if(e.Ra.set("Online"),t instanceof Aw&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(e,t)}catch(r){ut(va,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await _f(e,r)}else if(t instanceof Qh?e.Va.Ze(t):t instanceof Ew?e.Va.st(t):e.Va.tt(t),!n.isEqual(At.min()))try{const r=await Nw(e.localStore);n.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Je.EMPTY_BYTE_STRING,_.snapshotVersion)),Lw(u,p);const E=new fr(_.target,p,g,_.sequenceNumber);sy(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(e,n)}catch(r){ut(va,"Failed to raise snapshot:",r),await _f(e,r)}}async function _f(e,t,n){if(!Qo(t))throw t;e.Ea.add(1),await Qu(e),e.Ra.set("Offline"),n||(n=()=>Nw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ut(va,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Gf(e)}))}function zw(e,t){return t().catch((n=>_f(e,n,t)))}async function Kf(e){const t=bt(e),n=Ar(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Fg;for(;WN(t);)try{const o=await ON(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,ZN(t,o)}catch(o){await _f(t,o)}Bw(t)&&jw(t)}function WN(e){return Ra(e)&&e.Ta.length<10}function ZN(e,t){e.Ta.push(t);const n=Ar(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Bw(e){return Ra(e)&&!Ar(e).x_()&&e.Ta.length>0}function jw(e){Ar(e).start()}async function JN(e){Ar(e).ra()}async function tx(e){const t=Ar(e);for(const n of e.Ta)t.ea(n.mutations)}async function ex(e,t,n){const r=e.Ta.shift(),o=$g.from(r,t,n);await zw(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await Kf(e)}async function nx(e,t){t&&Ar(e).X_&&await(async function(r,o){if((function(c){return LO(c)&&c!==Z.ABORTED})(o.code)){const u=r.Ta.shift();Ar(r).B_(),await zw(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Kf(r)}})(e,t),Bw(e)&&jw(e)}async function JE(e,t){const n=bt(e);n.asyncQueue.verifyOperationInProgress(),ut(va,"RemoteStore received new credentials");const r=Ra(n);n.Ea.add(3),await Qu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Gf(n)}async function ix(e,t){const n=bt(e);t?(n.Ea.delete(2),await Gf(n)):t||(n.Ea.add(2),await Qu(n),n.Ra.set("Unknown"))}function $o(e){return e.ma||(e.ma=(function(n,r,o){const u=bt(n);return u.sa(),new jN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:YN.bind(null,e),t_:QN.bind(null,e),r_:XN.bind(null,e),H_:$N.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),ay(e)?ry(e):e.Ra.set("Unknown")):(await e.ma.stop(),Uw(e))}))),e.ma}function Ar(e){return e.fa||(e.fa=(function(n,r,o){const u=bt(n);return u.sa(),new qN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:JN.bind(null,e),r_:nx.bind(null,e),ta:tx.bind(null,e),na:ex.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Kf(e)):(await e.fa.stop(),e.Ta.length>0&&(ut(va,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class oy{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const c=Date.now()+r,m=new oy(t,n,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(e,t){if(Ss("AsyncQueue",`${t}: ${e}`),Qo(e))return new lt(Z.UNAVAILABLE,`${t}: ${e}`);throw e}class Mo{static emptySet(t){return new Mo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=lu(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Mo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class tA{constructor(){this.ga=new he(gt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class zo{constructor(t,n,r,o,u,c,m,p,g){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,r,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new zo(t,n,Mo.emptySet(n),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class sx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class rx{constructor(){this.queries=eA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=bt(n),u=o.queries;o.queries=eA(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function eA(){return new ba((e=>ow(e)),zf)}async function ax(e,t){const n=bt(e);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new sx,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=ly(c,`Initialization of query '${vo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&uy(n)}async function ox(e,t){const n=bt(e),r=t.query;let o=3;const u=n.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lx(e,t){const n=bt(e);let r=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&uy(n)}function ux(e,t,n){const r=bt(e),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function uy(e){e.Ca.forEach((t=>{t.next()}))}var rg,nA;(nA=rg||(rg={})).Ma="default",nA.Cache="cache";class cx{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new zo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=zo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rg.Cache}}class qw{constructor(t){this.key=t}}class Fw{constructor(t){this.key=t}}class hx{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=lw(t),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new tA,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((_,E)=>{const S=o.get(_),V=Bf(this.query,E)?E:null,L=!!S&&this.mutatedKeys.has(S.key),G=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;S&&V?S.data.isEqual(V.data)?L!==G&&(r.track({type:3,doc:V}),F=!0):this.su(S,V)||(r.track({type:2,doc:V}),F=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(m=!0)):!S&&V?(r.track({type:0,doc:V}),F=!0):S&&!V&&(r.track({type:1,doc:S}),F=!0,(p||g)&&(m=!0)),F&&(V?(c=c.add(V),u=G?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,E)=>(function(V,L){const G=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:F})}};return G(V)-G(L)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new zo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new Fw(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new qw(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cy="SyncEngine";class fx{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class dx{constructor(t){this.key=t,this.hu=!1}}class mx{constructor(t,n,r,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ba((m=>ow(m)),zf),this.Iu=new Map,this.Eu=new Set,this.du=new he(gt.comparator),this.Au=new Map,this.Ru=new Jg,this.Vu={},this.mu=new Map,this.fu=Uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function px(e,t,n=!0){const r=Xw(e);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Hw(r,t,n,!0),o}async function gx(e,t){const n=Xw(e);await Hw(n,t,!0,!1)}async function Hw(e,t,n,r){const o=await NN(e.localStore,Bi(t)),u=o.targetId,c=e.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await yx(e,t,u,c==="current",o.resumeToken)),e.isPrimaryClient&&n&&kw(e.remoteStore,o),m}async function yx(e,t,n,r,o){e.pu=(E,S,V)=>(async function(G,F,X,et){let J=F.view.ru(X);J.Cs&&(J=await QE(G.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,J))));const ht=et&&et.targetChanges.get(F.targetId),rt=et&&et.targetMismatches.get(F.targetId)!=null,ot=F.view.applyChanges(J,G.isPrimaryClient,ht,rt);return sA(G,F.targetId,ot.au),ot.snapshot})(e,E,S,V);const u=await QE(e.localStore,t,!0),c=new hx(t,u.Qs),m=c.ru(u.documents),p=Yu.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",o),g=c.applyChanges(m,e.isPrimaryClient,p);sA(e,n,g.au);const _=new fx(t,n,c);return e.Tu.set(t,_),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function _x(e,t,n){const r=bt(e),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!zf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ig(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&iy(r.remoteStore,o.targetId),ag(r,o.targetId)})).catch(Yo)):(ag(r,o.targetId),await ig(r.localStore,o.targetId,!0))}async function vx(e,t){const n=bt(e),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iy(n.remoteStore,r.targetId))}async function Tx(e,t,n){const r=Cx(e);try{const o=await(function(c,m){const p=bt(c),g=re.now(),_=m.reduce(((V,L)=>V.add(L.key)),Ut());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let L=bs(),G=Ut();return p.Ns.getEntries(V,_).next((F=>{L=F,L.forEach(((X,et)=>{et.isValidDocument()||(G=G.add(X))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,L))).next((F=>{E=F;const X=[];for(const et of m){const J=OO(et,E.get(et.key).overlayedDocument);J!=null&&X.push(new wa(et.key,J,Jb(J.value.mapValue),vs.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,X,m)})).next((F=>{S=F;const X=F.applyToLocalDocumentSet(E,G);return p.documentOverlayCache.saveOverlays(V,F.batchId,X)}))})).then((()=>({batchId:S.batchId,changes:cw(E)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new he(Lt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,n),await Xu(r,o.changes),await Kf(r.remoteStore)}catch(o){const u=ly(o,"Failed to persist write");n.reject(u)}}async function Gw(e,t){const n=bt(e);try{const r=await VN(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Kt(c.hu,14607):o.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await Xu(n,r,t)}catch(r){await Yo(r)}}function iA(e,t,n){const r=bt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=bt(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,E)=>{for(const S of E.Sa)S.va(m)&&(g=!0)})),g&&uy(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ex(e,t,n){const r=bt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new he(gt.comparator);c=c.insert(u,sn.newNoDocument(u,At.min()));const m=Ut().add(u),p=new Ff(At.min(),new Map,new he(Lt),c,m);await Gw(r,p),r.du=r.du.remove(u),r.Au.delete(t),hy(r)}else await ig(r.localStore,t,!1).then((()=>ag(r,t,n))).catch(Yo)}async function Ax(e,t){const n=bt(e),r=t.batch.batchId;try{const o=await DN(n.localStore,t);Yw(n,r,null),Kw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xu(n,o)}catch(o){await Yo(o)}}async function Sx(e,t,n){const r=bt(e);try{const o=await(function(c,m){const p=bt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((E=>(Kt(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(r.localStore,t);Yw(r,t,n),Kw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Xu(r,o)}catch(o){await Yo(o)}}function Kw(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function Yw(e,t,n){const r=bt(e);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function ag(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((r=>{e.Ru.containsKey(r)||Qw(e,r)}))}function Qw(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(iy(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),hy(e))}function sA(e,t,n){for(const r of n)r instanceof qw?(e.Ru.addReference(r.key,t),bx(e,r)):r instanceof Fw?(ut(cy,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Qw(e,r.key)):_t(19791,{wu:r})}function bx(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(ut(cy,"New document in limbo: "+n),e.Eu.add(r),hy(e))}function hy(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new gt(ne.fromString(t)),r=e.fu.next();e.Au.set(r,new dx(n)),e.du=e.du.insert(n,r),kw(e.remoteStore,new fr(Bi(Qg(n.path)),r,"TargetPurposeLimboResolution",kf.ce))}}async function Xu(e,t,n){const r=bt(e),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,n).then((g=>{if((g||n)&&r.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=ey.As(p.targetId,g);u.push(_)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const _=bt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>tt.forEach(g,(S=>tt.forEach(S.Es,(V=>_.persistence.referenceDelegate.addReference(E,S.targetId,V))).next((()=>tt.forEach(S.ds,(V=>_.persistence.referenceDelegate.removeReference(E,S.targetId,V)))))))))}catch(E){if(!Qo(E))throw E;ut(ny,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const V=_.Ms.get(S),L=V.snapshotVersion,G=V.withLastLimboFreeSnapshotVersion(L);_.Ms=_.Ms.insert(S,G)}}})(r.localStore,u))}async function wx(e,t){const n=bt(e);if(!n.currentUser.isEqual(t)){ut(cy,"User change. New user:",t.toKey());const r=await Ow(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new lt(Z.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Xu(n,r.Ls)}}function Rx(e,t){const n=bt(e),r=n.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function Xw(e){const t=bt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ex.bind(null,t),t.Pu.H_=lx.bind(null,t.eventManager),t.Pu.yu=ux.bind(null,t.eventManager),t}function Cx(e){const t=bt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ax.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sx.bind(null,t),t}class vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return IN(this.persistence,new wN,t.initialUser,this.serializer)}Cu(t){return new Mw(ty.mi,this.serializer)}Du(t){return new PN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vf.provider={build:()=>new vf};class Ix extends vf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof yf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cN(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new Mw((r=>yf.mi(r,n)),this.serializer)}}class og{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wx.bind(null,this.syncEngine),await ix(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rx})()}createDatastore(t){const n=Hf(t.databaseInfo.databaseId),r=(function(u){return new BN(u)})(t.databaseInfo);return(function(u,c,m,p){return new HN(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,c,m){return new KN(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>iA(this.syncEngine,n,0)),(function(){return WE.v()?new WE:new kN})())}createSyncEngine(t,n){return(function(o,u,c,m,p,g,_){const E=new mx(o,u,c,m,p,g);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=bt(n);ut(va,"RemoteStore shutting down."),r.Ea.add(5),await Qu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}og.provider={build:()=>new og};class Dx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Sr="FirestoreClient";class Vx{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ut(Sr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ut(Sr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=ly(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function gp(e,t){e.asyncQueue.verifyOperationInProgress(),ut(Sr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Ow(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function rA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Mx(e);ut(Sr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>JE(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,o)=>JE(t.remoteStore,o))),e._onlineComponents=t}async function Mx(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ut(Sr,"Using user provided OfflineComponentProvider");try{await gp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await gp(e,new vf)}}else ut(Sr,"Using default OfflineComponentProvider"),await gp(e,new Ix(void 0));return e._offlineComponents}async function $w(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ut(Sr,"Using user provided OnlineComponentProvider"),await rA(e,e._uninitializedComponentsProvider._online)):(ut(Sr,"Using default OnlineComponentProvider"),await rA(e,new og))),e._onlineComponents}function Ox(e){return $w(e).then((t=>t.syncEngine))}async function aA(e){const t=await $w(e),n=t.eventManager;return n.onListen=px.bind(null,t.syncEngine),n.onUnlisten=_x.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=gx.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=vx.bind(null,t.syncEngine),n}function Ww(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const oA=new Map;const Zw="firestore.googleapis.com",lA=!0;class uA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zw,this.ssl=lA}else this.host=t.host,this.ssl=t.ssl??lA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Vw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lN)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ww(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Yf{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new PM;switch(r.type){case"firstParty":return new zM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=oA.get(n);r&&(ut("ComponentProvider","Removing Datastore"),oA.delete(n),r.terminate())})(this),Promise.resolve()}}function Nx(e,t,n,r={}){e=mu(e,Yf);const o=qo(t),u=e._getSettings(),c={...u,emulatorOptions:e._getEmulatorOptions()},m=`${t}:${n}`;o&&(YS(`https://${m}`),QS("Firestore",!0)),u.host!==Zw&&u.host!==m&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!ga(p,c)&&(e._setSettings(p),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=nn.MOCK_USER;else{g=lD(r.mockUserToken,e._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new nn(E)}e._authCredentials=new kM(new jb(g,_))}}class Rr{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Rr(this.firestore,t,this._query)}}class Ue{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Gu(n,Ue._jsonSchema))return new Ue(t,r||null,new gt(ne.fromString(n.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Ne("string",Ue._jsonSchemaVersion),referencePath:Ne("string")};class gr extends Rr{constructor(t,n,r){super(t,n,Qg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new gt(t))}withConverter(t){return new gr(this.firestore,t,this._path)}}function yp(e,t,...n){if(e=on(e),qb("collection","path",t),e instanceof Yf){const r=ne.fromString(t,...n);return EE(r),new gr(e,null,r)}{if(!(e instanceof Ue||e instanceof gr))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ne.fromString(t,...n));return EE(r),new gr(e.firestore,null,r)}}function xx(e,t,...n){if(e=on(e),arguments.length===1&&(t=qg.newId()),qb("doc","path",t),e instanceof Yf){const r=ne.fromString(t,...n);return TE(r),new Ue(e,null,new gt(r))}{if(!(e instanceof Ue||e instanceof gr))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ne.fromString(t,...n));return TE(r),new Ue(e.firestore,e instanceof gr?e.converter:null,new gt(r))}}const cA="AsyncQueue";class hA{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xw(this,"async_queue_retry"),this._c=()=>{const r=pp();r&&ut(cA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=pp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=pp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Qo(t))throw t;ut(cA,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",fA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=oy.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:fA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function fA(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function dA(e){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(e,["next","error","complete"])}class Tf extends Yf{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new hA,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hA(t),this._firestoreClient=void 0,await t}}}function Px(e,t){const n=typeof e=="object"?e:Ng(),r=typeof e=="string"?e:hf,o=Fo(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=aD("firestore");u&&Nx(o,...u)}return o}function Jw(e){if(e._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||kx(e),e._firestoreClient}function kx(e){const t=e._freezeSettings(),n=(function(o,u,c,m){return new nO(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Ww(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Vx(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(e._componentsProvider))}class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(Je.fromBase64String(t))}catch(n){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Kn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gu(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Ne("string",Kn._jsonSchemaVersion),bytes:Ne("string")};class fy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class dy{constructor(t){this._methodName=t}}class qi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(t){if(Gu(t,qi._jsonSchema))return new qi(t.latitude,t.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Ne("string",qi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class Fi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gu(t,Fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Fi(t.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Ne("string",Fi._jsonSchemaVersion),vectorValues:Ne("object")};const Lx=/^__.*__$/;class Ux{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new wa(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ku(t,this.data,n,this.fieldTransforms)}}function t1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:e})}}class my{constructor(t,n,r,o,u,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new my({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ef(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(t1(this.Ac)&&Lx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class zx{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Hf(t)}Cc(t,n,r,o=!1){return new my({Ac:t,methodName:n,Dc:r,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e1(e){const t=e._freezeSettings(),n=Hf(e._databaseId);return new zx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Bx(e,t,n,r,o,u={}){const c=e.Cc(u.merge||u.mergeFields?2:0,t,n,o);s1("Data must be an object, but it was:",c,r);const m=n1(r,c);let p,g;if(u.merge)p=new fi(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const S=qx(t,E,n);if(!c.contains(S))throw new lt(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Hx(_,S)||_.push(S)}p=new fi(_),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new Ux(new Gn(m),p,g)}class py extends dy{_toFieldTransform(t){return new IO(t.path,new Vu)}isEqual(t){return t instanceof py}}function jx(e,t,n,r=!1){return gy(n,e.Cc(r?4:3,t))}function gy(e,t){if(i1(e=on(e)))return s1("Unsupported field value:",t,e),n1(e,t);if(e instanceof dy)return(function(r,o){if(!t1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=gy(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(e,t)}return(function(r,o){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=re.fromDate(r);return{timestampValue:gf(o.serializer,u)}}if(r instanceof re){const u=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gf(o.serializer,u)}}if(r instanceof qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:Sw(o.serializer,r._byteString)};if(r instanceof Ue){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Fi)return(function(c,m){return{mapValue:{fields:{[Wb]:{stringValue:Zb},[ff]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Xg(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Pf(r)}`)})(e,t)}function n1(e,t){const n={};return Gb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sa(e,((r,o)=>{const u=gy(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function i1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof re||e instanceof qi||e instanceof Kn||e instanceof Ue||e instanceof dy||e instanceof Fi)}function s1(e,t,n){if(!i1(n)||!Fb(n)){const r=Pf(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function qx(e,t,n){if((t=on(t))instanceof fy)return t._internalPath;if(typeof t=="string")return r1(e,t);throw Ef("Field path arguments must be of type string or ",e,!1,void 0,n)}const Fx=new RegExp("[~\\*/\\[\\]]");function r1(e,t,n){if(t.search(Fx)>=0)throw Ef(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new fy(...t.split("."))._internalPath}catch{throw Ef(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ef(e,t,n,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new lt(Z.INVALID_ARGUMENT,m+e+p)}function Hx(e,t){return e.some((n=>n.isEqual(t)))}class a1{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Gx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(yy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gx extends a1{data(){return super.data()}}function yy(e,t){return typeof t=="string"?r1(e,t):t instanceof fy?t._internalPath:t._delegate._internalPath}function Kx(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _y{}class vy extends _y{}function Yx(e,t,...n){let r=[];t instanceof _y&&r.push(t),r=r.concat(n),(function(u){const c=u.filter((p=>p instanceof Ey)).length,m=u.filter((p=>p instanceof Ty)).length;if(c>1||c>0&&m>0)throw new lt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)e=o._apply(e);return e}class Ty extends vy{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Ty(t,n,r)}_apply(t){const n=this._parse(t);return o1(t._query,n),new Rr(t.firestore,t.converter,Zp(t._query,n))}_parse(t){const n=e1(t.firestore);return(function(u,c,m,p,g,_,E){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){pA(E,_);const L=[];for(const G of E)L.push(mA(p,u,G));S={arrayValue:{values:L}}}else S=mA(p,u,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||pA(E,_),S=jx(m,c,E,_==="in"||_==="not-in");return Oe.create(g,_,S)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Ey extends _y{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ey(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:mi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)o1(c,p),c=Zp(c,p)})(t._query,n),new Rr(t.firestore,t.converter,Zp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ay extends vy{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Ay(t,n)}_apply(t){const n=(function(o,u,c){if(o.startAt!==null)throw new lt(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Du(u,c)})(t._query,this._field,this._direction);return new Rr(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Xo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function Qx(e,t="asc"){const n=t,r=yy("orderBy",e);return Ay._create(r,n)}class Sy extends vy{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new Sy(t,n,r)}_apply(t){return new Rr(t.firestore,t.converter,mf(t._query,this._limit,this._limitType))}}function Xx(e){return Sy._create("limit",e,"F")}function mA(e,t,n){if(typeof(n=on(n))=="string"){if(n==="")throw new lt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aw(t)&&n.indexOf("/")!==-1)throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ne.fromString(n));if(!gt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return DE(e,new gt(r))}if(n instanceof Ue)return DE(e,n._key);throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(n)}.`)}function pA(e,t){if(!Array.isArray(e)||e.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function o1(e,t){const n=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(e.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class $x{convertValue(t,n="none"){switch(Er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Sa(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[ff].arrayValue?.values?.map((r=>Te(r.doubleValue)));return new Fi(n)}convertGeoPoint(t){return new qi(Te(t.latitude),Te(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Uf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ru(t));default:return null}}convertTimestamp(t){const n=vr(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ne.fromString(t);Kt(Dw(r),9688,{name:t});const o=new Cu(r.get(1),r.get(3)),u=new gt(r.popFirst(5));return o.isEqual(n)||Ss(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Wx(e,t,n){let r;return r=e?e.toFirestore(t):t,r}class cu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class da extends a1{constructor(t,n,r,o,u,c){super(t,n,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(yy("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Ne("string",da._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Xh extends da{data(t={}){return super.data(t)}}class Oo{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new cu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Xh(this._firestore,this._userDataWriter,r.key,r,new cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:Zx(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Oo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Zx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:e})}}Oo._jsonSchemaVersion="firestore/querySnapshot/1.0",Oo._jsonSchema={type:Ne("string",Oo._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class l1 extends $x{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}function gA(e,t){const n=mu(e.firestore,Tf),r=xx(e),o=Wx(e.converter,t);return tP(n,[Bx(e1(e.firestore),"addDoc",r._key,o,e.converter!==null,{}).toMutation(r._key,vs.exists(!1))]).then((()=>r))}function Jx(e,...t){e=on(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||dA(t[r])||(n=t[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(dA(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let u,c,m;if(e instanceof Ue)c=mu(e.firestore,Tf),m=Qg(e._key.path),u={next:p=>{t[r]&&t[r](eP(c,e,p))},error:t[r+1],complete:t[r+2]};else{const p=mu(e,Rr);c=mu(p.firestore,Tf),m=p._query;const g=new l1(c);u={next:_=>{t[r]&&t[r](new Oo(c,g,p,_))},error:t[r+1],complete:t[r+2]},Kx(e._query)}return(function(g,_,E,S){const V=new Dx(S),L=new cx(_,V,E);return g.asyncQueue.enqueueAndForget((async()=>ax(await aA(g),L))),()=>{V.Nu(),g.asyncQueue.enqueueAndForget((async()=>ox(await aA(g),L)))}})(Jw(c),m,o,u)}function tP(e,t){return(function(r,o){const u=new fa;return r.asyncQueue.enqueueAndForget((async()=>Tx(await Ox(r),o,u))),u.promise})(Jw(e),t)}function eP(e,t,n){const r=n.docs.get(t._key),o=new l1(e);return new da(e,o,t._key,r,new cu(n.hasPendingWrites,n.fromCache),t.converter)}function yA(){return new py("serverTimestamp")}(function(t,n=!0){(function(o){Ko=o})(Ho),Ki(new di("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Tf(new LM(r.getProvider("auth-internal")),new BM(c,r.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Qn(gE,yE,t),Qn(gE,yE,"esm2020")})();const u1="@firebase/installations",by="0.6.19";const c1=1e4,h1=`w:${by}`,f1="FIS_v2",nP="https://firebaseinstallations.googleapis.com/v1",iP=3600*1e3,sP="installations",rP="Installations";const aP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ta=new Aa(sP,rP,aP);function d1(e){return e instanceof Qi&&e.code.includes("request-failed")}function m1({projectId:e}){return`${nP}/projects/${e}/installations`}function p1(e){return{token:e.token,requestStatus:2,expiresIn:lP(e.expiresIn),creationTime:Date.now()}}async function g1(e,t){const r=(await t.json()).error;return Ta.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function y1({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function oP(e,{refreshToken:t}){const n=y1(e);return n.append("Authorization",uP(t)),n}async function _1(e){const t=await e();return t.status>=500&&t.status<600?e():t}function lP(e){return Number(e.replace("s","000"))}function uP(e){return`${f1} ${e}`}async function cP({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=m1(e),o=y1(e),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:n,authVersion:f1,appId:e.appId,sdkVersion:h1},m={method:"POST",headers:o,body:JSON.stringify(c)},p=await _1(()=>fetch(r,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:p1(g.authToken)}}else throw await g1("Create Installation",p)}function v1(e){return new Promise(t=>{setTimeout(t,e)})}function hP(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const fP=/^[cdef][\w-]{21}$/,lg="";function dP(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=mP(e);return fP.test(n)?n:lg}catch{return lg}}function mP(e){return hP(e).substr(0,22)}function Qf(e){return`${e.appName}!${e.appId}`}const T1=new Map;function E1(e,t){const n=Qf(e);A1(n,t),pP(n,t)}function A1(e,t){const n=T1.get(e);if(n)for(const r of n)r(t)}function pP(e,t){const n=gP();n&&n.postMessage({key:e,fid:t}),yP()}let ua=null;function gP(){return!ua&&"BroadcastChannel"in self&&(ua=new BroadcastChannel("[Firebase] FID Change"),ua.onmessage=e=>{A1(e.data.key,e.data.fid)}),ua}function yP(){T1.size===0&&ua&&(ua.close(),ua=null)}const _P="firebase-installations-database",vP=1,Ea="firebase-installations-store";let _p=null;function wy(){return _p||(_p=Vf(_P,vP,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ea)}}})),_p}async function Af(e,t){const n=Qf(e),o=(await wy()).transaction(Ea,"readwrite"),u=o.objectStore(Ea),c=await u.get(n);return await u.put(t,n),await o.done,(!c||c.fid!==t.fid)&&E1(e,t.fid),t}async function S1(e){const t=Qf(e),r=(await wy()).transaction(Ea,"readwrite");await r.objectStore(Ea).delete(t),await r.done}async function Xf(e,t){const n=Qf(e),o=(await wy()).transaction(Ea,"readwrite"),u=o.objectStore(Ea),c=await u.get(n),m=t(c);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!c||c.fid!==m.fid)&&E1(e,m.fid),m}async function Ry(e){let t;const n=await Xf(e.appConfig,r=>{const o=TP(r),u=EP(e,o);return t=u.registrationPromise,u.installationEntry});return n.fid===lg?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function TP(e){const t=e||{fid:dP(),registrationStatus:0};return b1(t)}function EP(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ta.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=AP(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:SP(e)}:{installationEntry:t}}async function AP(e,t){try{const n=await cP(e,t);return Af(e.appConfig,n)}catch(n){throw d1(n)&&n.customData.serverCode===409?await S1(e.appConfig):await Af(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function SP(e){let t=await _A(e.appConfig);for(;t.registrationStatus===1;)await v1(100),t=await _A(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ry(e);return r||n}return t}function _A(e){return Xf(e,t=>{if(!t)throw Ta.create("installation-not-found");return b1(t)})}function b1(e){return bP(e)?{fid:e.fid,registrationStatus:0}:e}function bP(e){return e.registrationStatus===1&&e.registrationTime+c1<Date.now()}async function wP({appConfig:e,heartbeatServiceProvider:t},n){const r=RP(e,n),o=oP(e,n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:h1,appId:e.appId}},m={method:"POST",headers:o,body:JSON.stringify(c)},p=await _1(()=>fetch(r,m));if(p.ok){const g=await p.json();return p1(g)}else throw await g1("Generate Auth Token",p)}function RP(e,{fid:t}){return`${m1(e)}/${t}/authTokens:generate`}async function Cy(e,t=!1){let n;const r=await Xf(e.appConfig,u=>{if(!w1(u))throw Ta.create("not-registered");const c=u.authToken;if(!t&&DP(c))return u;if(c.requestStatus===1)return n=CP(e,t),u;{if(!navigator.onLine)throw Ta.create("app-offline");const m=MP(u);return n=IP(e,m),m}});return n?await n:r.authToken}async function CP(e,t){let n=await vA(e.appConfig);for(;n.authToken.requestStatus===1;)await v1(100),n=await vA(e.appConfig);const r=n.authToken;return r.requestStatus===0?Cy(e,t):r}function vA(e){return Xf(e,t=>{if(!w1(t))throw Ta.create("not-registered");const n=t.authToken;return OP(n)?{...t,authToken:{requestStatus:0}}:t})}async function IP(e,t){try{const n=await wP(e,t),r={...t,authToken:n};return await Af(e.appConfig,r),n}catch(n){if(d1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await S1(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Af(e.appConfig,r)}throw n}}function w1(e){return e!==void 0&&e.registrationStatus===2}function DP(e){return e.requestStatus===2&&!VP(e)}function VP(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+iP}function MP(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function OP(e){return e.requestStatus===1&&e.requestTime+c1<Date.now()}async function NP(e){const t=e,{installationEntry:n,registrationPromise:r}=await Ry(t);return r?r.catch(console.error):Cy(t).catch(console.error),n.fid}async function xP(e,t=!1){const n=e;return await PP(n),(await Cy(n,t)).token}async function PP(e){const{registrationPromise:t}=await Ry(e);t&&await t}function kP(e){if(!e||!e.options)throw vp("App Configuration");if(!e.name)throw vp("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw vp(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function vp(e){return Ta.create("missing-app-config-values",{valueName:e})}const R1="installations",LP="installations-internal",UP=e=>{const t=e.getProvider("app").getImmediate(),n=kP(t),r=Fo(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},zP=e=>{const t=e.getProvider("app").getImmediate(),n=Fo(t,R1).getImmediate();return{getId:()=>NP(n),getToken:o=>xP(n,o)}};function BP(){Ki(new di(R1,UP,"PUBLIC")),Ki(new di(LP,zP,"PRIVATE"))}BP();Qn(u1,by);Qn(u1,by,"esm2020");const jP="/firebase-messaging-sw.js",qP="/firebase-cloud-messaging-push-scope",C1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",FP="https://fcmregistrations.googleapis.com/v1",I1="google.c.a.c_id",HP="google.c.a.c_l",GP="google.c.a.ts",KP="google.c.a.e",TA=1e4;var EA;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(EA||(EA={}));var Nu;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Nu||(Nu={}));function ms(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function YP(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),o=new Uint8Array(r.length);for(let u=0;u<r.length;++u)o[u]=r.charCodeAt(u);return o}const Tp="fcm_token_details_db",QP=5,AA="fcm_token_object_Store";async function XP(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(Tp))return null;let t=null;return(await Vf(Tp,QP,{upgrade:async(r,o,u,c)=>{if(o<2||!r.objectStoreNames.contains(AA))return;const m=c.objectStore(AA),p=await m.index("fcmSenderId").get(e);if(await m.clear(),!!p){if(o===2){const g=p;if(!g.auth||!g.p256dh||!g.endpoint)return;t={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:ms(g.vapidKey)}}}else if(o===3){const g=p;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:ms(g.auth),p256dh:ms(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:ms(g.vapidKey)}}}else if(o===4){const g=p;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:ms(g.auth),p256dh:ms(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:ms(g.vapidKey)}}}}}})).close(),await op(Tp),await op("fcm_vapid_details_db"),await op("undefined"),$P(t)?t:null}function $P(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}const WP="firebase-messaging-database",ZP=1,xu="firebase-messaging-store";let Ep=null;function D1(){return Ep||(Ep=Vf(WP,ZP,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(xu)}}})),Ep}async function JP(e){const t=V1(e),r=await(await D1()).transaction(xu).objectStore(xu).get(t);if(r)return r;{const o=await XP(e.appConfig.senderId);if(o)return await Iy(e,o),o}}async function Iy(e,t){const n=V1(e),o=(await D1()).transaction(xu,"readwrite");return await o.objectStore(xu).put(t,n),await o.done,t}function V1({appConfig:e}){return e.appId}const t4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},fn=new Aa("messaging","Messaging",t4);async function e4(e,t){const n=await Vy(e),r=M1(t),o={method:"POST",headers:n,body:JSON.stringify(r)};let u;try{u=await(await fetch(Dy(e.appConfig),o)).json()}catch(c){throw fn.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(u.error){const c=u.error.message;throw fn.create("token-subscribe-failed",{errorInfo:c})}if(!u.token)throw fn.create("token-subscribe-no-token");return u.token}async function n4(e,t){const n=await Vy(e),r=M1(t.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)};let u;try{u=await(await fetch(`${Dy(e.appConfig)}/${t.token}`,o)).json()}catch(c){throw fn.create("token-update-failed",{errorInfo:c?.toString()})}if(u.error){const c=u.error.message;throw fn.create("token-update-failed",{errorInfo:c})}if(!u.token)throw fn.create("token-update-no-token");return u.token}async function i4(e,t){const r={method:"DELETE",headers:await Vy(e)};try{const u=await(await fetch(`${Dy(e.appConfig)}/${t}`,r)).json();if(u.error){const c=u.error.message;throw fn.create("token-unsubscribe-failed",{errorInfo:c})}}catch(o){throw fn.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}}function Dy({projectId:e}){return`${FP}/projects/${e}/registrations`}async function Vy({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function M1({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const o={web:{endpoint:n,auth:t,p256dh:e}};return r!==C1&&(o.web.applicationPubKey=r),o}const s4=10080*60*1e3;async function r4(e){const t=await o4(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:ms(t.getKey("auth")),p256dh:ms(t.getKey("p256dh"))},r=await JP(e.firebaseDependencies);if(r){if(l4(r.subscriptionOptions,n))return Date.now()>=r.createTime+s4?a4(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await i4(e.firebaseDependencies,r.token)}catch(o){console.warn(o)}return SA(e.firebaseDependencies,n)}else return SA(e.firebaseDependencies,n)}async function a4(e,t){try{const n=await n4(e.firebaseDependencies,t),r={...t,token:n,createTime:Date.now()};return await Iy(e.firebaseDependencies,r),n}catch(n){throw n}}async function SA(e,t){const r={token:await e4(e,t),createTime:Date.now(),subscriptionOptions:t};return await Iy(e,r),r.token}async function o4(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:YP(t)})}function l4(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,o=t.auth===e.auth,u=t.p256dh===e.p256dh;return n&&r&&o&&u}function bA(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return u4(t,e),c4(t,e),h4(t,e),t}function u4(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const o=t.notification.image;o&&(e.notification.image=o);const u=t.notification.icon;u&&(e.notification.icon=u)}function c4(e,t){t.data&&(e.data=t.data)}function h4(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};const n=t.fcmOptions?.link??t.notification?.click_action;n&&(e.fcmOptions.link=n);const r=t.fcmOptions?.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}function f4(e){return typeof e=="object"&&!!e&&I1 in e}function d4(e){if(!e||!e.options)throw Ap("App Configuration Object");if(!e.name)throw Ap("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Ap(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Ap(e){return fn.create("missing-app-config-values",{valueName:e})}class m4{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=d4(t);this.firebaseDependencies={app:t,appConfig:o,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}async function p4(e){try{e.swRegistration=await navigator.serviceWorker.register(jP,{scope:qP}),e.swRegistration.update().catch(()=>{}),await g4(e.swRegistration)}catch(t){throw fn.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function g4(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${TA} ms`)),TA),o=e.installing||e.waiting;e.active?(clearTimeout(r),t()):o?o.onstatechange=u=>{u.target?.state==="activated"&&(o.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}async function y4(e,t){if(!t&&!e.swRegistration&&await p4(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw fn.create("invalid-sw-registration");e.swRegistration=t}}async function _4(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=C1)}async function O1(e,t){if(!navigator)throw fn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw fn.create("permission-blocked");return await _4(e,t?.vapidKey),await y4(e,t?.serviceWorkerRegistration),r4(e)}async function v4(e,t,n){const r=T4(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[I1],message_name:n[HP],message_time:n[GP],message_device_time:Math.floor(Date.now()/1e3)})}function T4(e){switch(e){case Nu.NOTIFICATION_CLICKED:return"notification_open";case Nu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function E4(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Nu.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(bA(n)):e.onMessageHandler.next(bA(n)));const r=n.data;f4(r)&&r[KP]==="1"&&await v4(e,n.messageType,r)}const wA="@firebase/messaging",RA="0.12.23";const A4=e=>{const t=new m4(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>E4(t,n)),t},S4=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>O1(t,r)}};function b4(){Ki(new di("messaging",A4,"PUBLIC")),Ki(new di("messaging-internal",S4,"PRIVATE")),Qn(wA,RA),Qn(wA,RA,"esm2020")}async function w4(){try{await $S()}catch{return!1}return typeof window<"u"&&XS()&&_D()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function R4(e=Ng()){return w4().then(t=>{if(!t)throw fn.create("unsupported-browser")},t=>{throw fn.create("indexed-db-unsupported")}),Fo(on(e),"messaging").getImmediate()}async function C4(e,t){return e=on(e),O1(e,t)}b4();const CA={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""};let Ph,ps,$h,N1;try{CA.apiKey?(Ph=JS(CA),ps=NM(Ph),$h=Px(Ph),N1=R4(Ph)):console.error("Firebase config missing. Check .env file.")}catch(e){console.error("Firebase initialization failed:",e)}const My=at.createContext({});function Oy(e){const t=at.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ny=typeof window<"u",x1=Ny?at.useLayoutEffect:at.useEffect,$f=at.createContext(null);function xy(e,t){e.indexOf(t)===-1&&e.push(t)}function Py(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ws=(e,t,n)=>n>t?t:n<e?e:n;let ky=()=>{};const Rs={},P1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function k1(e){return typeof e=="object"&&e!==null}const L1=e=>/^0[^.\s]+$/u.test(e);function Ly(e){let t;return()=>(t===void 0&&(t=e()),t)}const Xn=e=>e,I4=(e,t)=>n=>t(e(n)),$u=(...e)=>e.reduce(I4),Pu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Uy{constructor(){this.subscriptions=[]}add(t){return xy(this.subscriptions,t),()=>Py(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hi=e=>e*1e3,Yn=e=>e/1e3;function U1(e,t){return t?e*(1e3/t):0}const z1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,D4=1e-7,V4=12;function M4(e,t,n,r,o){let u,c,m=0;do c=t+(n-t)/2,u=z1(c,r,o)-e,u>0?n=c:t=c;while(Math.abs(u)>D4&&++m<V4);return c}function Wu(e,t,n,r){if(e===t&&n===r)return Xn;const o=u=>M4(u,0,1,e,n);return u=>u===0||u===1?u:z1(o(u),t,r)}const B1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,j1=e=>t=>1-e(1-t),q1=Wu(.33,1.53,.69,.99),zy=j1(q1),F1=B1(zy),H1=e=>(e*=2)<1?.5*zy(e):.5*(2-Math.pow(2,-10*(e-1))),By=e=>1-Math.sin(Math.acos(e)),G1=j1(By),K1=B1(By),O4=Wu(.42,0,1,1),N4=Wu(0,0,.58,1),Y1=Wu(.42,0,.58,1),x4=e=>Array.isArray(e)&&typeof e[0]!="number",Q1=e=>Array.isArray(e)&&typeof e[0]=="number",P4={linear:Xn,easeIn:O4,easeInOut:Y1,easeOut:N4,circIn:By,circInOut:K1,circOut:G1,backIn:zy,backInOut:F1,backOut:q1,anticipate:H1},k4=e=>typeof e=="string",IA=e=>{if(Q1(e)){ky(e.length===4);const[t,n,r,o]=e;return Wu(t,n,r,o)}else if(k4(e))return P4[e];return e},kh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function L4(e,t){let n=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(_){c.has(_)&&(g.schedule(_),e()),_(m)}const g={schedule:(_,E=!1,S=!1)=>{const L=S&&o?n:r;return E&&c.add(_),L.has(_)||L.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(m=_,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(p),n.clear(),o=!1,u&&(u=!1,g.process(_))}};return g}const U4=40;function X1(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=kh.reduce((J,ht)=>(J[ht]=L4(u),J),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:_,update:E,preRender:S,render:V,postRender:L}=c,G=()=>{const J=Rs.useManualTiming?o.timestamp:performance.now();n=!1,Rs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(J-o.timestamp,U4),1)),o.timestamp=J,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),_.process(o),E.process(o),S.process(o),V.process(o),L.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(G))},F=()=>{n=!0,r=!0,o.isProcessing||e(G)};return{schedule:kh.reduce((J,ht)=>{const rt=c[ht];return J[ht]=(ot,R=!1,w=!1)=>(n||F(),rt.schedule(ot,R,w)),J},{}),cancel:J=>{for(let ht=0;ht<kh.length;ht++)c[kh[ht]].cancel(J)},state:o,steps:c}}const{schedule:ue,cancel:br,state:$e,steps:Sp}=X1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let Wh;function z4(){Wh=void 0}const En={now:()=>(Wh===void 0&&En.set($e.isProcessing||Rs.useManualTiming?$e.timestamp:performance.now()),Wh),set:e=>{Wh=e,queueMicrotask(z4)}},$1=e=>t=>typeof t=="string"&&t.startsWith(e),jy=$1("--"),B4=$1("var(--"),qy=e=>B4(e)?j4.test(e.split("/*")[0].trim()):!1,j4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ku={...Wo,transform:e=>ws(0,1,e)},Lh={...Wo,default:1},vu=e=>Math.round(e*1e5)/1e5,Fy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function q4(e){return e==null}const F4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Hy=(e,t)=>n=>!!(typeof n=="string"&&F4.test(n)&&n.startsWith(e)||t&&!q4(n)&&Object.prototype.hasOwnProperty.call(n,t)),W1=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Fy);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},H4=e=>ws(0,255,e),bp={...Wo,transform:e=>Math.round(H4(e))},ca={test:Hy("rgb","red"),parse:W1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+bp.transform(e)+", "+bp.transform(t)+", "+bp.transform(n)+", "+vu(ku.transform(r))+")"};function G4(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const ug={test:Hy("#"),parse:G4,transform:ca.transform},Zu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),or=Zu("deg"),Gi=Zu("%"),vt=Zu("px"),K4=Zu("vh"),Y4=Zu("vw"),DA={...Gi,parse:e=>Gi.parse(e)/100,transform:e=>Gi.transform(e*100)},So={test:Hy("hsl","hue"),parse:W1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Gi.transform(vu(t))+", "+Gi.transform(vu(n))+", "+vu(ku.transform(r))+")"},Me={test:e=>ca.test(e)||ug.test(e)||So.test(e),parse:e=>ca.test(e)?ca.parse(e):So.test(e)?So.parse(e):ug.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ca.transform(e):So.transform(e),getAnimatableNone:e=>{const t=Me.parse(e);return t.alpha=0,Me.transform(t)}},Q4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function X4(e){return isNaN(e)&&typeof e=="string"&&(e.match(Fy)?.length||0)+(e.match(Q4)?.length||0)>0}const Z1="number",J1="color",$4="var",W4="var(",VA="${}",Z4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(Z4,p=>(Me.test(p)?(r.color.push(u),o.push(J1),n.push(Me.parse(p))):p.startsWith(W4)?(r.var.push(u),o.push($4),n.push(p)):(r.number.push(u),o.push(Z1),n.push(parseFloat(p))),++u,VA)).split(VA);return{values:n,split:m,indexes:r,types:o}}function tR(e){return Lu(e).values}function eR(e){const{split:t,types:n}=Lu(e),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=n[c];m===Z1?u+=vu(o[c]):m===J1?u+=Me.transform(o[c]):u+=o[c]}return u}}const J4=e=>typeof e=="number"?0:Me.test(e)?Me.getAnimatableNone(e):e;function tk(e){const t=tR(e);return eR(e)(t.map(J4))}const wr={test:X4,parse:tR,createTransformer:eR,getAnimatableNone:tk};function wp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ek({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,u=0,c=0;if(!t)o=u=c=n;else{const m=n<.5?n*(1+t):n+t-n*t,p=2*n-m;o=wp(p,m,e+1/3),u=wp(p,m,e),c=wp(p,m,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Sf(e,t){return n=>n>0?t:e}const ce=(e,t,n)=>e+(t-e)*n,Rp=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},nk=[ug,ca,So],ik=e=>nk.find(t=>t.test(e));function MA(e){const t=ik(e);if(!t)return!1;let n=t.parse(e);return t===So&&(n=ek(n)),n}const OA=(e,t)=>{const n=MA(e),r=MA(t);if(!n||!r)return Sf(e,t);const o={...n};return u=>(o.red=Rp(n.red,r.red,u),o.green=Rp(n.green,r.green,u),o.blue=Rp(n.blue,r.blue,u),o.alpha=ce(n.alpha,r.alpha,u),ca.transform(o))},cg=new Set(["none","hidden"]);function sk(e,t){return cg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function rk(e,t){return n=>ce(e,t,n)}function Gy(e){return typeof e=="number"?rk:typeof e=="string"?qy(e)?Sf:Me.test(e)?OA:lk:Array.isArray(e)?nR:typeof e=="object"?Me.test(e)?OA:ak:Sf}function nR(e,t){const n=[...e],r=n.length,o=e.map((u,c)=>Gy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)n[c]=o[c](u);return n}}function ak(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Gy(e[o])(e[o],t[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function ok(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=e.indexes[u][r[u]],m=e.values[c]??0;n[o]=m,r[u]++}return n}const lk=(e,t)=>{const n=wr.createTransformer(t),r=Lu(e),o=Lu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?cg.has(e)&&!o.values.length||cg.has(t)&&!r.values.length?sk(e,t):$u(nR(ok(r,o),o.values),n):Sf(e,t)};function iR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ce(e,t,n):Gy(e)(e,t)}const uk=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ue.update(t,n),stop:()=>br(t),now:()=>$e.isProcessing?$e.timestamp:En.now()}},sR=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)r+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},bf=2e4;function Ky(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<bf;)t+=n,r=e.next(t);return t>=bf?1/0:t}function ck(e,t=100,n){const r=n({...e,keyframes:[0,t]}),o=Math.min(Ky(r),bf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Yn(o)}}const hk=5;function rR(e,t,n){const r=Math.max(t-hk,0);return U1(n-e(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cp=.001;function fk({duration:e=pe.duration,bounce:t=pe.bounce,velocity:n=pe.velocity,mass:r=pe.mass}){let o,u,c=1-t;c=ws(pe.minDamping,pe.maxDamping,c),e=ws(pe.minDuration,pe.maxDuration,Yn(e)),c<1?(o=g=>{const _=g*c,E=_*e,S=_-n,V=hg(g,c),L=Math.exp(-E);return Cp-S/V*L},u=g=>{const E=g*c*e,S=E*n+n,V=Math.pow(c,2)*Math.pow(g,2)*e,L=Math.exp(-E),G=hg(Math.pow(g,2),c);return(-o(g)+Cp>0?-1:1)*((S-V)*L)/G}):(o=g=>{const _=Math.exp(-g*e),E=(g-n)*e+1;return-Cp+_*E},u=g=>{const _=Math.exp(-g*e),E=(n-g)*(e*e);return _*E});const m=5/e,p=mk(o,u,m);if(e=Hi(e),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:e};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:e}}}const dk=12;function mk(e,t,n){let r=n;for(let o=1;o<dk;o++)r=r-e(r)/t(r);return r}function hg(e,t){return e*Math.sqrt(1-t*t)}const pk=["duration","bounce"],gk=["stiffness","damping","mass"];function NA(e,t){return t.some(n=>e[n]!==void 0)}function yk(e){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...e};if(!NA(e,gk)&&NA(e,pk))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*ws(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:u}}else{const n=fk(e);t={...t,...n,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function wf(e=pe.visualDuration,t=pe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:_,duration:E,velocity:S,isResolvedFromDuration:V}=yk({...n,velocity:-Yn(n.velocity||0)}),L=S||0,G=g/(2*Math.sqrt(p*_)),F=c-u,X=Yn(Math.sqrt(p/_)),et=Math.abs(F)<5;r||(r=et?pe.restSpeed.granular:pe.restSpeed.default),o||(o=et?pe.restDelta.granular:pe.restDelta.default);let J;if(G<1){const rt=hg(X,G);J=ot=>{const R=Math.exp(-G*X*ot);return c-R*((L+G*X*F)/rt*Math.sin(rt*ot)+F*Math.cos(rt*ot))}}else if(G===1)J=rt=>c-Math.exp(-X*rt)*(F+(L+X*F)*rt);else{const rt=X*Math.sqrt(G*G-1);J=ot=>{const R=Math.exp(-G*X*ot),w=Math.min(rt*ot,300);return c-R*((L+G*X*F)*Math.sinh(w)+rt*F*Math.cosh(w))/rt}}const ht={calculatedDuration:V&&E||null,next:rt=>{const ot=J(rt);if(V)m.done=rt>=E;else{let R=rt===0?L:0;G<1&&(R=rt===0?Hi(L):rR(J,rt,ot));const w=Math.abs(R)<=r,C=Math.abs(c-ot)<=o;m.done=w&&C}return m.value=m.done?c:ot,m},toString:()=>{const rt=Math.min(Ky(ht),bf),ot=sR(R=>ht.next(rt*R).value,rt,30);return rt+"ms "+ot},toTransition:()=>{}};return ht}wf.applyToOptions=e=>{const t=ck(e,100,wf);return e.ease=t.ease,e.duration=Hi(t.duration),e.type="keyframes",e};function fg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:_}){const E=e[0],S={done:!1,value:E},V=w=>m!==void 0&&w<m||p!==void 0&&w>p,L=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let G=n*t;const F=E+G,X=c===void 0?F:c(F);X!==F&&(G=X-E);const et=w=>-G*Math.exp(-w/r),J=w=>X+et(w),ht=w=>{const C=et(w),N=J(w);S.done=Math.abs(C)<=g,S.value=S.done?X:N};let rt,ot;const R=w=>{V(S.value)&&(rt=w,ot=wf({keyframes:[S.value,L(S.value)],velocity:rR(J,w,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:_}))};return R(0),{calculatedDuration:null,next:w=>{let C=!1;return!ot&&rt===void 0&&(C=!0,ht(w),R(w)),rt!==void 0&&w>=rt?ot.next(w-rt):(!C&&ht(w),S)}}}function _k(e,t,n){const r=[],o=n||Rs.mix||iR,u=e.length-1;for(let c=0;c<u;c++){let m=o(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||Xn:t;m=$u(p,m)}r.push(m)}return r}function vk(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const u=e.length;if(ky(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const m=_k(t,r,o),p=m.length,g=_=>{if(c&&_<e[0])return t[0];let E=0;if(p>1)for(;E<e.length-2&&!(_<e[E+1]);E++);const S=Pu(e[E],e[E+1],_);return m[E](S)};return n?_=>g(ws(e[0],e[u-1],_)):g}function Tk(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Pu(0,t,r);e.push(ce(n,1,o))}}function Ek(e){const t=[0];return Tk(t,e.length-1),t}function Ak(e,t){return e.map(n=>n*t)}function Sk(e,t){return e.map(()=>t||Y1).splice(0,e.length-1)}function Tu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=x4(r)?r.map(IA):IA(r),u={done:!1,value:t[0]},c=Ak(n&&n.length===t.length?n:Ek(t),e),m=vk(c,t,{ease:Array.isArray(o)?o:Sk(t,o)});return{calculatedDuration:e,next:p=>(u.value=m(p),u.done=p>=e,u)}}const bk=e=>e!==null;function Yy(e,{repeat:t,repeatType:n="loop"},r,o=1){const u=e.filter(bk),m=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const wk={decay:fg,inertia:fg,tween:Tu,keyframes:Tu,spring:wf};function aR(e){typeof e.type=="string"&&(e.type=wk[e.type])}class Qy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Rk=e=>e/100;class Xy extends Qy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==En.now()&&this.tick(En.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;aR(t);const{type:n=Tu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=n||Tu;p!==Tu&&typeof m[0]!="number"&&(this.mixKeyframes=$u(Rk,iR(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Ky(g));const{calculatedDuration:_}=g;this.calculatedDuration=_,this.resolvedDuration=_+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:_,repeat:E,repeatType:S,repeatDelay:V,type:L,onUpdate:G,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const X=this.currentTime-g*(this.playbackSpeed>=0?1:-1),et=this.playbackSpeed>=0?X<0:X>o;this.currentTime=Math.max(X,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let J=this.currentTime,ht=r;if(E){const w=Math.min(this.currentTime,o)/m;let C=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&C--,C=Math.min(C,E+1),!!(C%2)&&(S==="reverse"?(N=1-N,V&&(N-=V/m)):S==="mirror"&&(ht=c)),J=ws(0,1,N)*m}const rt=et?{done:!1,value:_[0]}:ht.next(J);u&&(rt.value=u(rt.value));let{done:ot}=rt;!et&&p!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return R&&L!==fg&&(rt.value=Yy(_,this.options,F,this.speed)),G&&G(rt.value),R&&this.finish(),rt}then(t,n){return this.finished.then(t,n)}get duration(){return Yn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(this.currentTime)}set time(t){t=Hi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(En.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Yn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=uk,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(En.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Ck(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ha=e=>e*180/Math.PI,dg=e=>{const t=ha(Math.atan2(e[1],e[0]));return mg(t)},Ik={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:dg,rotateZ:dg,skewX:e=>ha(Math.atan(e[1])),skewY:e=>ha(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},mg=e=>(e=e%360,e<0&&(e+=360),e),xA=dg,PA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),kA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Dk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PA,scaleY:kA,scale:e=>(PA(e)+kA(e))/2,rotateX:e=>mg(ha(Math.atan2(e[6],e[5]))),rotateY:e=>mg(ha(Math.atan2(-e[2],e[0]))),rotateZ:xA,rotate:xA,skewX:e=>ha(Math.atan(e[4])),skewY:e=>ha(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function pg(e){return e.includes("scale")?1:0}function gg(e,t){if(!e||e==="none")return pg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=Dk,o=n;else{const m=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Ik,o=m}if(!o)return pg(t);const u=r[t],c=o[1].split(",").map(Mk);return typeof u=="function"?u(c):c[u]}const Vk=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return gg(n,t)};function Mk(e){return parseFloat(e.trim())}const Zo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jo=new Set(Zo),LA=e=>e===Wo||e===vt,Ok=new Set(["x","y","z"]),Nk=Zo.filter(e=>!Ok.has(e));function xk(e){const t=[];return Nk.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ma={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>gg(t,"x"),y:(e,{transform:t})=>gg(t,"y")};ma.translateX=ma.x;ma.translateY=ma.y;const pa=new Set;let yg=!1,_g=!1,vg=!1;function oR(){if(_g){const e=Array.from(pa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=xk(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_g=!1,yg=!1,pa.forEach(e=>e.complete(vg)),pa.clear()}function lR(){pa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_g=!0)})}function Pk(){vg=!0,lR(),oR(),vg=!1}class $y{constructor(t,n,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(pa.add(this),yg||(yg=!0,ue.read(lR),ue.resolveKeyframes(oR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&n){const m=r.readValue(n,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}Ck(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),pa.delete(this)}cancel(){this.state==="scheduled"&&(pa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kk=e=>e.startsWith("--");function Lk(e,t,n){kk(t)?e.style.setProperty(t,n):e.style[t]=n}const Uk=Ly(()=>window.ScrollTimeline!==void 0),zk={};function Bk(e,t){const n=Ly(e);return()=>zk[t]??n()}const uR=Bk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,UA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hu([0,.65,.55,1]),circOut:hu([.55,0,1,.45]),backIn:hu([.31,.01,.66,-.59]),backOut:hu([.33,1.53,.69,.99])};function cR(e,t){if(e)return typeof e=="function"?uR()?sR(e,t):"ease-out":Q1(e)?hu(e):Array.isArray(e)?e.map(n=>cR(n,t)||UA.easeOut):UA[e]}function jk(e,t,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const _={[t]:n};p&&(_.offset=p);const E=cR(m,o);Array.isArray(E)&&(_.easing=E);const S={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),e.animate(_,S)}function hR(e){return typeof e=="function"&&"applyToOptions"in e}function qk({type:e,...t}){return hR(e)&&uR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Fk extends Qy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,ky(typeof t.type!="string");const g=qk(t);this.animation=jk(n,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const _=Yy(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(_):Lk(n,r,_),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Yn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Hi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Uk()?(this.animation.timeline=t,Xn):n(this)}}const fR={anticipate:H1,backInOut:F1,circInOut:K1};function Hk(e){return e in fR}function Gk(e){typeof e.ease=="string"&&Hk(e.ease)&&(e.ease=fR[e.ease])}const zA=10;class Kk extends Fk{constructor(t){Gk(t),aR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const m=new Xy({...c,autoplay:!1}),p=Hi(this.finishedTime??this.time);n.setWithVelocity(m.sample(p-zA).value,m.sample(p).value,zA),m.stop()}}const BA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(wr.test(e)||e==="0")&&!e.startsWith("url("));function Yk(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Qk(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=BA(o,t),m=BA(u,t);return!c||!m?!1:Yk(e)||(n==="spring"||hR(n))&&r}function Tg(e){e.duration=0,e.type="keyframes"}const Xk=new Set(["opacity","clipPath","filter","transform"]),$k=Ly(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Wk(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:u,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return $k()&&n&&Xk.has(n)&&(n!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const Zk=40;class Jk extends Qy{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:_,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=En.now();const S={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:_,...E},V=_?.KeyframeResolver||$y;this.keyframeResolver=new V(m,(L,G,F)=>this.onKeyframesResolved(L,G,S,!F),p,g,_),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:_}=r;this.resolvedAt=En.now(),Qk(t,u,c,m)||((Rs.instantAnimations||!p)&&_?.(Yy(t,r,n)),t[0]=t[t.length-1],Tg(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Zk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},V=!g&&Wk(S)?new Kk({...S,element:S.motionValue.owner.current}):new Xy(S);V.finished.then(()=>this.notifyFinished()).catch(Xn),this.pendingTimeline&&(this.stopTimeline=V.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=V}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Pk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const tL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eL(e){const t=tL.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function dR(e,t,n=1){const[r,o]=eL(e);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return P1(c)?parseFloat(c):c}return qy(o)?dR(o,t,n+1):o}function Wy(e,t){return e?.[t]??e?.default??e}const mR=new Set(["width","height","top","left","right","bottom",...Zo]),nL={test:e=>e==="auto",parse:e=>e},pR=e=>t=>t.test(e),gR=[Wo,vt,Gi,or,Y4,K4,nL],jA=e=>gR.find(pR(e));function iL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||L1(e):!0}const sL=new Set(["brightness","contrast","saturate","opacity"]);function rL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Fy)||[];if(!r)return e;const o=n.replace(r,"");let u=sL.has(t)?1:0;return r!==n&&(u*=100),t+"("+u+o+")"}const aL=/\b([a-z-]*)\(.*?\)/gu,Eg={...wr,getAnimatableNone:e=>{const t=e.match(aL);return t?t.map(rL).join(" "):e}},qA={...Wo,transform:Math.round},oL={rotate:or,rotateX:or,rotateY:or,rotateZ:or,scale:Lh,scaleX:Lh,scaleY:Lh,scaleZ:Lh,skew:or,skewX:or,skewY:or,distance:vt,translateX:vt,translateY:vt,translateZ:vt,x:vt,y:vt,z:vt,perspective:vt,transformPerspective:vt,opacity:ku,originX:DA,originY:DA,originZ:vt},Zy={borderWidth:vt,borderTopWidth:vt,borderRightWidth:vt,borderBottomWidth:vt,borderLeftWidth:vt,borderRadius:vt,radius:vt,borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomRightRadius:vt,borderBottomLeftRadius:vt,width:vt,maxWidth:vt,height:vt,maxHeight:vt,top:vt,right:vt,bottom:vt,left:vt,padding:vt,paddingTop:vt,paddingRight:vt,paddingBottom:vt,paddingLeft:vt,margin:vt,marginTop:vt,marginRight:vt,marginBottom:vt,marginLeft:vt,backgroundPositionX:vt,backgroundPositionY:vt,...oL,zIndex:qA,fillOpacity:ku,strokeOpacity:ku,numOctaves:qA},lL={...Zy,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:Eg,WebkitFilter:Eg},yR=e=>lL[e];function _R(e,t){let n=yR(e);return n!==Eg&&(n=wr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const uL=new Set(["auto","none","0"]);function cL(e,t,n){let r=0,o;for(;r<e.length&&!o;){const u=e[r];typeof u=="string"&&!uL.has(u)&&Lu(u).values.length&&(o=e[r]),r++}if(o&&n)for(const u of t)e[u]=_R(n,o)}class hL extends $y{constructor(t,n,r,o,u){super(t,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),qy(g))){const _=dR(g,n.current);_!==void 0&&(t[p]=_),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!mR.has(r)||t.length!==2)return;const[o,u]=t,c=jA(o),m=jA(u);if(c!==m)if(LA(c)&&LA(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else ma[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||iL(t[o]))&&r.push(o);r.length&&cL(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ma[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=ma[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function fL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=n?.[e]??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const vR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function TR(e){return k1(e)&&"offsetHeight"in e}const FA=30,dL=e=>!isNaN(parseFloat(e));class mL{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=En.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=En.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=dL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Uy);const r=this.events[t].add(n);return t==="change"?()=>{r(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=En.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>FA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,FA);return U1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bo(e,t){return new mL(e,t)}const{schedule:Jy}=X1(queueMicrotask,!1),ui={x:!1,y:!1};function ER(){return ui.x||ui.y}function pL(e){return e==="x"||e==="y"?ui[e]?null:(ui[e]=!0,()=>{ui[e]=!1}):ui.x||ui.y?null:(ui.x=ui.y=!0,()=>{ui.x=ui.y=!1})}function AR(e,t){const n=fL(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function HA(e){return!(e.pointerType==="touch"||ER())}function gL(e,t,n={}){const[r,o,u]=AR(e,n),c=m=>{if(!HA(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const _=E=>{HA(E)&&(g(E),p.removeEventListener("pointerleave",_))};p.addEventListener("pointerleave",_,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const SR=(e,t)=>t?e===t?!0:SR(e,t.parentElement):!1,t_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,yL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _L(e){return yL.has(e.tagName)||e.tabIndex!==-1}const Zh=new WeakSet;function GA(e){return t=>{t.key==="Enter"&&e(t)}}function Ip(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const vL=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=GA(()=>{if(Zh.has(n))return;Ip(n,"down");const o=GA(()=>{Ip(n,"up")}),u=()=>Ip(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function KA(e){return t_(e)&&!ER()}function TL(e,t,n={}){const[r,o,u]=AR(e,n),c=m=>{const p=m.currentTarget;if(!KA(m))return;Zh.add(p);const g=t(p,m),_=(V,L)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",S),Zh.has(p)&&Zh.delete(p),KA(V)&&typeof g=="function"&&g(V,{success:L})},E=V=>{_(V,p===window||p===document||n.useGlobalTarget||SR(p,V.target))},S=V=>{_(V,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",S,o)};return r.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),TR(m)&&(m.addEventListener("focus",g=>vL(g,o)),!_L(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function bR(e){return k1(e)&&"ownerSVGElement"in e}function EL(e){return bR(e)&&e.tagName==="svg"}const rn=e=>!!(e&&e.getVelocity),AL=[...gR,Me,wr],SL=e=>AL.find(pR(e)),e_=at.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function YA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bL(...e){return t=>{let n=!1;const r=e.map(o=>{const u=YA(o,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():YA(e[o],null)}}}}function wL(...e){return at.useCallback(bL(...e),e)}class RL extends at.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=TR(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function CL({children:e,isPresent:t,anchorX:n,root:r}){const o=at.useId(),u=at.useRef(null),c=at.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=at.useContext(e_),p=wL(u,e?.ref);return at.useInsertionEffect(()=>{const{width:g,height:_,top:E,left:S,right:V}=c.current;if(t||!u.current||!g||!_)return;const L=n==="left"?`left: ${S}`:`right: ${V}`;u.current.dataset.motionPopId=o;const G=document.createElement("style");m&&(G.nonce=m);const F=r??document.head;return F.appendChild(G),G.sheet&&G.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${_}px !important;
            ${L}px !important;
            top: ${E}px !important;
          }
        `),()=>{F.contains(G)&&F.removeChild(G)}},[t]),Vt.jsx(RL,{isPresent:t,childRef:u,sizeRef:c,children:at.cloneElement(e,{ref:p})})}const IL=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=Oy(DL),_=at.useId();let E=!0,S=at.useMemo(()=>(E=!1,{id:_,initial:t,isPresent:n,custom:o,onExitComplete:V=>{g.set(V,!0);for(const L of g.values())if(!L)return;r&&r()},register:V=>(g.set(V,!1),()=>g.delete(V))}),[n,g,r]);return u&&E&&(S={...S}),at.useMemo(()=>{g.forEach((V,L)=>g.set(L,!1))},[n]),at.useEffect(()=>{!n&&!g.size&&r&&r()},[n]),c==="popLayout"&&(e=Vt.jsx(CL,{isPresent:n,anchorX:m,root:p,children:e})),Vt.jsx($f.Provider,{value:S,children:e})};function DL(){return new Map}function wR(e=!0){const t=at.useContext($f);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,u=at.useId();at.useEffect(()=>{if(e)return o(u)},[e]);const c=at.useCallback(()=>e&&r&&r(u),[u,r,e]);return!n&&r?[!1,c]:[!0]}const Uh=e=>e.key||"";function QA(e){const t=[];return at.Children.forEach(e,n=>{at.isValidElement(n)&&t.push(n)}),t}const VL=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,_]=wR(c),E=at.useMemo(()=>QA(e),[e]),S=c&&!g?[]:E.map(Uh),V=at.useRef(!0),L=at.useRef(E),G=Oy(()=>new Map),[F,X]=at.useState(E),[et,J]=at.useState(E);x1(()=>{V.current=!1,L.current=E;for(let ot=0;ot<et.length;ot++){const R=Uh(et[ot]);S.includes(R)?G.delete(R):G.get(R)!==!0&&G.set(R,!1)}},[et,S.length,S.join("-")]);const ht=[];if(E!==F){let ot=[...E];for(let R=0;R<et.length;R++){const w=et[R],C=Uh(w);S.includes(C)||(ot.splice(R,0,w),ht.push(w))}return u==="wait"&&ht.length&&(ot=ht),J(QA(ot)),X(E),null}const{forceRender:rt}=at.useContext(My);return Vt.jsx(Vt.Fragment,{children:et.map(ot=>{const R=Uh(ot),w=c&&!g?!1:E===et||S.includes(R),C=()=>{if(G.has(R))G.set(R,!0);else return;let N=!0;G.forEach(M=>{M||(N=!1)}),N&&(rt?.(),J(L.current),c&&_?.(),r&&r())};return Vt.jsx(IL,{isPresent:w,initial:!V.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:w?void 0:C,anchorX:m,children:ot},R)})})},RR=at.createContext({strict:!1}),XA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const e in XA)jo[e]={isEnabled:t=>XA[e].some(n=>!!t[n])};function ML(e){for(const t in e)jo[t]={...jo[t],...e[t]}}const OL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||OL.has(e)}let CR=e=>!Rf(e);function NL(e){typeof e=="function"&&(CR=t=>t.startsWith("on")?!Rf(t):e(t))}try{NL(require("@emotion/is-prop-valid").default)}catch{}function xL(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(CR(o)||n===!0&&Rf(o)||!t&&!Rf(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}const Wf=at.createContext({});function Zf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Uu(e){return typeof e=="string"||Array.isArray(e)}const n_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],i_=["initial",...n_];function Jf(e){return Zf(e.animate)||i_.some(t=>Uu(e[t]))}function IR(e){return!!(Jf(e)||e.variants)}function PL(e,t){if(Jf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Uu(n)?n:void 0,animate:Uu(r)?r:void 0}}return e.inherit!==!1?t:{}}function kL(e){const{initial:t,animate:n}=PL(e,at.useContext(Wf));return at.useMemo(()=>({initial:t,animate:n}),[$A(t),$A(n)])}function $A(e){return Array.isArray(e)?e.join(" "):e}const zu={};function LL(e){for(const t in e)zu[t]=e[t],jy(t)&&(zu[t].isCSSVariable=!0)}function DR(e,{layout:t,layoutId:n}){return Jo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!zu[e]||e==="opacity")}const UL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zL=Zo.length;function BL(e,t,n){let r="",o=!0;for(let u=0;u<zL;u++){const c=Zo[u],m=e[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||n){const g=vR(m,Zy[c]);if(!p){o=!1;const _=UL[c]||c;r+=`${_}(${g}) `}n&&(t[c]=g)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function s_(e,t,n){const{style:r,vars:o,transformOrigin:u}=e;let c=!1,m=!1;for(const p in t){const g=t[p];if(Jo.has(p)){c=!0;continue}else if(jy(p)){o[p]=g;continue}else{const _=vR(g,Zy[p]);p.startsWith("origin")?(m=!0,u[p]=_):r[p]=_}}if(t.transform||(c||n?r.transform=BL(t,e.transform,n):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:_=0}=u;r.transformOrigin=`${p} ${g} ${_}`}}const r_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VR(e,t,n){for(const r in t)!rn(t[r])&&!DR(r,n)&&(e[r]=t[r])}function jL({transformTemplate:e},t){return at.useMemo(()=>{const n=r_();return s_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function qL(e,t){const n=e.style||{},r={};return VR(r,n,e),Object.assign(r,jL(e,t)),r}function FL(e,t){const n={},r=qL(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const HL={offset:"stroke-dashoffset",array:"stroke-dasharray"},GL={offset:"strokeDashoffset",array:"strokeDasharray"};function KL(e,t,n=1,r=0,o=!0){e.pathLength=1;const u=o?HL:GL;e[u.offset]=vt.transform(-r);const c=vt.transform(t),m=vt.transform(n);e[u.array]=`${c} ${m}`}function MR(e,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,_){if(s_(e,m,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:S}=e;E.transform&&(S.transform=E.transform,delete E.transform),(S.transform||E.transformOrigin)&&(S.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),S.transform&&(S.transformBox=_?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),o!==void 0&&KL(E,o,u,c,!1)}const OR=()=>({...r_(),attrs:{}}),NR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function YL(e,t,n,r){const o=at.useMemo(()=>{const u=OR();return MR(u,t,NR(r),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};VR(u,e.style,e),o.style={...u,...o.style}}return o}const QL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function a_(e){return typeof e!="string"||e.includes("-")?!1:!!(QL.indexOf(e)>-1||/[A-Z]/u.test(e))}function XL(e,t,n,{latestValues:r},o,u=!1){const m=(a_(e)?YL:FL)(t,r,o,e),p=xL(t,typeof e=="string",u),g=e!==at.Fragment?{...p,...m,ref:n}:{},{children:_}=t,E=at.useMemo(()=>rn(_)?_.get():_,[_]);return at.createElement(e,{...g,children:E})}function WA(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function o_(e,t,n,r){if(typeof t=="function"){const[o,u]=WA(r);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=WA(r);t=t(n!==void 0?n:e.custom,o,u)}return t}function Jh(e){return rn(e)?e.get():e}function $L({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,o){return{latestValues:WL(n,r,o,e),renderState:t()}}function WL(e,t,n,r){const o={},u=r(e,{});for(const S in u)o[S]=Jh(u[S]);let{initial:c,animate:m}=e;const p=Jf(e),g=IR(e);t&&g&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let _=n?n.initial===!1:!1;_=_||c===!1;const E=_?m:c;if(E&&typeof E!="boolean"&&!Zf(E)){const S=Array.isArray(E)?E:[E];for(let V=0;V<S.length;V++){const L=o_(e,S[V]);if(L){const{transitionEnd:G,transition:F,...X}=L;for(const et in X){let J=X[et];if(Array.isArray(J)){const ht=_?J.length-1:0;J=J[ht]}J!==null&&(o[et]=J)}for(const et in G)o[et]=G[et]}}}return o}const xR=e=>(t,n)=>{const r=at.useContext(Wf),o=at.useContext($f),u=()=>$L(e,t,r,o);return n?u():Oy(u)};function l_(e,t,n){const{style:r}=e,o={};for(const u in r)(rn(r[u])||t.style&&rn(t.style[u])||DR(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const ZL=xR({scrapeMotionValuesFromProps:l_,createRenderState:r_});function PR(e,t,n){const r=l_(e,t,n);for(const o in e)if(rn(e[o])||rn(t[o])){const u=Zo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=e[o]}return r}const JL=xR({scrapeMotionValuesFromProps:PR,createRenderState:OR}),t6=Symbol.for("motionComponentSymbol");function bo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function e6(e,t,n){return at.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):bo(n)&&(n.current=r))},[t])}const u_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),n6="framerAppearId",kR="data-"+u_(n6),LR=at.createContext({});function i6(e,t,n,r,o){const{visualElement:u}=at.useContext(Wf),c=at.useContext(RR),m=at.useContext($f),p=at.useContext(e_).reducedMotion,g=at.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(e,{visualState:t,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const _=g.current,E=at.useContext(LR);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&s6(g.current,n,o,E);const S=at.useRef(!1);at.useInsertionEffect(()=>{_&&S.current&&_.update(n,m)});const V=n[kR],L=at.useRef(!!V&&!window.MotionHandoffIsComplete?.(V)&&window.MotionHasOptimisedAnimation?.(V));return x1(()=>{_&&(S.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),L.current&&_.animationState&&_.animationState.animateChanges())}),at.useEffect(()=>{_&&(!L.current&&_.animationState&&_.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(V)}),L.current=!1),_.enteringChildren=void 0)}),_}function s6(e,t,n,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:_}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:UR(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&bo(m),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:_,layoutScroll:p,layoutRoot:g})}function UR(e){if(e)return e.options.allowProjection!==!1?e.projection:UR(e.parent)}function Dp(e,{forwardMotionProps:t=!1}={},n,r){n&&ML(n);const o=a_(e)?JL:ZL;function u(m,p){let g;const _={...at.useContext(e_),...m,layoutId:r6(m)},{isStatic:E}=_,S=kL(m),V=o(m,E);if(!E&&Ny){a6();const L=o6(_);g=L.MeasureLayout,S.visualElement=i6(e,V,_,r,L.ProjectionNode)}return Vt.jsxs(Wf.Provider,{value:S,children:[g&&S.visualElement?Vt.jsx(g,{visualElement:S.visualElement,..._}):null,XL(e,m,e6(V,S.visualElement,p),V,E,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=at.forwardRef(u);return c[t6]=e,c}function r6({layoutId:e}){const t=at.useContext(My).id;return t&&e!==void 0?t+"-"+e:e}function a6(e,t){at.useContext(RR).strict}function o6(e){const{drag:t,layout:n}=jo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function l6(e,t){if(typeof Proxy>"u")return Dp;const n=new Map,r=(u,c)=>Dp(u,c,e,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(n.has(c)||n.set(c,Dp(c,void 0,e,t)),n.get(c))})}function zR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function u6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function c6(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Vp(e){return e===void 0||e===1}function Ag({scale:e,scaleX:t,scaleY:n}){return!Vp(e)||!Vp(t)||!Vp(n)}function oa(e){return Ag(e)||BR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function BR(e){return ZA(e.x)||ZA(e.y)}function ZA(e){return e&&e!=="0%"}function Cf(e,t,n){const r=e-n,o=t*r;return n+o}function JA(e,t,n,r,o){return o!==void 0&&(e=Cf(e,o,r)),Cf(e,n,r)+t}function Sg(e,t=0,n=1,r,o){e.min=JA(e.min,t,n,r,o),e.max=JA(e.max,t,n,r,o)}function jR(e,{x:t,y:n}){Sg(e.x,t.translate,t.scale,t.originPoint),Sg(e.y,n.translate,n.scale,n.originPoint)}const tS=.999999999999,eS=1.0000000000001;function h6(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=n[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ro(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,jR(e,c)),r&&oa(u.latestValues)&&Ro(e,u.latestValues))}t.x<eS&&t.x>tS&&(t.x=1),t.y<eS&&t.y>tS&&(t.y=1)}function wo(e,t){e.min=e.min+t,e.max=e.max+t}function nS(e,t,n,r,o=.5){const u=ce(e.min,e.max,o);Sg(e,t,n,u,r)}function Ro(e,t){nS(e.x,t.x,t.scaleX,t.scale,t.originX),nS(e.y,t.y,t.scaleY,t.scale,t.originY)}function qR(e,t){return zR(c6(e.getBoundingClientRect(),t))}function f6(e,t,n){const r=qR(e,n),{scroll:o}=t;return o&&(wo(r.x,o.offset.x),wo(r.y,o.offset.y)),r}const iS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Co=()=>({x:iS(),y:iS()}),sS=()=>({min:0,max:0}),Le=()=>({x:sS(),y:sS()}),bg={current:null},FR={current:!1};function d6(){if(FR.current=!0,!!Ny)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bg.current=e.matches;e.addEventListener("change",t),t()}else bg.current=!1}const m6=new WeakMap;function p6(e,t,n){for(const r in t){const o=t[r],u=n[r];if(rn(o))e.addValue(r,o);else if(rn(u))e.addValue(r,Bo(o,{owner:e}));else if(u!==o)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(r);e.addValue(r,Bo(c!==void 0?c:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const rS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class g6{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$y,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=En.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ue.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Jf(n),this.isVariantNode=IR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in E){const V=E[S];p[S]!==void 0&&rn(V)&&V.set(p[S])}}mount(t){this.current=t,m6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),FR.current||d6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),br(this.notifyUpdate),br(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Jo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in jo){const n=jo[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rS.length;r++){const o=rS[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=p6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Bo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(P1(r)||L1(r))?r=parseFloat(r):!SL(r)&&wr.test(n)&&(r=_R(t,n)),this.setBaseTarget(t,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=o_(this.props,n,this.presenceContext?.custom);u&&(r=u[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!rn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Uy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Jy.render(this.render)}}class HR extends g6{constructor(){super(...arguments),this.KeyframeResolver=hL}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GR(e,{style:t,vars:n},r,o){const u=e.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in n)u.setProperty(c,n[c])}function y6(e){return window.getComputedStyle(e)}class _6 extends HR{constructor(){super(...arguments),this.type="html",this.renderInstance=GR}readValueFromInstance(t,n){if(Jo.has(n))return this.projection?.isProjecting?pg(n):Vk(t,n);{const r=y6(t),o=(jy(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return qR(t,n)}build(t,n,r){s_(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return l_(t,n,r)}}const KR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v6(e,t,n,r){GR(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(KR.has(o)?o:u_(o),t.attrs[o])}class T6 extends HR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Jo.has(n)){const r=yR(n);return r&&r.default||0}return n=KR.has(n)?n:u_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return PR(t,n,r)}build(t,n,r){MR(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,o){v6(t,n,r,o)}mount(t){this.isSVGTag=NR(t.tagName),super.mount(t)}}const E6=(e,t)=>a_(e)?new T6(t):new _6(t,{allowProjection:e!==at.Fragment});function No(e,t,n){const r=e.getProps();return o_(r,t,n!==void 0?n:r.custom,e)}const wg=e=>Array.isArray(e);function A6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bo(n))}function S6(e){return wg(e)?e[e.length-1]||0:e}function b6(e,t){const n=No(e,t);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const c in u){const m=S6(u[c]);A6(e,c,m)}}function w6(e){return!!(rn(e)&&e.add)}function Rg(e,t){const n=e.getValue("willChange");if(w6(n))return n.add(t);if(!n&&Rs.WillChange){const r=new Rs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function YR(e){return e.props[kR]}const R6=e=>e!==null;function C6(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(R6),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const I6={type:"spring",stiffness:500,damping:25,restSpeed:10},D6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),V6={type:"keyframes",duration:.8},M6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O6=(e,{keyframes:t})=>t.length>2?V6:Jo.has(e)?e.startsWith("scale")?D6(t[1]):I6:M6;function N6({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,..._}){return!!Object.keys(_).length}const c_=(e,t,n,r={},o,u)=>c=>{const m=Wy(r,e)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Hi(p);const _={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:S=>{t.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:e,motionValue:t,element:u?void 0:o};N6(m)||Object.assign(_,O6(e,_)),_.duration&&(_.duration=Hi(_.duration)),_.repeatDelay&&(_.repeatDelay=Hi(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let E=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(Tg(_),_.delay===0&&(E=!0)),(Rs.instantAnimations||Rs.skipAnimations)&&(E=!0,Tg(_),_.delay=0),_.allowFlatten=!m.type&&!m.ease,E&&!u&&t.get()!==void 0){const S=C6(_.keyframes,m);if(S!==void 0){ue.update(()=>{_.onUpdate(S),_.onComplete()});return}}return m.isSync?new Xy(_):new Jk(_)};function x6({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function QR(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const _ in m){const E=e.getValue(_,e.latestValues[_]??null),S=m[_];if(S===void 0||g&&x6(g,_))continue;const V={delay:n,...Wy(u||{},_)},L=E.get();if(L!==void 0&&!E.isAnimating&&!Array.isArray(S)&&S===L&&!V.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const X=YR(e);if(X){const et=window.MotionHandoffAnimation(X,_,ue);et!==null&&(V.startTime=et,G=!0)}}Rg(e,_),E.start(c_(_,E,S,e.shouldReduceMotion&&mR.has(_)?{type:!1}:V,e,G));const F=E.animation;F&&p.push(F)}return c&&Promise.all(p).then(()=>{ue.update(()=>{c&&b6(e,c)})}),p}function XR(e,t,n,r=0,o=1){const u=Array.from(e).sort((g,_)=>g.sortNodePosition(_)).indexOf(t),c=e.size,m=(c-1)*r;return typeof n=="function"?n(u,c):o===1?u*r:m-u*r}function Cg(e,t,n={}){const r=No(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(QR(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=o;return P6(e,t,p,g,_,E,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function P6(e,t,n=0,r=0,o=0,u=1,c){const m=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),m.push(Cg(p,t,{...c,delay:n+(typeof r=="function"?0:r)+XR(e.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function k6(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Cg(e,u,n));r=Promise.all(o)}else if(typeof t=="string")r=Cg(e,t,n);else{const o=typeof t=="function"?No(e,t,n.custom):t;r=Promise.all(QR(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function $R(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const L6=i_.length;function WR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?WR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<L6;n++){const r=i_[n],o=e.props[r];(Uu(o)||o===!1)&&(t[r]=o)}return t}const U6=[...n_].reverse(),z6=n_.length;function B6(e){return t=>Promise.all(t.map(({animation:n,options:r})=>k6(e,n,r)))}function j6(e){let t=B6(e),n=aS(),r=!0;const o=p=>(g,_)=>{const E=No(e,_,p==="exit"?e.presenceContext?.custom:void 0);if(E){const{transition:S,transitionEnd:V,...L}=E;g={...g,...L,...V}}return g};function u(p){t=p(e)}function c(p){const{props:g}=e,_=WR(e.parent)||{},E=[],S=new Set;let V={},L=1/0;for(let F=0;F<z6;F++){const X=U6[F],et=n[X],J=g[X]!==void 0?g[X]:_[X],ht=Uu(J),rt=X===p?et.isActive:null;rt===!1&&(L=F);let ot=J===_[X]&&J!==g[X]&&ht;if(ot&&r&&e.manuallyAnimateOnMount&&(ot=!1),et.protectedKeys={...V},!et.isActive&&rt===null||!J&&!et.prevProp||Zf(J)||typeof J=="boolean")continue;const R=q6(et.prevProp,J);let w=R||X===p&&et.isActive&&!ot&&ht||F>L&&ht,C=!1;const N=Array.isArray(J)?J:[J];let M=N.reduce(o(X),{});rt===!1&&(M={});const{prevResolvedValues:k={}}=et,I={...k,...M},te=nt=>{w=!0,S.has(nt)&&(C=!0,S.delete(nt)),et.needsAnimating[nt]=!0;const ft=e.getValue(nt);ft&&(ft.liveStyle=!1)};for(const nt in I){const ft=M[nt],Ct=k[nt];if(V.hasOwnProperty(nt))continue;let Nt=!1;wg(ft)&&wg(Ct)?Nt=!$R(ft,Ct):Nt=ft!==Ct,Nt?ft!=null?te(nt):S.add(nt):ft!==void 0&&S.has(nt)?te(nt):et.protectedKeys[nt]=!0}et.prevProp=J,et.prevResolvedValues=M,et.isActive&&(V={...V,...M}),r&&e.blockInitialAnimation&&(w=!1);const fe=ot&&R;w&&(!fe||C)&&E.push(...N.map(nt=>{const ft={type:X};if(typeof nt=="string"&&r&&!fe&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ct}=e,Nt=No(Ct,nt);if(Ct.enteringChildren&&Nt){const{delayChildren:x}=Nt.transition||{};ft.delay=XR(Ct.enteringChildren,e,x)}}return{animation:nt,options:ft}}))}if(S.size){const F={};if(typeof g.initial!="boolean"){const X=No(e,Array.isArray(g.initial)?g.initial[0]:g.initial);X&&X.transition&&(F.transition=X.transition)}S.forEach(X=>{const et=e.getBaseTarget(X),J=e.getValue(X);J&&(J.liveStyle=!0),F[X]=et??null}),E.push({animation:F})}let G=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(G=!1),r=!1,G?t(E):Promise.resolve()}function m(p,g){if(n[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),n[p].isActive=g;const _=c(p);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=aS()}}}function q6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$R(t,e):!1}function ra(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aS(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class Cr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class F6 extends Cr{constructor(t){super(t),t.animationState||(t.animationState=j6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let H6=0;class G6 extends Cr{constructor(){super(...arguments),this.id=H6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const K6={animation:{Feature:F6},exit:{Feature:G6}};function Bu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ju(e){return{point:{x:e.pageX,y:e.pageY}}}const Y6=e=>t=>t_(t)&&e(t,Ju(t));function Eu(e,t,n,r){return Bu(e,t,Y6(n),r)}const ZR=1e-4,Q6=1-ZR,X6=1+ZR,JR=.01,$6=0-JR,W6=0+JR;function hn(e){return e.max-e.min}function Z6(e,t,n){return Math.abs(e-t)<=n}function oS(e,t,n,r=.5){e.origin=r,e.originPoint=ce(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=ce(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Q6&&e.scale<=X6||isNaN(e.scale))&&(e.scale=1),(e.translate>=$6&&e.translate<=W6||isNaN(e.translate))&&(e.translate=0)}function Au(e,t,n,r){oS(e.x,t.x,n.x,r?r.originX:void 0),oS(e.y,t.y,n.y,r?r.originY:void 0)}function lS(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function J6(e,t,n){lS(e.x,t.x,n.x),lS(e.y,t.y,n.y)}function uS(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function If(e,t,n){uS(e.x,t.x,n.x),uS(e.y,t.y,n.y)}function Hn(e){return[e("x"),e("y")]}const tC=({current:e})=>e?e.ownerDocument.defaultView:null,cS=(e,t)=>Math.abs(e-t);function t3(e,t){const n=cS(e.x,t.x),r=cS(e.y,t.y);return Math.sqrt(n**2+r**2)}class eC{constructor(t,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Op(this.lastMoveEventInfo,this.history),V=this.startEvent!==null,L=t3(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!V&&!L)return;const{point:G}=S,{timestamp:F}=$e;this.history.push({...G,timestamp:F});const{onStart:X,onMove:et}=this.handlers;V||(X&&X(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),et&&et(this.lastMoveEvent,S)},this.handlePointerMove=(S,V)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Mp(V,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(S,V)=>{this.end();const{onEnd:L,onSessionEnd:G,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const X=Op(S.type==="pointercancel"?this.lastMoveEventInfo:Mp(V,this.transformPagePoint),this.history);this.startEvent&&L&&L(S,X),G&&G(S,X)},!t_(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=Ju(t),p=Mp(m,this.transformPagePoint),{point:g}=p,{timestamp:_}=$e;this.history=[{...g,timestamp:_}];const{onSessionStart:E}=n;E&&E(t,Op(p,this.history)),this.removeListeners=$u(Eu(this.contextWindow,"pointermove",this.handlePointerMove),Eu(this.contextWindow,"pointerup",this.handlePointerUp),Eu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),br(this.updatePoint)}}function Mp(e,t){return t?{point:t(e.point)}:e}function hS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Op({point:e},t){return{point:e,delta:hS(e,nC(t)),offset:hS(e,e3(t)),velocity:n3(t,.1)}}function e3(e){return e[0]}function nC(e){return e[e.length-1]}function n3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=nC(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Hi(t)));)n--;if(!r)return{x:0,y:0};const u=Yn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function i3(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ce(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ce(n,e,r.max):Math.min(e,n)),e}function fS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function s3(e,{top:t,left:n,bottom:r,right:o}){return{x:fS(e.x,n,o),y:fS(e.y,t,r)}}function dS(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function r3(e,t){return{x:dS(e.x,t.x),y:dS(e.y,t.y)}}function a3(e,t){let n=.5;const r=hn(e),o=hn(t);return o>r?n=Pu(t.min,t.max-r,e.min):r>o&&(n=Pu(e.min,e.max-o,t.min)),ws(0,1,n)}function o3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ig=.35;function l3(e=Ig){return e===!1?e=0:e===!0&&(e=Ig),{x:mS(e,"left","right"),y:mS(e,"top","bottom")}}function mS(e,t,n){return{min:pS(e,t),max:pS(e,n)}}function pS(e,t){return typeof e=="number"?e:e[t]||0}const u3=new WeakMap;class c3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ju(E).point)},c=(E,S)=>{const{drag:V,dragPropagation:L,onDragStart:G}=this.getProps();if(V&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pL(V),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(X=>{let et=this.getAxisMotionValue(X).get()||0;if(Gi.test(et)){const{projection:J}=this.visualElement;if(J&&J.layout){const ht=J.layout.layoutBox[X];ht&&(et=hn(ht)*(parseFloat(et)/100))}}this.originPoint[X]=et}),G&&ue.postRender(()=>G(E,S)),Rg(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},m=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S;const{dragPropagation:V,dragDirectionLock:L,onDirectionLock:G,onDrag:F}=this.getProps();if(!V&&!this.openDragLock)return;const{offset:X}=S;if(L&&this.currentDirection===null){this.currentDirection=h3(X),this.currentDirection!==null&&G&&G(this.currentDirection);return}this.updateAxis("x",S.point,X),this.updateAxis("y",S.point,X),this.visualElement.render(),F&&F(E,S)},p=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S,this.stop(E,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Hn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:_}=this.getProps();this.panSession=new eC(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,distanceThreshold:r,contextWindow:tC(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&ue.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!zh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=i3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&bo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=s3(r.layoutBox,t):this.constraints=!1,this.elastic=l3(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Hn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=o3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!bo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=f6(r,o.root,this.visualElement.getTransformPagePoint());let c=r3(o.layout.layoutBox,u);if(n){const m=n(u6(c));this.hasMutatedConstraints=!!m,m&&(c=zR(m))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Hn(_=>{if(!zh(_,n,this.currentDirection))return;let E=p&&p[_]||{};c&&(E={min:0,max:0});const S=o?200:1e6,V=o?40:1e7,L={type:"inertia",velocity:r?t[_]:0,bounceStiffness:S,bounceDamping:V,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(_,L)});return Promise.all(g).then(m)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Rg(this.visualElement,t),r.start(c_(t,r,0,n,this.visualElement,!1))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Hn(n=>{const{drag:r}=this.getProps();if(!zh(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[n];u.set(t[n]-ce(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!bo(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Hn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=a3({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(c=>{if(!zh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(ce(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;u3.set(this.visualElement,this);const t=this.visualElement.current,n=Eu(t,"pointerdown",p=>{const{drag:g,dragListener:_=!0}=this.getProps();g&&_&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();bo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ue.read(r);const c=Bu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Hn(_=>{const E=this.getAxisMotionValue(_);E&&(this.originPoint[_]+=p[_].translate,E.set(E.get()+p[_].translate))}),this.visualElement.render())}));return()=>{c(),n(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Ig,dragMomentum:m=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function zh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function h3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class f3 extends Cr{constructor(t){super(t),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new c3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const gS=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class d3 extends Cr{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(t){this.session=new eC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:gS(t),onStart:gS(n),onMove:r,onEnd:(u,c)=>{delete this.session,o&&ue.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Eu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const au={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(vt.test(e))e=parseFloat(e);else return e;const n=yS(e,t.target.x),r=yS(e,t.target.y);return`${n}% ${r}%`}},m3={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=wr.parse(e);if(o.length>5)return r;const u=wr.createTransformer(e),c=typeof o[0]!="number"?1:0,m=n.x.scale*t.x,p=n.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=ce(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let Np=!1;class p3 extends at.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;LL(g3),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),Np&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),tf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,Np=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ue.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Jy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;Np=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function iC(e){const[t,n]=wR(),r=at.useContext(My);return Vt.jsx(p3,{...e,layoutGroup:r,switchLayoutGroup:at.useContext(LR),isPresent:t,safeToRemove:n})}const g3={borderRadius:{...au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:au,borderTopRightRadius:au,borderBottomLeftRadius:au,borderBottomRightRadius:au,boxShadow:m3};function y3(e,t,n){const r=rn(e)?e:Bo(e);return r.start(c_("",r,t,n)),r.animation}const _3=(e,t)=>e.depth-t.depth;class v3{constructor(){this.children=[],this.isDirty=!1}add(t){xy(this.children,t),this.isDirty=!0}remove(t){Py(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_3),this.isDirty=!1,this.children.forEach(t)}}function T3(e,t){const n=En.now(),r=({timestamp:o})=>{const u=o-n;u>=t&&(br(r),e(u-t))};return ue.setup(r,!0),()=>br(r)}const sC=["TopLeft","TopRight","BottomLeft","BottomRight"],E3=sC.length,_S=e=>typeof e=="string"?parseFloat(e):e,vS=e=>typeof e=="number"||vt.test(e);function A3(e,t,n,r,o,u){o?(e.opacity=ce(0,n.opacity??1,S3(r)),e.opacityExit=ce(t.opacity??1,0,b3(r))):u&&(e.opacity=ce(t.opacity??1,n.opacity??1,r));for(let c=0;c<E3;c++){const m=`border${sC[c]}Radius`;let p=TS(t,m),g=TS(n,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||vS(p)===vS(g)?(e[m]=Math.max(ce(_S(p),_S(g),r),0),(Gi.test(g)||Gi.test(p))&&(e[m]+="%")):e[m]=g}(t.rotate||n.rotate)&&(e.rotate=ce(t.rotate||0,n.rotate||0,r))}function TS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const S3=rC(0,.5,G1),b3=rC(.5,.95,Xn);function rC(e,t,n){return r=>r<e?0:r>t?1:n(Pu(e,t,r))}function ES(e,t){e.min=t.min,e.max=t.max}function li(e,t){ES(e.x,t.x),ES(e.y,t.y)}function AS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function SS(e,t,n,r,o){return e-=t,e=Cf(e,1/n,r),o!==void 0&&(e=Cf(e,1/o,r)),e}function w3(e,t=0,n=1,r=.5,o,u=e,c=e){if(Gi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=ce(u.min,u.max,r);e===u&&(m-=t),e.min=SS(e.min,t,n,m,o),e.max=SS(e.max,t,n,m,o)}function bS(e,t,[n,r,o],u,c){w3(e,t[n],t[r],t[o],t.scale,u,c)}const R3=["x","scaleX","originX"],C3=["y","scaleY","originY"];function wS(e,t,n,r){bS(e.x,t,R3,n?n.x:void 0,r?r.x:void 0),bS(e.y,t,C3,n?n.y:void 0,r?r.y:void 0)}function RS(e){return e.translate===0&&e.scale===1}function aC(e){return RS(e.x)&&RS(e.y)}function CS(e,t){return e.min===t.min&&e.max===t.max}function I3(e,t){return CS(e.x,t.x)&&CS(e.y,t.y)}function IS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function oC(e,t){return IS(e.x,t.x)&&IS(e.y,t.y)}function DS(e){return hn(e.x)/hn(e.y)}function VS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class D3{constructor(){this.members=[]}add(t){xy(this.members,t),t.scheduleRender()}remove(t){if(Py(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function V3(e,t,n){let r="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=n?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:_,rotateX:E,rotateY:S,skewX:V,skewY:L}=n;g&&(r=`perspective(${g}px) ${r}`),_&&(r+=`rotate(${_}deg) `),E&&(r+=`rotateX(${E}deg) `),S&&(r+=`rotateY(${S}deg) `),V&&(r+=`skewX(${V}deg) `),L&&(r+=`skewY(${L}deg) `)}const m=e.x.scale*t.x,p=e.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const xp=["","X","Y","Z"],M3=1e3;let O3=0;function Pp(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function lC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=YR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(o||u))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&lC(r)}function uC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=O3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(P3),this.nodes.forEach(z3),this.nodes.forEach(B3),this.nodes.forEach(k3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new v3)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Uy),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=bR(c)&&!EL(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),e){let _,E=0;const S=()=>this.root.updateBlockedByResize=!1;ue.read(()=>{E=window.innerWidth}),e(c,()=>{const V=window.innerWidth;V!==E&&(E=V,this.root.updateBlockedByResize=!0,_&&_(),_=T3(S,250),tf.hasAnimatedSinceResize&&(tf.hasAnimatedSinceResize=!1,this.nodes.forEach(NS)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:V})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||G3,{onLayoutAnimationStart:G,onLayoutAnimationComplete:F}=g.getProps(),X=!this.targetLayout||!oC(this.targetLayout,V),et=!E&&S;if(this.options.layoutRoot||this.resumeFrom||et||E&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const J={...Wy(L,"layout"),onPlay:G,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J),this.setAnimationOrigin(_,et)}else E||NS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=V})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const E=this.path[_];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(OS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(U3),this.nodes.forEach(N3),this.nodes.forEach(x3)):this.nodes.forEach(OS),this.clearAllSnapshots();const m=En.now();$e.delta=ws(0,1e3/60,m-$e.timestamp),$e.timestamp=m,$e.isProcessing=!0,Sp.update.process($e),Sp.preRender.process($e),Sp.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Jy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(L3),this.sharedNodes.forEach(q3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!aC(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,_=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||oa(this.latestValues)||_)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),K3(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Le();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Y3))){const{scroll:g}=this.root;g&&(wo(m.x,g.offset.x),wo(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Le();if(li(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&li(m,c),wo(m.x,_.offset.x),wo(m.y,_.offset.y))}return m}applyTransform(c,m=!1){const p=Le();li(p,c);for(let g=0;g<this.path.length;g++){const _=this.path[g];!m&&_.options.layoutScroll&&_.scroll&&_!==_.root&&Ro(p,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),oa(_.latestValues)&&Ro(p,_.latestValues)}return oa(this.latestValues)&&Ro(p,this.latestValues),p}removeTransform(c){const m=Le();li(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!oa(g.latestValues))continue;Ag(g.latestValues)&&g.updateSnapshot();const _=Le(),E=g.measurePageBox();li(_,E),wS(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,_)}return oa(this.latestValues)&&wS(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!this.layout||!(_||E))return;this.resolvedRelativeTargetAt=$e.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),jR(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ag(this.parent.latestValues)||BR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),If(this.relativeTargetOrigin,m,p),li(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;li(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;h6(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Le());const{target:V}=c;if(!V){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(AS(this.prevProjectionDelta.x,this.projectionDelta.x),AS(this.prevProjectionDelta.y,this.projectionDelta.y)),Au(this.projectionDelta,this.layoutCorrected,V,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!VS(this.projectionDelta.x,this.prevProjectionDelta.x)||!VS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",V))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Co(),this.projectionDelta=Co(),this.projectionDeltaWithTransform=Co()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},_={...this.latestValues},E=Co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=Le(),V=p?p.source:void 0,L=this.layout?this.layout.source:void 0,G=V!==L,F=this.getStack(),X=!F||F.members.length<=1,et=!!(G&&!X&&this.options.crossfade===!0&&!this.path.some(H3));this.animationProgress=0;let J;this.mixTargetDelta=ht=>{const rt=ht/1e3;xS(E.x,c.x,rt),xS(E.y,c.y,rt),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(If(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),F3(this.relativeTarget,this.relativeTargetOrigin,S,rt),J&&I3(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=Le()),li(J,this.relativeTarget)),G&&(this.animationValues=_,A3(_,g,this.latestValues,rt,et,X)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{tf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bo(0)),this.currentAnimation=y3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(M3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:_}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&cC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Le();const E=hn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const S=hn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}li(m,p),Ro(m,_),Au(this.projectionDeltaWithTransform,this.layoutCorrected,m,_)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new D3),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&Pp("z",c,g,this.animationValues);for(let _=0;_<xp.length;_++)Pp(`rotate${xp[_]}`,c,g,this.animationValues),Pp(`skew${xp[_]}`,c,g,this.animationValues);c.render();for(const _ in g)c.setStaticValue(_,g[_]),this.animationValues&&(this.animationValues[_]=g[_]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Jh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Jh(m?.pointerEvents)||""),this.hasProjected&&!oa(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const _=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=V3(this.projectionDeltaWithTransform,this.treeScale,_);p&&(E=p(_,E)),c.transform=E;const{x:S,y:V}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${V.origin*100}% 0`,g.animationValues?c.opacity=g===this?_.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:c.opacity=g===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const L in zu){if(_[L]===void 0)continue;const{correct:G,applyTo:F,isCSSVariable:X}=zu[L],et=E==="none"?_[L]:G(_[L],g);if(F){const J=F.length;for(let ht=0;ht<J;ht++)c[F[ht]]=et}else X?this.options.visualElement.renderState.vars[L]=et:c[L]=et}this.options.layoutId&&(c.pointerEvents=g===this?Jh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(MS),this.root.sharedNodes.clear()}}}function N3(e){e.updateLayout()}function x3(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?Hn(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],S=hn(E);E.min=n[_].min,E.max=E.min+S}):cC(o,t.layoutBox,n)&&Hn(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],S=hn(n[_]);E.max=E.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+S)});const c=Co();Au(c,n,t.layoutBox);const m=Co();u?Au(m,e.applyTransform(r,!0),t.measuredBox):Au(m,n,t.layoutBox);const p=!aC(c);let g=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:S}=_;if(E&&S){const V=Le();If(V,t.layoutBox,E.layoutBox);const L=Le();If(L,n,S.layoutBox),oC(V,L)||(g=!0),_.options.layoutRoot&&(e.relativeTarget=L,e.relativeTargetOrigin=V,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function P3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function k3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function L3(e){e.clearSnapshot()}function MS(e){e.clearMeasurements()}function OS(e){e.isLayoutDirty=!1}function U3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function NS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function z3(e){e.resolveTargetDelta()}function B3(e){e.calcProjection()}function j3(e){e.resetSkewAndRotation()}function q3(e){e.removeLeadSnapshot()}function xS(e,t,n){e.translate=ce(t.translate,0,n),e.scale=ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function PS(e,t,n,r){e.min=ce(t.min,n.min,r),e.max=ce(t.max,n.max,r)}function F3(e,t,n,r){PS(e.x,t.x,n.x,r),PS(e.y,t.y,n.y,r)}function H3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const G3={duration:.45,ease:[.4,0,.1,1]},kS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),LS=kS("applewebkit/")&&!kS("chrome/")?Math.round:Xn;function US(e){e.min=LS(e.min),e.max=LS(e.max)}function K3(e){US(e.x),US(e.y)}function cC(e,t,n){return e==="position"||e==="preserve-aspect"&&!Z6(DS(t),DS(n),.2)}function Y3(e){return e!==e.root&&e.scroll?.wasRoot}const Q3=uC({attachResizeListener:(e,t)=>Bu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kp={current:void 0},hC=uC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kp.current){const e=new Q3({});e.mount(window),e.setOptions({layoutScroll:!0}),kp.current=e}return kp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),X3={pan:{Feature:d3},drag:{Feature:f3,ProjectionNode:hC,MeasureLayout:iC}};function zS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&ue.postRender(()=>u(t,Ju(t)))}class $3 extends Cr{mount(){const{current:t}=this.node;t&&(this.unmount=gL(t,(n,r)=>(zS(this.node,r,"Start"),o=>zS(this.node,o,"End"))))}unmount(){}}class W3 extends Cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(Bu(this.node.current,"focus",()=>this.onFocus()),Bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BS(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&ue.postRender(()=>u(t,Ju(t)))}class Z3 extends Cr{mount(){const{current:t}=this.node;t&&(this.unmount=TL(t,(n,r)=>(BS(this.node,r,"Start"),(o,{success:u})=>BS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dg=new WeakMap,Lp=new WeakMap,J3=e=>{const t=Dg.get(e.target);t&&t(e)},tU=e=>{e.forEach(J3)};function eU({root:e,...t}){const n=e||document;Lp.has(n)||Lp.set(n,{});const r=Lp.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(tU,{root:e,...t})),r[o]}function nU(e,t,n){const r=eU(t);return Dg.set(e,n),r.observe(e),()=>{Dg.delete(e),r.unobserve(e)}}const iU={some:0,all:1};class sU extends Cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:iU[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:_,onViewportLeave:E}=this.node.getProps(),S=g?_:E;S&&S(p)};return nU(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(rU(t,n))&&this.startObserver()}unmount(){}}function rU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const aU={inView:{Feature:sU},tap:{Feature:Z3},focus:{Feature:W3},hover:{Feature:$3}},oU={layout:{ProjectionNode:hC,MeasureLayout:iC}},lU={...K6,...aU,...X3,...oU},uU=l6(lU,E6);function cU({onLogin:e}){const[t,n]=at.useState(!1),[r,o]=at.useState(null),u=async()=>{n(!0),o(null);try{await gV(ps),e&&e()}catch(c){console.error("Login failed",c),c.code==="auth/operation-not-allowed"?o("Anonymous auth is not enabled in Firebase Console. Go to Build > Authentication > Sign-in method."):o("Failed to sign in: "+c.message)}finally{n(!1)}};return Vt.jsxs("div",{className:"card fade-in",style:{textAlign:"center",marginTop:"50px"},children:[Vt.jsx("h2",{style:{marginBottom:"20px"},children:"Hour Journal"}),Vt.jsx("p",{style:{color:"#8b949e",marginBottom:"30px"},children:"Track your day, one hour at a time."}),r&&Vt.jsx("p",{style:{color:"#f85149",marginBottom:"20px"},children:r}),Vt.jsx("button",{className:"primary",onClick:u,disabled:t,children:t?"Starting...":"Start Journaling"})]})}function hU(){const[e,t]=at.useState(""),[n,r]=at.useState(!1),[o,u]=at.useState([]),[c,m]=at.useState("default");at.useEffect(()=>{if(!ps.currentUser)return;const _=Yx(yp($h,"users",ps.currentUser.uid,"entries"),Qx("createdAt","desc"),Xx(5)),E=Jx(_,S=>{const V=S.docs.map(L=>({id:L.id,...L.data()}));u(V)});return()=>E()},[]);const p=async()=>{try{const _=await Notification.requestPermission();if(m(_),_==="granted"){const E=await C4(N1,{});console.log("FCM Token:",E),ps.currentUser&&E&&await gA(yp($h,"users",ps.currentUser.uid,"tokens"),{token:E,createdAt:yA()})}}catch(_){console.error("Notification permission error:",_)}},g=async()=>{if(e.trim()){r(!0);try{await gA(yp($h,"users",ps.currentUser.uid,"entries"),{text:e,createdAt:yA()}),t("")}catch(_){console.error("Error saving entry:",_),alert("Failed to save entry")}finally{r(!1)}}};return Vt.jsxs("div",{className:"fade-in",children:[Vt.jsxs("div",{className:"card",children:[Vt.jsx("h2",{style:{marginTop:0},children:"What did you do last hour?"}),Vt.jsx("textarea",{value:e,onChange:_=>t(_.target.value),placeholder:"I built a cool feature...",autoFocus:!0}),Vt.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"16px"},children:[Vt.jsx("button",{onClick:p,style:{backgroundColor:"transparent",color:c==="granted"?"#238636":"#8b949e",border:"1px solid #30363d"},children:c==="granted"?"Notifications Active":"Enable Notifications"}),Vt.jsx("button",{className:"primary",onClick:g,disabled:n,children:n?"Saving...":"Save"})]})]}),Vt.jsxs("div",{style:{marginTop:"32px"},children:[Vt.jsx("h3",{style:{color:"#8b949e",fontSize:"1rem"},children:"Recent Entries"}),Vt.jsx(VL,{children:o.map(_=>Vt.jsxs(uU.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"card",style:{padding:"16px"},children:[Vt.jsx("div",{style:{fontSize:"0.85rem",color:"#8b949e",marginBottom:"8px"},children:_.createdAt?.toDate().toLocaleString()}),Vt.jsx("div",{style:{whiteSpace:"pre-wrap"},children:_.text})]},_.id))})]})]})}function fU(){const[e,t]=at.useState(null),[n,r]=at.useState(!0);return ps?(at.useEffect(()=>{const o=AV(ps,u=>{t(u),r(!1)});return()=>o()},[]),n?Vt.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"50px"},children:"Loading..."}):Vt.jsx("div",{className:"App",children:e?Vt.jsx(hU,{}):Vt.jsx(cU,{onLogin:()=>{}})})):Vt.jsxs("div",{style:{color:"white",textAlign:"center",marginTop:"50px",padding:"20px"},children:[Vt.jsx("h2",{children:"Configuration Error"}),Vt.jsx("p",{children:"Firebase configuration is missing."}),Vt.jsxs("p",{children:["Please create a ",Vt.jsx("code",{children:".env"})," file in the project root with your Firebase credentials."]}),Vt.jsxs("p",{children:["See ",Vt.jsx("code",{children:".env.example"})," for the required format."]})]})}WI.createRoot(document.getElementById("root")).render(Vt.jsx(at.StrictMode,{children:Vt.jsx(fU,{})}));
